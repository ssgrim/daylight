"use strict";var UD=Object.create;var Ri=Object.defineProperty;var FD=Object.getOwnPropertyDescriptor;var jD=Object.getOwnPropertyNames;var $D=Object.getPrototypeOf,HD=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(e&&(t=e(e=0)),t);var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),et=(e,t)=>{for(var r in t)Ri(e,r,{get:t[r],enumerable:!0})},Gh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jD(t))!HD.call(e,o)&&o!==r&&Ri(e,o,{get:()=>t[o],enumerable:!(n=FD(t,o))||n.enumerable});return e};var E=(e,t,r)=>(r=e!=null?UD($D(e)):{},Gh(t||!e||!e.__esModule?Ri(r,"default",{value:e,enumerable:!0}):r,e)),j=e=>Gh(Ri({},"__esModule",{value:!0}),e);var ft=v((w9,Zh)=>{var Oi=Object.defineProperty,qD=Object.getOwnPropertyDescriptor,GD=Object.getOwnPropertyNames,zD=Object.prototype.hasOwnProperty,Ni=(e,t)=>Oi(e,"name",{value:t,configurable:!0}),VD=(e,t)=>{for(var r in t)Oi(e,r,{get:t[r],enumerable:!0})},WD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GD(t))!zD.call(e,o)&&o!==r&&Oi(e,o,{get:()=>t[o],enumerable:!(n=qD(t,o))||n.enumerable});return e},KD=e=>WD(Oi({},"__esModule",{value:!0}),e),zh={};VD(zh,{AlgorithmId:()=>Jh,EndpointURLScheme:()=>Kh,FieldPosition:()=>Yh,HttpApiKeyAuthLocation:()=>Wh,HttpAuthLocation:()=>Vh,IniSectionType:()=>Xh,RequestHandlerProtocol:()=>Qh,SMITHY_CONTEXT_KEY:()=>ZD,getDefaultClientConfiguration:()=>XD,resolveDefaultRuntimeConfig:()=>QD});Zh.exports=KD(zh);var Vh=(e=>(e.HEADER="header",e.QUERY="query",e))(Vh||{}),Wh=(e=>(e.HEADER="header",e.QUERY="query",e))(Wh||{}),Kh=(e=>(e.HTTP="http",e.HTTPS="https",e))(Kh||{}),Jh=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(Jh||{}),JD=Ni(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),YD=Ni(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),XD=Ni(e=>JD(e),"getDefaultClientConfiguration"),QD=Ni(e=>YD(e),"resolveDefaultRuntimeConfig"),Yh=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Yh||{}),ZD="__smithy_context",Xh=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Xh||{}),Qh=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Qh||{})});var tt=v((C9,ng)=>{var Di=Object.defineProperty,ek=Object.getOwnPropertyDescriptor,tk=Object.getOwnPropertyNames,rk=Object.prototype.hasOwnProperty,tg=(e,t)=>Di(e,"name",{value:t,configurable:!0}),nk=(e,t)=>{for(var r in t)Di(e,r,{get:t[r],enumerable:!0})},ok=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tk(t))!rk.call(e,o)&&o!==r&&Di(e,o,{get:()=>t[o],enumerable:!(n=ek(t,o))||n.enumerable});return e},sk=e=>ok(Di({},"__esModule",{value:!0}),e),rg={};nk(rg,{getSmithyContext:()=>ik,normalizeProvider:()=>ak});ng.exports=sk(rg);var eg=ft(),ik=tg(e=>e[eg.SMITHY_CONTEXT_KEY]||(e[eg.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),ak=tg(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});function Ln(e){return og.includes(e)}var Mo,og,ki=y(()=>{Mo="preferred",og=["disabled","preferred","required"]});var sg,ck,ig=y(()=>{sg=E(tt());ki();ck=e=>{let{accountIdEndpointMode:t}=e,r=(0,sg.normalizeProvider)(t??Mo);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Ln(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var ag,cg,dg,lg,dk,ug=y(()=>{ki();ag="Invalid AccountIdEndpointMode value",cg=e=>{throw new Error(e)},dg="AWS_ACCOUNT_ID_ENDPOINT_MODE",lg="account_id_endpoint_mode",dk={environmentVariableSelector:e=>{let t=e[dg];return t&&!Ln(t)&&cg(ag),t},configFileSelector:e=>{let t=e[lg];return t&&!Ln(t)&&cg(ag),t},default:Mo}});var Al={};et(Al,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>og,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>lg,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>Mo,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>dg,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>dk,resolveAccountIdEndpointModeConfig:()=>ck,validateAccountIdEndpointMode:()=>Ln});var Rl=y(()=>{ig();ki();ug()});var ee=v((D9,gg)=>{var Mi=Object.defineProperty,lk=Object.getOwnPropertyDescriptor,uk=Object.getOwnPropertyNames,pk=Object.prototype.hasOwnProperty,fr=(e,t)=>Mi(e,"name",{value:t,configurable:!0}),mk=(e,t)=>{for(var r in t)Mi(e,r,{get:t[r],enumerable:!0})},fk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uk(t))!pk.call(e,o)&&o!==r&&Mi(e,o,{get:()=>t[o],enumerable:!(n=lk(t,o))||n.enumerable});return e},hk=e=>fk(Mi({},"__esModule",{value:!0}),e),pg={};mk(pg,{Field:()=>_k,Fields:()=>Ek,HttpRequest:()=>Sk,HttpResponse:()=>vk,IHttpRequest:()=>mg.HttpRequest,getHttpHandlerExtensionConfiguration:()=>gk,isValidHostname:()=>hg,resolveHttpHandlerRuntimeConfig:()=>yk});gg.exports=hk(pg);var gk=fr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),yk=fr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),mg=ft(),_k=class{static{fr(this,"Field")}constructor({name:e,kind:t=mg.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},Ek=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{fr(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},Sk=class Ol{static{fr(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new Ol({...t,headers:{...t.headers}});return r.query&&(r.query=fg(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Ol.clone(this)}};function fg(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}fr(fg,"cloneQuery");var vk=class{static{fr(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function hg(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}fr(hg,"isValidHostname")});var _g=v((B9,yg)=>{function Wt(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Wt.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(Wt.prototype[Symbol.iterator]=function(){return this});Wt.of=function(){var e=arguments,t=e.length,r=0;return new Wt(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};Wt.empty=function(){var e=new Wt(null);return e.done=!0,e};Wt.is=function(e){return e instanceof Wt?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};yg.exports=Wt});var Nl=v((U9,bg)=>{var Eg=typeof ArrayBuffer<"u",Sg=typeof Symbol<"u";function vg(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||Eg&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Sg&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}vg.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||Eg&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(c){t(c,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Sg&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};bg.exports=vg});var Dl=v(It=>{var bk=Math.pow(2,8)-1,wk=Math.pow(2,16)-1,Ck=Math.pow(2,32)-1,Tk=Math.pow(2,7)-1,xk=Math.pow(2,15)-1,Ik=Math.pow(2,31)-1;It.getPointerArray=function(e){var t=e-1;return t<=bk?Uint8Array:t<=wk?Uint16Array:t<=Ck?Uint32Array:Float64Array};It.getSignedPointerArray=function(e){var t=e-1;return t<=Tk?Int8Array:t<=xk?Int16Array:t<=Ik?Int32Array:Float64Array};It.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var Pk={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};It.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,c,l;for(c=0,l=e.length;c<l;c++)i=t?t(e[c]):e[c],s=It.getNumberType(i),o=Pk[s.name],o>n&&(n=o,r=s);return r};It.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};It.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};It.indices=function(e){for(var t=It.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var Tg=v(Lo=>{var wg=Nl(),Cg=Dl();function Ak(e){return Array.isArray(e)||Cg.isTypedArray(e)}function kl(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function Rk(e){var t=kl(e),r=typeof t=="number"?new Array(t):[],n=0;return wg(e,function(o){r[n++]=o}),r}function Ok(e){var t=kl(e),r=typeof t=="number"?Cg.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return wg(e,function(i){n[s]=i,o[s]=s++}),[n,o]}Lo.isArrayLike=Ak;Lo.guessLength=kl;Lo.toArray=Rk;Lo.toArrayWithIndices=Ok});var Ig=v(($9,xg)=>{var Ml=_g(),Nk=Nl(),Dk=Dl(),kk=Tg();function ue(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=Dk.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}ue.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};ue.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};ue.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};ue.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};ue.prototype.has=function(e){return e in this.items};ue.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};ue.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};ue.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,c=this.forward;r<n;)e.call(t,i[o],s[o],this),o=c[o],r++};ue.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new Ml(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};ue.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new Ml(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};ue.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new Ml(function(){if(e>=t)return{done:!0};var i=n[r],c=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,c]}})};typeof Symbol<"u"&&(ue.prototype[Symbol.iterator]=ue.prototype.entries);ue.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:ue,enumerable:!1}),e};typeof Symbol<"u"&&(ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=ue.prototype.inspect);ue.from=function(e,t,r,n){if(arguments.length<2){if(n=kk.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new ue(t,r,n);return Nk(e,function(s,i){o.set(i,s)}),o};xg.exports=ue});var Og=v((H9,Rg)=>{"use strict";var Mk=Object.create,Bo=Object.defineProperty,Lk=Object.getOwnPropertyDescriptor,Bk=Object.getOwnPropertyNames,Uk=Object.getPrototypeOf,Fk=Object.prototype.hasOwnProperty,jk=(e,t)=>Bo(e,"name",{value:t,configurable:!0}),$k=(e,t)=>{for(var r in t)Bo(e,r,{get:t[r],enumerable:!0})},Pg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bk(t))!Fk.call(e,o)&&o!==r&&Bo(e,o,{get:()=>t[o],enumerable:!(n=Lk(t,o))||n.enumerable});return e},Hk=(e,t,r)=>(r=e!=null?Mk(Uk(e)):{},Pg(t||!e||!e.__esModule?Bo(r,"default",{value:e,enumerable:!0}):r,e)),qk=e=>Pg(Bo({},"__esModule",{value:!0}),e),Ag={};$k(Ag,{EndpointCache:()=>zk});Rg.exports=qk(Ag);var Gk=Hk(Ig()),zk=class{static{jk(this,"EndpointCache")}cache;constructor(e){this.cache=new Gk.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(o=>r<o.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:o})=>({Address:n,Expires:r+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var Ul=v((G9,Lg)=>{"use strict";var Li=Object.defineProperty,Vk=Object.getOwnPropertyDescriptor,Wk=Object.getOwnPropertyNames,Kk=Object.prototype.hasOwnProperty,We=(e,t)=>Li(e,"name",{value:t,configurable:!0}),Jk=(e,t)=>{for(var r in t)Li(e,r,{get:t[r],enumerable:!0})},Yk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Wk(t))!Kk.call(e,o)&&o!==r&&Li(e,o,{get:()=>t[o],enumerable:!(n=Vk(t,o))||n.enumerable});return e},Xk=e=>Yk(Li({},"__esModule",{value:!0}),e),Mg={};Jk(Mg,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>Qk,endpointDiscoveryMiddlewareOptions:()=>Bi,getEndpointDiscoveryOptionalPlugin:()=>nM,getEndpointDiscoveryPlugin:()=>tM,getEndpointDiscoveryRequiredPlugin:()=>rM,resolveEndpointDiscoveryConfig:()=>sM});Lg.exports=Xk(Mg);var Ng=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Ll="endpoint_discovery_enabled",Dg=We(e=>["false","0"].indexOf(e)>=0,"isFalsy"),Qk={environmentVariableSelector:We(e=>{for(let t=0;t<Ng.length;t++){let r=Ng[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!Dg(n)}}},"environmentVariableSelector"),configFileSelector:We(e=>{if(Ll in e){let t=e[Ll];if(t===void 0)throw Error(`Shared config entry ${Ll} can't be undefined, got "${t}"`);return!Dg(t)}},"configFileSelector"),default:void 0},Zk=ee(),eM=We(async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,c])=>({...s,[i]:c}),{})}})},"getCacheKey"),Kt={},kg=We(async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:c}=t,l=o.get(s);if(l&&l.length===1&&l[0].Address==="")t.isDiscoveredEndpointRequired?(Kt[s]||(Kt[s]=[]),Kt[s].push({resolve:r,reject:n})):r();else if(l&&l.length>0)r();else{let u=[{Address:"",CachePeriodInMinutes:1}];o.set(s,u);let p=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:c});p.resolveMiddleware(t.clientStack,e,t.options)(p).then(f=>{o.set(s,f.output.Endpoints),Kt[s]&&(Kt[s].forEach(({resolve:h})=>{h()}),delete Kt[s]),r()}).catch(f=>{o.delete(s);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:f});Kt[s]&&(Kt[s].forEach(({reject:g})=>{g(h)}),delete Kt[s]),t.isDiscoveredEndpointRequired?n(h):(o.set(s,u),r())})}}),"updateDiscoveredEndpointInCache"),Bl=We((e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:c}=t,l=n.clientName,u=n.commandName,p=await e.endpointDiscoveryEnabled(),m=await eM(u,e,{identifiers:c});if(i){if(p===!1)throw new Error(`Endpoint Discovery is disabled but ${u} on ${l} requires it. Please check your configurations.`);await kg(e,{...t,commandName:u,cacheKey:m,endpointDiscoveryCommandCtor:s})}else p&&kg(e,{...t,commandName:u,cacheKey:m,endpointDiscoveryCommandCtor:s});let{request:f}=o;if(m&&Zk.HttpRequest.isInstance(f)){let h=e.endpointCache.getEndpoint(m);h&&(f.hostname=h)}return r(o)},"endpointDiscoveryMiddleware"),Bi={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},tM=We((e,t)=>({applyToStack:We(r=>{r.add(Bl(e,t),Bi)},"applyToStack")}),"getEndpointDiscoveryPlugin"),rM=We((e,t)=>({applyToStack:We(r=>{r.add(Bl(e,{...t,isDiscoveredEndpointRequired:!0}),Bi)},"applyToStack")}),"getEndpointDiscoveryRequiredPlugin"),nM=We((e,t)=>({applyToStack:We(r=>{r.add(Bl(e,{...t,isDiscoveredEndpointRequired:!1}),Bi)},"applyToStack")}),"getEndpointDiscoveryOptionalPlugin"),oM=Og(),sM=We((e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new oM.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})},"resolveEndpointDiscoveryConfig")});var Uo=v((z9,$g)=>{"use strict";var Fi=Object.defineProperty,iM=Object.getOwnPropertyDescriptor,aM=Object.getOwnPropertyNames,cM=Object.prototype.hasOwnProperty,Ui=(e,t)=>Fi(e,"name",{value:t,configurable:!0}),dM=(e,t)=>{for(var r in t)Fi(e,r,{get:t[r],enumerable:!0})},lM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aM(t))!cM.call(e,o)&&o!==r&&Fi(e,o,{get:()=>t[o],enumerable:!(n=iM(t,o))||n.enumerable});return e},uM=e=>lM(Fi({},"__esModule",{value:!0}),e),Bg={};dM(Bg,{getHostHeaderPlugin:()=>mM,hostHeaderMiddleware:()=>Fg,hostHeaderMiddlewareOptions:()=>jg,resolveHostHeaderConfig:()=>Ug});$g.exports=uM(Bg);var pM=ee();function Ug(e){return e}Ui(Ug,"resolveHostHeaderConfig");var Fg=Ui(e=>t=>async r=>{if(!pM.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),jg={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},mM=Ui(e=>({applyToStack:Ui(t=>{t.add(Fg(e),jg)},"applyToStack")}),"getHostHeaderPlugin")});var Fo=v((V9,zg)=>{"use strict";var ji=Object.defineProperty,fM=Object.getOwnPropertyDescriptor,hM=Object.getOwnPropertyNames,gM=Object.prototype.hasOwnProperty,Fl=(e,t)=>ji(e,"name",{value:t,configurable:!0}),yM=(e,t)=>{for(var r in t)ji(e,r,{get:t[r],enumerable:!0})},_M=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hM(t))!gM.call(e,o)&&o!==r&&ji(e,o,{get:()=>t[o],enumerable:!(n=fM(t,o))||n.enumerable});return e},EM=e=>_M(ji({},"__esModule",{value:!0}),e),Hg={};yM(Hg,{getLoggerPlugin:()=>SM,loggerMiddleware:()=>qg,loggerMiddlewareOptions:()=>Gg});zg.exports=EM(Hg);var qg=Fl(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=c,p=l??t.inputFilterSensitiveLog,m=u??t.outputFilterSensitiveLog,{$metadata:f,...h}=n.output;return i?.info?.({clientName:o,commandName:s,input:p(r.input),output:m(h),metadata:f}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l}=c,u=l??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:u(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),Gg={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},SM=Fl(e=>({applyToStack:Fl(t=>{t.add(qg(),Gg)},"applyToStack")}),"getLoggerPlugin")});var jo=v((W9,Jg)=>{"use strict";var Hi=Object.defineProperty,vM=Object.getOwnPropertyDescriptor,bM=Object.getOwnPropertyNames,wM=Object.prototype.hasOwnProperty,$i=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),CM=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},TM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bM(t))!wM.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=vM(t,o))||n.enumerable});return e},xM=e=>TM(Hi({},"__esModule",{value:!0}),e),Vg={};CM(Vg,{addRecursionDetectionMiddlewareOptions:()=>Kg,getRecursionDetectionPlugin:()=>RM,recursionDetectionMiddleware:()=>Wg});Jg.exports=xM(Vg);var IM=ee(),jl="X-Amzn-Trace-Id",PM="AWS_LAMBDA_FUNCTION_NAME",AM="_X_AMZN_TRACE_ID",Wg=$i(e=>t=>async r=>{let{request:n}=r;if(!IM.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(l=>l.toLowerCase()===jl.toLowerCase())??jl;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[PM],i=process.env[AM],c=$i(l=>typeof l=="string"&&l.length>0,"nonEmptyString");return c(s)&&c(i)&&(n.headers[jl]=i),t({...r,request:n})},"recursionDetectionMiddleware"),Kg={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},RM=$i(e=>({applyToStack:$i(t=>{t.add(Wg(e),Kg)},"applyToStack")}),"getRecursionDetectionPlugin")});var $l,OM,Yg=y(()=>{$l=E(ft()),OM=e=>e[$l.SMITHY_CONTEXT_KEY]||(e[$l.SMITHY_CONTEXT_KEY]={})});var Xg,Qg=y(()=>{Xg=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function NM(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var Y9,Zg,$o,qi=y(()=>{Y9=E(ft()),Zg=E(tt());Qg();$o=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],c=Xg(s,i),l=NM(e.httpAuthSchemes),u=(0,Zg.getSmithyContext)(n),p=[];for(let m of c){let f=l.get(m.schemeId);if(!f){p.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}let h=f.identityProvider(await t.identityProviderConfigProvider(e));if(!h){p.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:_={}}=m.propertiesExtractor?.(e,n)||{};m.identityProperties=Object.assign(m.identityProperties||{},g),m.signingProperties=Object.assign(m.signingProperties||{},_),u.selectedHttpAuthScheme={httpAuthOption:m,identity:await h(m.identityProperties),signer:f.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(o)}});var ey,Ho,ty=y(()=>{qi();ey={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Ho=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo($o(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ey)}})});var hr=v((r7,cy)=>{var Gi=Object.defineProperty,DM=Object.getOwnPropertyDescriptor,kM=Object.getOwnPropertyNames,MM=Object.prototype.hasOwnProperty,zi=(e,t)=>Gi(e,"name",{value:t,configurable:!0}),LM=(e,t)=>{for(var r in t)Gi(e,r,{get:t[r],enumerable:!0})},BM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kM(t))!MM.call(e,o)&&o!==r&&Gi(e,o,{get:()=>t[o],enumerable:!(n=DM(t,o))||n.enumerable});return e},UM=e=>BM(Gi({},"__esModule",{value:!0}),e),ry={};LM(ry,{deserializerMiddleware:()=>ny,deserializerMiddlewareOption:()=>sy,getSerdePlugin:()=>ay,serializerMiddleware:()=>oy,serializerMiddlewareOption:()=>iy});cy.exports=UM(ry);var FM=ee(),ny=zi((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+c}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(c):n.logger?.warn?.(c)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(FM.HttpResponse.isInstance(s)){let{headers:l={}}=s,u=Object.entries(l);i.$metadata={httpStatusCode:s.statusCode,requestId:Hl(/^x-[\w-]+-request-?id$/,u),extendedRequestId:Hl(/^x-[\w-]+-id-2$/,u),cfId:Hl(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},"deserializerMiddleware"),Hl=zi((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),oy=zi((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let c=await t(o.input,{...e,endpoint:i});return r({...o,request:c})},"serializerMiddleware"),sy={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},iy={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ay(e,t,r){return{applyToStack:n=>{n.add(ny(e,r),sy),n.add(oy(e,t),iy)}}}zi(ay,"getSerdePlugin")});var dy,ly,jM,uy=y(()=>{dy=E(hr());qi();ly={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:dy.serializerMiddlewareOption.name},jM=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo($o(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ly)}})});var py=y(()=>{qi();ty();uy()});var my,d7,fy,$M,HM,ql,Gl=y(()=>{my=E(ee()),d7=E(ft()),fy=E(tt()),$M=e=>t=>{throw t},HM=(e,t)=>{},ql=e=>(t,r)=>async n=>{if(!my.HttpRequest.isInstance(n.request))return t(n);let s=(0,fy.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:c,signer:l}=s,u=await t({...n,request:await l.sign(n.request,c,i)}).catch((l.errorHandler||$M)(i));return(l.successHandler||HM)(u.response,i),u}});var hy,qo,gy=y(()=>{Gl();hy={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},qo=e=>({applyToStack:t=>{t.addRelativeTo(ql(e),hy)}})});var yy=y(()=>{Gl();gy()});var gr,_y=y(()=>{gr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Ey(e,t,r,n,o){return async function*(i,c,...l){let u=c,p=i.startingToken??u[r],m=!0,f;for(;m;){if(u[r]=p,o&&(u[o]=u[o]??i.pageSize),i.client instanceof e)f=await qM(t,i.client,c,i.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield f;let h=p;p=GM(f,n),m=!!(p&&(!i.stopOnSameToken||p!==h))}return void 0}}var qM,GM,Sy=y(()=>{qM=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};GM=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var zl=v((E7,by)=>{var Vi=Object.defineProperty,zM=Object.getOwnPropertyDescriptor,VM=Object.getOwnPropertyNames,WM=Object.prototype.hasOwnProperty,KM=(e,t)=>Vi(e,"name",{value:t,configurable:!0}),JM=(e,t)=>{for(var r in t)Vi(e,r,{get:t[r],enumerable:!0})},YM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VM(t))!WM.call(e,o)&&o!==r&&Vi(e,o,{get:()=>t[o],enumerable:!(n=zM(t,o))||n.enumerable});return e},XM=e=>YM(Vi({},"__esModule",{value:!0}),e),vy={};JM(vy,{isArrayBuffer:()=>QM});by.exports=XM(vy);var QM=KM(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Bn=v((S7,Ty)=>{var Wi=Object.defineProperty,ZM=Object.getOwnPropertyDescriptor,eL=Object.getOwnPropertyNames,tL=Object.prototype.hasOwnProperty,wy=(e,t)=>Wi(e,"name",{value:t,configurable:!0}),rL=(e,t)=>{for(var r in t)Wi(e,r,{get:t[r],enumerable:!0})},nL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eL(t))!tL.call(e,o)&&o!==r&&Wi(e,o,{get:()=>t[o],enumerable:!(n=ZM(t,o))||n.enumerable});return e},oL=e=>nL(Wi({},"__esModule",{value:!0}),e),Cy={};rL(Cy,{fromArrayBuffer:()=>iL,fromString:()=>aL});Ty.exports=oL(Cy);var sL=zl(),Vl=require("buffer"),iL=wy((e,t=0,r=e.byteLength-t)=>{if(!(0,sL.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Vl.Buffer.from(e,t,r)},"fromArrayBuffer"),aL=wy((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Vl.Buffer.from(e,t):Vl.Buffer.from(e)},"fromString")});var xy=v(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.fromBase64=void 0;var cL=Bn(),dL=/^[A-Za-z0-9+/]*={0,2}$/,lL=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!dL.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,cL.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ki.fromBase64=lL});var we=v((b7,Ry)=>{var Ji=Object.defineProperty,uL=Object.getOwnPropertyDescriptor,pL=Object.getOwnPropertyNames,mL=Object.prototype.hasOwnProperty,Wl=(e,t)=>Ji(e,"name",{value:t,configurable:!0}),fL=(e,t)=>{for(var r in t)Ji(e,r,{get:t[r],enumerable:!0})},hL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pL(t))!mL.call(e,o)&&o!==r&&Ji(e,o,{get:()=>t[o],enumerable:!(n=uL(t,o))||n.enumerable});return e},gL=e=>hL(Ji({},"__esModule",{value:!0}),e),Iy={};fL(Iy,{fromUtf8:()=>Ay,toUint8Array:()=>yL,toUtf8:()=>_L});Ry.exports=gL(Iy);var Py=Bn(),Ay=Wl(e=>{let t=(0,Py.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),yL=Wl(e=>typeof e=="string"?Ay(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),_L=Wl(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,Py.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var Oy=v(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.toBase64=void 0;var EL=Bn(),SL=we(),vL=e=>{let t;if(typeof e=="string"?t=(0,SL.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,EL.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Yi.toBase64=vL});var De=v((C7,Xi)=>{var Ny=Object.defineProperty,bL=Object.getOwnPropertyDescriptor,wL=Object.getOwnPropertyNames,CL=Object.prototype.hasOwnProperty,Kl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wL(t))!CL.call(e,o)&&o!==r&&Ny(e,o,{get:()=>t[o],enumerable:!(n=bL(t,o))||n.enumerable});return e},Dy=(e,t,r)=>(Kl(e,t,"default"),r&&Kl(r,t,"default")),TL=e=>Kl(Ny({},"__esModule",{value:!0}),e),Jl={};Xi.exports=TL(Jl);Dy(Jl,xy(),Xi.exports);Dy(Jl,Oy(),Xi.exports)});var Xl=v(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.ChecksumStream=void 0;var xL=De(),IL=require("stream"),Yl=class extends IL.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,c;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(c=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&c!==void 0?c:n} in ChecksumStream.`);this.base64Encoder=s??xL.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Qi.ChecksumStream=Yl});var yr=v(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.isBlob=Un.isReadableStream=void 0;var PL=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Un.isReadableStream=PL;var AL=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Un.isBlob=AL});var ky=v(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ChecksumStream=void 0;var RL=typeof ReadableStream=="function"?ReadableStream:function(){},Ql=class extends RL{};Zi.ChecksumStream=Ql});var My=v(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.createChecksumStream=void 0;var OL=De(),NL=yr(),DL=ky(),kL=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,NL.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let c=o??OL.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let l=new TransformStream({start(){},async transform(p,m){t.update(p),m.enqueue(p)},async flush(p){let m=await t.digest(),f=c(m);if(e!==f){let h=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);p.error(h)}else p.terminate()}});r.pipeThrough(l);let u=l.readable;return Object.setPrototypeOf(u,DL.ChecksumStream.prototype),u};ea.createChecksumStream=kL});var Ly=v(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.createChecksumStream=UL;var ML=yr(),LL=Xl(),BL=My();function UL(e){return typeof ReadableStream=="function"&&(0,ML.isReadableStream)(e.source)?(0,BL.createChecksumStream)(e):new LL.ChecksumStream(e)}});var tu=v(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.ByteArrayCollector=void 0;var eu=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};ta.ByteArrayCollector=eu});var jy=v(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.createBufferedReadable=void 0;Jt.createBufferedReadableStream=By;Jt.merge=Uy;Jt.flush=ra;Jt.sizeOf=Fn;Jt.modeOf=Fy;var FL=tu();function By(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new FL.ByteArrayCollector(u=>new Uint8Array(u))],c=-1,l=async u=>{let{value:p,done:m}=await n.read(),f=p;if(m){if(c!==-1){let h=ra(i,c);Fn(h)>0&&u.enqueue(h)}u.close()}else{let h=Fy(f,!1);if(c!==h&&(c>=0&&u.enqueue(ra(i,c)),c=h),c===-1){u.enqueue(f);return}let g=Fn(f);s+=g;let _=Fn(i[c]);if(g>=t&&_===0)u.enqueue(f);else{let S=Uy(i,c,f);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),S>=t?u.enqueue(ra(i,c)):await l(u)}}};return new ReadableStream({pull:l})}Jt.createBufferedReadable=By;function Uy(e,t,r){switch(t){case 0:return e[0]+=r,Fn(e[0]);case 1:case 2:return e[t].push(r),Fn(e[t])}}function ra(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Fn(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function Fy(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var Hy=v(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.createBufferedReadable=HL;var jL=require("node:stream"),$y=tu(),Yt=jy(),$L=yr();function HL(e,t,r){if((0,$L.isReadableStream)(e))return(0,Yt.createBufferedReadableStream)(e,t,r);let n=new jL.Readable({read(){}}),o=!1,s=0,i=["",new $y.ByteArrayCollector(l=>new Uint8Array(l)),new $y.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],c=-1;return e.on("data",l=>{let u=(0,Yt.modeOf)(l,!0);if(c!==u&&(c>=0&&n.push((0,Yt.flush)(i,c)),c=u),c===-1){n.push(l);return}let p=(0,Yt.sizeOf)(l);s+=p;let m=(0,Yt.sizeOf)(i[c]);if(p>=t&&m===0)n.push(l);else{let f=(0,Yt.merge)(i,c,l);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),f>=t&&n.push((0,Yt.flush)(i,c))}}),e.on("end",()=>{if(c!==-1){let l=(0,Yt.flush)(i,c);(0,Yt.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var qy=v(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.getAwsChunkedEncodingStream=void 0;var qL=require("stream"),GL=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,c=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,l=c?i(o,e):void 0,u=new qL.Readable({read:()=>{}});return e.on("data",p=>{let m=n(p)||0;u.push(`${m.toString(16)}\r
`),u.push(p),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),c){let p=r(await l);u.push(`${s}:${p}\r
`),u.push(`\r
`)}u.push(null)}),u};na.getAwsChunkedEncodingStream=GL});var Gy=v(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.headStream=zL;async function zL(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:u,value:p}=await s.read();if(p&&(o.push(p),n+=(r=p?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=u}s.releaseLock();let c=new Uint8Array(Math.min(t,n)),l=0;for(let u of o){if(u.byteLength>c.byteLength-l){c.set(u.subarray(0,c.byteLength-l),l);break}else c.set(u,l);l+=u.length}return c}});var zy=v(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.headStream=void 0;var VL=require("stream"),WL=Gy(),KL=yr(),JL=(e,t)=>(0,KL.isReadableStream)(e)?(0,WL.headStream)(e,t):new Promise((r,n)=>{let o=new ou;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});oa.headStream=JL;var ou=class extends VL.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var iu=v((L7,Ky)=>{var sa=Object.defineProperty,YL=Object.getOwnPropertyDescriptor,XL=Object.getOwnPropertyNames,QL=Object.prototype.hasOwnProperty,su=(e,t)=>sa(e,"name",{value:t,configurable:!0}),ZL=(e,t)=>{for(var r in t)sa(e,r,{get:t[r],enumerable:!0})},eB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of XL(t))!QL.call(e,o)&&o!==r&&sa(e,o,{get:()=>t[o],enumerable:!(n=YL(t,o))||n.enumerable});return e},tB=e=>eB(sa({},"__esModule",{value:!0}),e),Vy={};ZL(Vy,{escapeUri:()=>Wy,escapeUriPath:()=>nB});Ky.exports=tB(Vy);var Wy=su(e=>encodeURIComponent(e).replace(/[!'()*]/g,rB),"escapeUri"),rB=su(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),nB=su(e=>e.split("/").map(Wy).join("/"),"escapeUriPath")});var cu=v((B7,Xy)=>{var ia=Object.defineProperty,oB=Object.getOwnPropertyDescriptor,sB=Object.getOwnPropertyNames,iB=Object.prototype.hasOwnProperty,aB=(e,t)=>ia(e,"name",{value:t,configurable:!0}),cB=(e,t)=>{for(var r in t)ia(e,r,{get:t[r],enumerable:!0})},dB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sB(t))!iB.call(e,o)&&o!==r&&ia(e,o,{get:()=>t[o],enumerable:!(n=oB(t,o))||n.enumerable});return e},lB=e=>dB(ia({},"__esModule",{value:!0}),e),Jy={};cB(Jy,{buildQueryString:()=>Yy});Xy.exports=lB(Jy);var au=iu();function Yy(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,au.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,au.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,au.escapeUri)(n)}`),t.push(o)}}return t.join("&")}aB(Yy,"buildQueryString")});var nn=v((U7,p_)=>{var uB=Object.create,Go=Object.defineProperty,pB=Object.getOwnPropertyDescriptor,mB=Object.getOwnPropertyNames,fB=Object.getPrototypeOf,hB=Object.prototype.hasOwnProperty,te=(e,t)=>Go(e,"name",{value:t,configurable:!0}),gB=(e,t)=>{for(var r in t)Go(e,r,{get:t[r],enumerable:!0})},r_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mB(t))!hB.call(e,o)&&o!==r&&Go(e,o,{get:()=>t[o],enumerable:!(n=pB(t,o))||n.enumerable});return e},yB=(e,t,r)=>(r=e!=null?uB(fB(e)):{},r_(t||!e||!e.__esModule?Go(r,"default",{value:e,enumerable:!0}):r,e)),_B=e=>r_(Go({},"__esModule",{value:!0}),e),n_={};gB(n_,{DEFAULT_REQUEST_TIMEOUT:()=>d_,NodeHttp2Handler:()=>PB,NodeHttpHandler:()=>CB,streamCollector:()=>RB});p_.exports=_B(n_);var o_=ee(),s_=cu(),du=require("http"),lu=require("https"),EB=["ECONNRESET","EPIPE","ETIMEDOUT"],i_=te(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),$e={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},Qy=1e3,SB=te((e,t,r=0)=>{if(!r)return-1;let n=te(o=>{let s=$e.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=te(c=>{c?.connecting?c.on("connect",()=>{$e.clearTimeout(s)}):$e.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):$e.setTimeout(n.bind(null,Qy),Qy)},"setConnectionTimeout"),vB=3e3,bB=te((e,{keepAlive:t,keepAliveMsecs:r},n=vB)=>{if(t!==!0)return-1;let o=te(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):$e.setTimeout(o,n)},"setSocketKeepAlive"),Zy=3e3,wB=te((e,t,r=d_)=>{let n=te(o=>{let s=r-o,i=te(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):$e.setTimeout(n.bind(null,r===0?0:Zy),Zy)},"setSocketTimeout"),a_=require("stream"),e_=6e3;async function pu(e,t,r=e_){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(c=>{s=Number($e.setTimeout(()=>c(!0),Math.max(e_,r)))}),new Promise(c=>{e.on("continue",()=>{$e.clearTimeout(s),c(!0)}),e.on("response",()=>{$e.clearTimeout(s),c(!1)}),e.on("error",()=>{$e.clearTimeout(s),c(!1)})})])),i&&c_(e,t.body)}te(pu,"writeRequestBody");function c_(e,t){if(t instanceof a_.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}te(c_,"writeBody");var d_=0,CB=class uu{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{te(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new uu(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let l in o){let u=o[l]?.length??0,p=s[l]?.length??0;if(u>=i&&p>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:c}=t||{},l=!0,u=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof du.Agent||typeof i?.destroy=="function"?i:new du.Agent({keepAlive:l,maxSockets:u,...i}),httpsAgent:c instanceof lu.Agent||typeof c?.destroy=="function"?c:new lu.Agent({keepAlive:l,maxSockets:u,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,c=[],l=te(async M=>{await i,c.forEach($e.clearTimeout),o(M)},"resolve"),u=te(async M=>{await i,c.forEach($e.clearTimeout),s(M)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let M=new Error("Request aborted");M.name="AbortError",u(M);return}let p=t.protocol==="https:",m=p?this.config.httpsAgent:this.config.httpAgent;c.push($e.setTimeout(()=>{this.socketWarningTimestamp=uu.checkSocketUsage(m,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let f=(0,s_.buildQueryString)(t.query||{}),h;if(t.username!=null||t.password!=null){let M=t.username??"",Q=t.password??"";h=`${M}:${Q}`}let g=t.path;f&&(g+=`?${f}`),t.fragment&&(g+=`#${t.fragment}`);let _=t.hostname??"";_[0]==="["&&_.endsWith("]")?_=t.hostname.slice(1,-1):_=t.hostname;let S={headers:t.headers,host:_,method:t.method,path:g,port:t.port,agent:m,auth:h},C=(p?lu.request:du.request)(S,M=>{let Q=new o_.HttpResponse({statusCode:M.statusCode||-1,reason:M.statusMessage,headers:i_(M.headers),body:M});l({response:Q})});if(C.on("error",M=>{EB.includes(M.code)?u(Object.assign(M,{name:"TimeoutError"})):u(M)}),r){let M=te(()=>{C.destroy();let Q=new Error("Request aborted");Q.name="AbortError",u(Q)},"onAbort");if(typeof r.addEventListener=="function"){let Q=r;Q.addEventListener("abort",M,{once:!0}),C.once("close",()=>Q.removeEventListener("abort",M))}else r.onabort=M}let $=n??this.config.requestTimeout;c.push(SB(C,u,this.config.connectionTimeout)),c.push(wB(C,u,$));let F=S.agent;typeof F=="object"&&"keepAlive"in F&&c.push(bB(C,{keepAlive:F.keepAlive,keepAliveMsecs:F.keepAliveMsecs})),i=pu(C,t,$).catch(M=>(c.forEach($e.clearTimeout),s(M)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},t_=require("http2"),TB=yB(require("http2")),xB=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{te(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},IB=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{te(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let c=n.poll();if(c&&!this.config.disableConcurrency)return c}let o=TB.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=te(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new xB;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},PB=class l_{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new IB({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{te(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new l_(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((c,l)=>{let u=!1,p,m=te(async ie=>{await p,c(ie)},"resolve"),f=te(async ie=>{await p,l(ie)},"reject");if(r?.aborted){u=!0;let ie=new Error("Request aborted");ie.name="AbortError",f(ie);return}let{hostname:h,method:g,port:_,protocol:S,query:b}=t,C="";if(t.username!=null||t.password!=null){let ie=t.username??"",mt=t.password??"";C=`${ie}:${mt}@`}let $=`${S}//${C}${h}${_?`:${_}`:""}`,F={destination:new URL($)},M=this.connectionManager.lease(F,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),Q=te(ie=>{s&&this.destroySession(M),u=!0,f(ie)},"rejectWithDestroy"),Vt=(0,s_.buildQueryString)(b||{}),be=t.path;Vt&&(be+=`?${Vt}`),t.fragment&&(be+=`#${t.fragment}`);let Ze=M.request({...t.headers,[t_.constants.HTTP2_HEADER_PATH]:be,[t_.constants.HTTP2_HEADER_METHOD]:g});if(M.ref(),Ze.on("response",ie=>{let mt=new o_.HttpResponse({statusCode:ie[":status"]||-1,headers:i_(ie),body:Ze});u=!0,m({response:mt}),s&&(M.close(),this.connectionManager.deleteSession($,M))}),i&&Ze.setTimeout(i,()=>{Ze.close();let ie=new Error(`Stream timed out because of no activity for ${i} ms`);ie.name="TimeoutError",Q(ie)}),r){let ie=te(()=>{Ze.close();let mt=new Error("Request aborted");mt.name="AbortError",Q(mt)},"onAbort");if(typeof r.addEventListener=="function"){let mt=r;mt.addEventListener("abort",ie,{once:!0}),Ze.once("close",()=>mt.removeEventListener("abort",ie))}else r.onabort=ie}Ze.on("frameError",(ie,mt,BD)=>{Q(new Error(`Frame type id ${ie} in stream id ${BD} has failed with code ${mt}.`))}),Ze.on("error",Q),Ze.on("aborted",()=>{Q(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Ze.rstCode}.`))}),Ze.on("close",()=>{M.unref(),s&&M.destroy(),u||Q(new Error("Unexpected error: http2 request did not get a response"))}),p=pu(Ze,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},AB=class extends a_.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{te(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},RB=te(e=>OB(e)?u_(e):new Promise((t,r)=>{let n=new AB;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),OB=te(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function u_(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:c,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=c}let s=new Uint8Array(o),i=0;for(let c of t)s.set(c,i),i+=c.length;return s}te(u_,"collectReadableStream")});var v_=v((H7,S_)=>{var ca=Object.defineProperty,NB=Object.getOwnPropertyDescriptor,DB=Object.getOwnPropertyNames,kB=Object.prototype.hasOwnProperty,Pt=(e,t)=>ca(e,"name",{value:t,configurable:!0}),MB=(e,t)=>{for(var r in t)ca(e,r,{get:t[r],enumerable:!0})},LB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DB(t))!kB.call(e,o)&&o!==r&&ca(e,o,{get:()=>t[o],enumerable:!(n=NB(t,o))||n.enumerable});return e},BB=e=>LB(ca({},"__esModule",{value:!0}),e),f_={};MB(f_,{FetchHttpHandler:()=>FB,keepAliveSupport:()=>aa,streamCollector:()=>$B});S_.exports=BB(f_);var m_=ee(),UB=cu();function mu(e,t){return new Request(e,t)}Pt(mu,"createRequest");function h_(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Pt(h_,"requestTimeout");var aa={supported:void 0},FB=class g_{static{Pt(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new g_(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),aa.supported===void 0&&(aa.supported=typeof Request<"u"&&"keepalive"in mu("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let C=new Error("Request aborted");return C.name="AbortError",Promise.reject(C)}let c=t.path,l=(0,UB.buildQueryString)(t.query||{});l&&(c+=`?${l}`),t.fragment&&(c+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let C=t.username??"",$=t.password??"";u=`${C}:${$}@`}let{port:p,method:m}=t,f=`${t.protocol}//${u}${t.hostname}${p?`:${p}`:""}${c}`,h=m==="GET"||m==="HEAD"?void 0:t.body,g={body:h,headers:new Headers(t.headers),method:m,credentials:i};this.config?.cache&&(g.cache=this.config.cache),h&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),aa.supported&&(g.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let _=Pt(()=>{},"removeSignalEventListener"),S=mu(f,g),b=[fetch(S).then(C=>{let $=C.headers,F={};for(let Q of $.entries())F[Q[0]]=Q[1];return C.body!=null?{response:new m_.HttpResponse({headers:F,reason:C.statusText,statusCode:C.status,body:C.body})}:C.blob().then(Q=>({response:new m_.HttpResponse({headers:F,reason:C.statusText,statusCode:C.status,body:Q})}))}),h_(o)];return r&&b.push(new Promise((C,$)=>{let F=Pt(()=>{let M=new Error("Request aborted");M.name="AbortError",$(M)},"onAbort");if(typeof r.addEventListener=="function"){let M=r;M.addEventListener("abort",F,{once:!0}),_=Pt(()=>M.removeEventListener("abort",F),"removeSignalEventListener")}else r.onabort=F})),Promise.race(b).finally(_)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},jB=De(),$B=Pt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):y_(e):__(e),"streamCollector");async function y_(e){let t=await E_(e),r=(0,jB.fromBase64)(t);return new Uint8Array(r)}Pt(y_,"collectBlob");async function __(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:c,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=c}let s=new Uint8Array(o),i=0;for(let c of t)s.set(c,i),i+=c.length;return s}Pt(__,"collectStream");function E_(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Pt(E_,"readToBase64")});var hu=v((q7,I_)=>{var da=Object.defineProperty,HB=Object.getOwnPropertyDescriptor,qB=Object.getOwnPropertyNames,GB=Object.prototype.hasOwnProperty,b_=(e,t)=>da(e,"name",{value:t,configurable:!0}),zB=(e,t)=>{for(var r in t)da(e,r,{get:t[r],enumerable:!0})},VB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qB(t))!GB.call(e,o)&&o!==r&&da(e,o,{get:()=>t[o],enumerable:!(n=HB(t,o))||n.enumerable});return e},WB=e=>VB(da({},"__esModule",{value:!0}),e),w_={};zB(w_,{fromHex:()=>T_,toHex:()=>x_});I_.exports=WB(w_);var C_={},fu={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),C_[e]=t,fu[t]=e}function T_(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in fu)t[r/2]=fu[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}b_(T_,"fromHex");function x_(e){let t="";for(let r=0;r<e.byteLength;r++)t+=C_[e[r]];return t}b_(x_,"toHex")});var O_=v(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.sdkStreamMixin=void 0;var KB=v_(),JB=De(),YB=hu(),XB=we(),P_=yr(),A_="The stream has already been transformed.",QB=e=>{var t,r;if(!R_(e)&&!(0,P_.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(A_);return n=!0,await(0,KB.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let c=await o();if(i==="base64")return(0,JB.toBase64)(c);if(i==="hex")return(0,YB.toHex)(c);if(i===void 0||i==="utf8"||i==="utf-8")return(0,XB.toUtf8)(c);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(c);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(A_);if(n=!0,R_(e))return s(e);if((0,P_.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};la.sdkStreamMixin=QB;var R_=e=>typeof Blob=="function"&&e instanceof Blob});var D_=v(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.sdkStreamMixin=void 0;var ZB=nn(),eU=Bn(),gu=require("stream"),tU=O_(),N_="The stream has already been transformed.",rU=e=>{var t,r;if(!(e instanceof gu.Readable))try{return(0,tU.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(N_);return n=!0,await(0,ZB.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,eU.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(N_);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof gu.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,gu.Readable.toWeb(e)}})};ua.sdkStreamMixin=rU});var k_=v(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.splitStream=nU;async function nU(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var B_=v(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.splitStream=sU;var M_=require("stream"),oU=k_(),L_=yr();async function sU(e){if((0,L_.isReadableStream)(e)||(0,L_.isBlob)(e))return(0,oU.splitStream)(e);let t=new M_.PassThrough,r=new M_.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var ma=v((K7,Rt)=>{var pa=Object.defineProperty,iU=Object.getOwnPropertyDescriptor,aU=Object.getOwnPropertyNames,cU=Object.prototype.hasOwnProperty,vu=(e,t)=>pa(e,"name",{value:t,configurable:!0}),dU=(e,t)=>{for(var r in t)pa(e,r,{get:t[r],enumerable:!0})},Eu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aU(t))!cU.call(e,o)&&o!==r&&pa(e,o,{get:()=>t[o],enumerable:!(n=iU(t,o))||n.enumerable});return e},_r=(e,t,r)=>(Eu(e,t,"default"),r&&Eu(r,t,"default")),lU=e=>Eu(pa({},"__esModule",{value:!0}),e),At={};dU(At,{Uint8ArrayBlobAdapter:()=>Su});Rt.exports=lU(At);var U_=De(),F_=we();function j_(e,t="utf-8"){return t==="base64"?(0,U_.toBase64)(e):(0,F_.toUtf8)(e)}vu(j_,"transformToString");function $_(e,t){return t==="base64"?Su.mutate((0,U_.fromBase64)(e)):Su.mutate((0,F_.fromUtf8)(e))}vu($_,"transformFromString");var Su=class H_ extends Uint8Array{static{vu(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return $_(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,H_.prototype),t}transformToString(t="utf-8"){return j_(this,t)}};_r(At,Xl(),Rt.exports);_r(At,Ly(),Rt.exports);_r(At,Hy(),Rt.exports);_r(At,qy(),Rt.exports);_r(At,zy(),Rt.exports);_r(At,D_(),Rt.exports);_r(At,B_(),Rt.exports);_r(At,yr(),Rt.exports)});var fa,ht,ha=y(()=>{fa=E(ma()),ht=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return fa.Uint8ArrayBlobAdapter.mutate(e);if(!e)return fa.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return fa.Uint8ArrayBlobAdapter.mutate(await r)}});function Ot(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ga=y(()=>{});var Xt,bu=y(()=>{Xt=e=>typeof e=="function"?e():e});var q_=y(()=>{});var ke,G_=y(()=>{ke=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};ke.registries=new Map});var Nt,jn=y(()=>{Nt=class{constructor(t,r){this.name=t,this.traits=r}}});var zo,wu=y(()=>{jn();zo=class e extends Nt{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};zo.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var Vo,Cu=y(()=>{jn();Vo=class e extends Nt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Vo.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var z_=y(()=>{});var on,ya=y(()=>{jn();on=class e extends Nt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};on.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var Tu,V_=y(()=>{ya();Tu=class e extends on{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Tu.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var x,xu=y(()=>{x={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Wo,Iu=y(()=>{jn();Wo=class e extends Nt{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Wo.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var L,W_=y(()=>{bu();wu();Cu();xu();Iu();ya();L=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Xt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let c=n[i];Object.assign(this.memberTraits,e.translateTraits(c))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Xt(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Wo?Xt(this.schema.schemaRef):Xt(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.LIST_MODIFIER&&t<x.MAP_MODIFIER:t instanceof zo}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.MAP_MODIFIER&&t<=255:t instanceof Vo}isDocumentSchema(){return this.getSchema()===x.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof on}isBlobSchema(){return this.getSchema()===x.BLOB||this.getSchema()===x.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=x.TIMESTAMP_DEFAULT&&t<=x.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===x.STRING}isBooleanSchema(){return this.getSchema()===x.BOOLEAN}isNumericSchema(){return this.getSchema()===x.NUMERIC}isBigIntegerSchema(){return this.getSchema()===x.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===x.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===x.STREAMING_BLOB}isIdempotencyToken(){return typeof this.traits=="number"?(this.traits&4)===4:typeof this.traits=="object"?!!this.traits.idempotencyToken:!1}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(x).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case x.MAP_MODIFIER:return`${o}Map`;case x.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};L.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Se=y(()=>{bu();q_();wu();Cu();z_();V_();W_();jn();Iu();ya();xu();G_()});var uU,K_=y(()=>{uU=(e,t,r=n=>n)=>e});var pU,mU,Ko,fU,_a,Jo,hU,Pu,Au,Ru,Ou,gU,yU,J_,_U,EU,Sa,SU,Nu,vU,$n,Du,bU,wU,CU,Y_,X_,TU,xU,sn,ku,Ea,Yo,Mu=y(()=>{pU=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},mU=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Yo.warn(Ea(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Yo.warn(Ea(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Ko=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Yo.warn(Ea(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},fU=Math.ceil(34028234663852886e22),_a=e=>{let t=Ko(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>fU)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Jo=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},hU=Jo,Pu=e=>Ou(e,32),Au=e=>Ou(e,16),Ru=e=>Ou(e,8),Ou=(e,t)=>{let r=Jo(e);if(r!==void 0&&gU(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},gU=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},yU=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},J_=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},_U=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Yo.warn(Ea(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},EU=e=>{if(e==null)return;let t=J_(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Sa=e=>Ko(typeof e=="string"?$n(e):e),SU=Sa,Nu=e=>_a(typeof e=="string"?$n(e):e),vU=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,$n=e=>{let t=e.match(vU);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Du=e=>typeof e=="string"?Y_(e):Ko(e),bU=Du,wU=Du,CU=e=>typeof e=="string"?Y_(e):_a(e),Y_=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},X_=e=>Jo(typeof e=="string"?$n(e):e),TU=X_,xU=e=>Pu(typeof e=="string"?$n(e):e),sn=e=>Au(typeof e=="string"?$n(e):e),ku=e=>Ru(typeof e=="string"?$n(e):e),Ea=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Yo={warn:console.warn}});function Qo(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),c=e.getUTCSeconds(),l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,p=i<10?`0${i}`:`${i}`,m=c<10?`0${c}`:`${c}`;return`${IU[n]}, ${l} ${Bu[r]} ${t} ${u}:${p}:${m} GMT`}var IU,Bu,PU,AU,RU,Zo,OU,NU,DU,es,ts,Xo,kU,MU,LU,Lu,BU,UU,FU,Dt,jU,$U,Hn,Q_=y(()=>{Mu();IU=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Bu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];PU=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),AU=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=PU.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,c,l,u]=t,p=sn(Hn(n)),m=Dt(o,"month",1,12),f=Dt(s,"day",1,31);return Xo(p,m,f,{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u})},RU=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Zo=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=RU.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,c,l,u,p]=t,m=sn(Hn(n)),f=Dt(o,"month",1,12),h=Dt(s,"day",1,31),g=Xo(m,f,h,{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u});return p.toUpperCase()!="Z"&&g.setTime(g.getTime()-$U(p)),g},OU=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),NU=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),DU=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),es=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=OU.exec(e);if(t){let[r,n,o,s,i,c,l,u]=t;return Xo(sn(Hn(s)),Lu(o),Dt(n,"day",1,31),{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u})}if(t=NU.exec(e),t){let[r,n,o,s,i,c,l,u]=t;return LU(Xo(kU(s),Lu(o),Dt(n,"day",1,31),{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u}))}if(t=DU.exec(e),t){let[r,n,o,s,i,c,l,u]=t;return Xo(sn(Hn(u)),Lu(n),Dt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:c,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},ts=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Sa(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Xo=(e,t,r,n)=>{let o=t-1;return UU(e,o,r),new Date(Date.UTC(e,o,r,Dt(n.hours,"hour",0,23),Dt(n.minutes,"minute",0,59),Dt(n.seconds,"seconds",0,60),jU(n.fractionalMilliseconds)))},kU=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+sn(Hn(e));return r<t?r+100:r},MU=50*365*24*60*60*1e3,LU=e=>e.getTime()-new Date().getTime()>MU?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Lu=e=>{let t=Bu.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},BU=[31,28,31,30,31,30,31,31,30,31,30,31],UU=(e,t,r)=>{let n=BU[t];if(t===1&&FU(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Bu[t]} in ${e}: ${r}`)},FU=e=>e%4===0&&(e%100!==0||e%400===0),Dt=(e,t,r,n)=>{let o=ku(Hn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},jU=e=>e==null?0:Nu("0."+e)*1e3,$U=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Hn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});function rs(){return va>ba.length-16&&(Z_.default.randomFillSync(ba),va=0),ba.slice(va,va+=16)}var Z_,ba,va,Uu=y(()=>{Z_=E(require("crypto")),ba=new Uint8Array(256),va=ba.length});var eE,tE=y(()=>{eE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function HU(e){return typeof e=="string"&&eE.test(e)}var Er,ns=y(()=>{tE();Er=HU});function an(e,t=0){return Ce[e[t+0]]+Ce[e[t+1]]+Ce[e[t+2]]+Ce[e[t+3]]+"-"+Ce[e[t+4]]+Ce[e[t+5]]+"-"+Ce[e[t+6]]+Ce[e[t+7]]+"-"+Ce[e[t+8]]+Ce[e[t+9]]+"-"+Ce[e[t+10]]+Ce[e[t+11]]+Ce[e[t+12]]+Ce[e[t+13]]+Ce[e[t+14]]+Ce[e[t+15]]}function qU(e,t=0){let r=an(e,t);if(!Er(r))throw TypeError("Stringified UUID is invalid");return r}var Ce,rE,os=y(()=>{ns();Ce=[];for(let e=0;e<256;++e)Ce.push((e+256).toString(16).slice(1));rE=qU});function GU(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||nE,i=e.clockseq!==void 0?e.clockseq:Fu;if(s==null||i==null){let f=e.random||(e.rng||rs)();s==null&&(s=nE=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),i==null&&(i=Fu=(f[6]<<8|f[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:$u+1,u=c-ju+(l-$u)/1e4;if(u<0&&e.clockseq===void 0&&(i=i+1&16383),(u<0||c>ju)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ju=c,$u=l,Fu=i,c+=122192928e5;let p=((c&268435455)*1e4+l)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let m=c/4294967296*1e4&268435455;o[n++]=m>>>8&255,o[n++]=m&255,o[n++]=m>>>24&15|16,o[n++]=m>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let f=0;f<6;++f)o[n+f]=s[f];return t||an(o)}var nE,Fu,ju,$u,oE,sE=y(()=>{Uu();os();ju=0,$u=0;oE=GU});function zU(e){if(!Er(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var wa,Hu=y(()=>{ns();wa=zU});function VU(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function ss(e,t,r){function n(o,s,i,c){var l;if(typeof o=="string"&&(o=VU(o)),typeof s=="string"&&(s=wa(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+o.length);if(u.set(s),u.set(o,s.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,i){c=c||0;for(let p=0;p<16;++p)i[c+p]=u[p];return i}return an(u)}try{n.name=e}catch{}return n.DNS=WU,n.URL=KU,n}var WU,KU,qu=y(()=>{os();Hu();WU="6ba7b810-9dad-11d1-80b4-00c04fd430c8",KU="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function JU(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),iE.default.createHash("md5").update(e).digest()}var iE,aE,cE=y(()=>{iE=E(require("crypto"));aE=JU});var YU,dE,lE=y(()=>{qu();cE();YU=ss("v3",48,aE),dE=YU});var uE,Gu,pE=y(()=>{uE=E(require("crypto")),Gu={randomUUID:uE.default.randomUUID}});function XU(e,t,r){if(Gu.randomUUID&&!t&&!e)return Gu.randomUUID();e=e||{};let n=e.random||(e.rng||rs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return an(n)}var kt,mE=y(()=>{pE();Uu();os();kt=XU});function QU(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),fE.default.createHash("sha1").update(e).digest()}var fE,hE,gE=y(()=>{fE=E(require("crypto"));hE=QU});var ZU,yE,_E=y(()=>{qu();gE();ZU=ss("v5",80,hE),yE=ZU});var EE,SE=y(()=>{EE="00000000-0000-0000-0000-000000000000"});function eF(e){if(!Er(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var vE,bE=y(()=>{ns();vE=eF});var zu={};et(zu,{NIL:()=>EE,parse:()=>wa,stringify:()=>rE,v1:()=>oE,v3:()=>dE,v4:()=>kt,v5:()=>yE,validate:()=>Er,version:()=>vE});var Ca=y(()=>{sE();lE();mE();_E();SE();bE();ns();os();Hu()});var wE=y(()=>{Ca()});var Me,CE=y(()=>{Me=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Me.from=e=>e&&typeof e=="object"&&(e instanceof Me||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Me(String(e)):Me(JSON.stringify(e));Me.fromObject=Me.from});function Vu(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var TE=y(()=>{});function Wu(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var xE=y(()=>{});var is,IE=y(()=>{is=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let c=e[i];switch(c){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=c}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let c=i.length;return c<2?i:(i[0]==='"'&&i[c-1]==='"'&&(i=i.slice(1,c-1)),i.replace(/\\"/g,'"'))})}});function tF(e){return new Te(String(e),"bigDecimal")}var Te,PE=y(()=>{Te=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var AE={};et(AE,{LazyJsonString:()=>Me,NumericValue:()=>Te,copyDocumentWithTransform:()=>uU,dateToUtcString:()=>Qo,expectBoolean:()=>mU,expectByte:()=>Ru,expectFloat32:()=>_a,expectInt:()=>hU,expectInt32:()=>Pu,expectLong:()=>Jo,expectNonNull:()=>yU,expectNumber:()=>Ko,expectObject:()=>J_,expectShort:()=>Au,expectString:()=>_U,expectUnion:()=>EU,generateIdempotencyToken:()=>kt,handleFloat:()=>bU,limitedParseDouble:()=>Du,limitedParseFloat:()=>wU,limitedParseFloat32:()=>CU,logger:()=>Yo,nv:()=>tF,parseBoolean:()=>pU,parseEpochTimestamp:()=>ts,parseRfc3339DateTime:()=>AU,parseRfc3339DateTimeWithOffset:()=>Zo,parseRfc7231DateTime:()=>es,quoteHeader:()=>Vu,splitEvery:()=>Wu,splitHeader:()=>is,strictParseByte:()=>ku,strictParseDouble:()=>Sa,strictParseFloat:()=>SU,strictParseFloat32:()=>Nu,strictParseInt:()=>TU,strictParseInt32:()=>xU,strictParseLong:()=>X_,strictParseShort:()=>sn});var gt=y(()=>{K_();Q_();wE();CE();Mu();TE();xE();IE();PE()});var Ta,qn,Ku=y(()=>{Se();Ta=E(ee()),qn=class{constructor(t){this.options=t}getRequestType(){return Ta.HttpRequest}getResponseType(){return Ta.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=L.of(r),s=L.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let c=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of c){let u=n[l];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);i=i.replace(`{${l}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){return[]}}});var RE,OE,cn,NE=y(()=>{Se();gt();RE=E(ee()),OE=E(ma());ha();ga();Ku();cn=class extends qn{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},c={},l=await n.endpoint(),u=L.of(t?.input),p=u.getSchema(),m=!1,f,h=new RE.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:c,body:void 0});if(l){this.updateServiceEndpoint(h,l),this.setHostPrefix(h,t,o);let g=L.translateTraits(t.traits);if(g.http){h.method=g.http[0];let[_,S]=g.http[1].split("?");h.path=="/"?h.path=_:h.path+=_;let b=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(b))}}for(let[g,_]of u.structIterator()){let S=_.getMergedTraits()??{},b=o[g];if(b!=null)if(S.httpPayload){if(_.isStreaming()){if(_.isStructSchema())throw new Error("serialization of event streams is not yet implemented");f=b}else s.write(_,b),f=s.flush();delete o[g]}else if(S.httpLabel){s.write(_,b);let C=s.flush();h.path.includes(`{${g}+}`)?h.path=h.path.replace(`{${g}+}`,C.split("/").map(Ot).join("/")):h.path.includes(`{${g}}`)&&(h.path=h.path.replace(`{${g}}`,Ot(C))),delete o[g]}else if(S.httpHeader)s.write(_,b),c[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[g];else if(typeof S.httpPrefixHeaders=="string"){for(let[C,$]of Object.entries(b)){let F=S.httpPrefixHeaders+C;s.write([_.getValueSchema(),{httpHeader:F}],$),c[F.toLowerCase()]=s.flush()}delete o[g]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(_,b,i),delete o[g]):m=!0}return m&&o&&(s.write(p,o),f=s.flush()),h.headers=c,h.query=i,h.body=f,h}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,c]of Object.entries(r))i in n||this.serializeQuery(L.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),c,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,c=[];for(let l of r){o.write([t.getValueSchema(),s],l);let u=o.flush();(i||u!==void 0)&&c.push(u)}n[s.httpQuery]=c}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=L.of(t.output),i={};if(n.statusCode>=300){let u=await ht(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in n.headers){let p=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=p}let c=await this.deserializeHttpMessage(s,r,n,i);if(c.length){let u=await ht(n.body,r);if(u.byteLength>0){let p=await o.read(s,u);for(let m of c)i[m]=p[m]}}return{$metadata:this.deserializeMetadata(n),...i}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let c=this.deserializer,l=L.of(t),u=[];for(let[p,m]of l.structIterator()){let f=m.getMemberTraits();if(f.httpPayload){if(m.isStreaming())if(m.isStructSchema()){let _=this.serdeContext;if(!_.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=m.getMemberSchemas();i[p]=_.eventStreamMarshaller.deserialize(n.body,async b=>{let C=Object.keys(b).find($=>$!=="__type")??"";if(C in S){let $=S[C];return{[C]:await c.read($,b[C].body)}}else return{$unknown:b}})}else i[p]=(0,OE.sdkStreamMixin)(n.body);else if(n.body){let g=await ht(n.body,r);g.byteLength>0&&(i[p]=await c.read(m,g))}}else if(f.httpHeader){let h=String(f.httpHeader).toLowerCase(),g=n.headers[h];if(g!=null)if(m.isListSchema()){let _=m.getValueSchema(),S;_.isTimestampSchema()&&_.getSchema()===x.TIMESTAMP_DEFAULT?S=Wu(g,",",2):S=is(g);let b=[];for(let C of S)b.push(await c.read([_,{httpHeader:h}],C.trim()));i[p]=b}else i[p]=await c.read(m,g)}else if(f.httpPrefixHeaders!==void 0){i[p]={};for(let[h,g]of Object.entries(n.headers))h.startsWith(f.httpPrefixHeaders)&&(i[p][h.slice(f.httpPrefixHeaders.length)]=await c.read([m.getValueSchema(),{httpHeader:h}],g))}else f.httpResponseCode?i[p]=n.statusCode:u.push(p)}return u}}});var DE,dn,kE=y(()=>{Se();DE=E(ee());ha();Ku();dn=class extends qn{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},c=await n.endpoint(),u=L.of(t?.input).getSchema(),p,m=new DE.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});c&&(this.updateServiceEndpoint(m,c),this.setHostPrefix(m,t,r));let f={...r};return r&&(o.write(u,f),p=o.flush()),m.headers=i,m.query=s,m.body=p,m.method="POST",m}async deserializeResponse(t,r,n){let o=this.deserializer,s=L.of(t.output),i={};if(n.statusCode>=300){let u=await ht(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let u in n.headers){let p=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=p}let c=await ht(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c)),{$metadata:this.deserializeMetadata(n),...i}}}});var Ju,Yu=y(()=>{ga();Ju=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(c=>Ot(c)).join("/"):Ot(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function as(e,t){return new xa(e,t)}var ME,xa,LE=y(()=>{ME=E(ee());Yu();xa=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new ME.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=Ju(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function ln(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===x.TIMESTAMP_DATE_TIME||e.getSchema()===x.TIMESTAMP_HTTP_DATE||e.getSchema()===x.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?x.TIMESTAMP_HTTP_DATE:s||r?x.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var Ia=y(()=>{Se()});var Xu,BE,un,Qu=y(()=>{Se();gt();Xu=E(De()),BE=E(we());Ia();un=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=L.of(t);if(n.isListSchema())return is(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Xu.fromBase64)(r);if(n.isTimestampSchema())switch(ln(n,this.settings)){case x.TIMESTAMP_DATE_TIME:return Zo(r);case x.TIMESTAMP_HTTP_DATE:return es(r);case x.TIMESTAMP_EPOCH_SECONDS:return ts(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Me.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Te(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??BE.toUtf8)((this.serdeContext?.base64Decoder??Xu.fromBase64)(t))}}});var Pa,pn,UE=y(()=>{Se();Pa=E(we());Qu();pn=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new un(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=L.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??Pa.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Pa.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Zu,cs,ep=y(()=>{Se();gt();Zu=E(De());Ia();cs=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=L.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(ln(n,this.settings)){case x.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:this.stringBuffer=Qo(r);break;case x.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Zu.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let c of r){this.write([n.getValueSchema(),n.getMergedTraits()],c);let l=this.flush(),u=n.getValueSchema().isTimestampSchema()?l:Vu(l);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Me.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Zu.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var mn,FE=y(()=>{Se();ep();mn=class{constructor(t,r,n=new cs(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=L.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var jE={};et(jE,{FromStringShapeDeserializer:()=>un,HttpBindingProtocol:()=>cn,HttpInterceptingShapeDeserializer:()=>pn,HttpInterceptingShapeSerializer:()=>mn,RequestBuilder:()=>xa,RpcProtocol:()=>dn,ToStringShapeSerializer:()=>cs,collectBody:()=>ht,determineTimestampFormat:()=>ln,extendedEncodeURIComponent:()=>Ot,requestBuilder:()=>as,resolvedPath:()=>Ju});var Qt=y(()=>{ha();ga();NE();kE();LE();Yu();Qu();UE();FE();ep();Ia()});var $E=y(()=>{Qt()});function rF(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var HE=y(()=>{});var fn,qE=y(()=>{fn=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var GE,tp,rp,zE=y(()=>{GE=E(ee()),tp=E(ft()),rp=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=GE.HttpRequest.clone(t);if(n.in===tp.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===tp.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var VE,np,WE=y(()=>{VE=E(ee()),np=class{async sign(t,r,n){let o=VE.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Zt,KE=y(()=>{Zt=class{async sign(t,r,n){return t}}});var JE=y(()=>{zE();WE();KE()});var YE,nF,op,Aa,sp,XE=y(()=>{YE=e=>t=>Aa(t)&&t.expiration.getTime()-Date.now()<e,nF=3e5,op=YE(3e5),Aa=e=>e.expiration!==void 0,sp=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,c=!1,l=async u=>{s||(s=n(u));try{o=await s,i=!0,c=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u?.forceRefresh)&&(o=await l(u)),o):async u=>((!i||u?.forceRefresh)&&(o=await l(u)),c?o:r(o)?(t(o)&&await l(u),o):(c=!0,o))}});var QE=y(()=>{qE();JE();XE()});var He={};et(He,{DefaultIdentityProviderConfig:()=>fn,EXPIRATION_MS:()=>nF,HttpApiKeyAuthSigner:()=>rp,HttpBearerAuthSigner:()=>np,NoAuthSigner:()=>Zt,createIsIdentityExpiredFunction:()=>YE,createPaginator:()=>Ey,doesIdentityRequireRefresh:()=>Aa,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Ho,getHttpAuthSchemePlugin:()=>jM,getHttpSigningPlugin:()=>qo,getSmithyContext:()=>OM,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>ey,httpAuthSchemeMiddleware:()=>$o,httpAuthSchemeMiddlewareOptions:()=>ly,httpSigningMiddleware:()=>ql,httpSigningMiddlewareOptions:()=>hy,isIdentityExpired:()=>op,memoizeIdentityProvider:()=>sp,normalizeProvider:()=>gr,requestBuilder:()=>as,setFeature:()=>rF});var ae=y(()=>{Yg();py();yy();_y();Sy();$E();HE();QE()});var Gn=v((Xte,aS)=>{var Ra=Object.defineProperty,oF=Object.getOwnPropertyDescriptor,sF=Object.getOwnPropertyNames,iF=Object.prototype.hasOwnProperty,Z=(e,t)=>Ra(e,"name",{value:t,configurable:!0}),aF=(e,t)=>{for(var r in t)Ra(e,r,{get:t[r],enumerable:!0})},cF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sF(t))!iF.call(e,o)&&o!==r&&Ra(e,o,{get:()=>t[o],enumerable:!(n=oF(t,o))||n.enumerable});return e},dF=e=>cF(Ra({},"__esModule",{value:!0}),e),ZE={};aF(ZE,{EndpointCache:()=>lF,EndpointError:()=>qe,customEndpointFunctions:()=>ap,isIpAddress:()=>eS,isValidHostLabel:()=>dp,resolveEndpoint:()=>AF});aS.exports=dF(ZE);var lF=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{Z(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},uF=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),eS=Z(e=>uF.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),pF=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),dp=Z((e,t=!1)=>{if(!t)return pF.test(e);let r=e.split(".");for(let n of r)if(!dp(n))return!1;return!0},"isValidHostLabel"),ap={},ds="endpoints";function er(e){return typeof e!="object"||e==null?e:"ref"in e?`$${er(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(er).join(", ")})`:JSON.stringify(e,null,2)}Z(er,"toDebugString");var qe=class extends Error{static{Z(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},mF=Z((e,t)=>e===t,"booleanEquals"),fF=Z(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new qe(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new qe(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),tS=Z((e,t)=>fF(t).reduce((r,n)=>{if(typeof r!="object")throw new qe(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),hF=Z(e=>e!=null,"isSet"),gF=Z(e=>!e,"not"),cp=ft(),ip={[cp.EndpointURLScheme.HTTP]:80,[cp.EndpointURLScheme.HTTPS]:443},yF=Z(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:h,protocol:g="",path:_="",query:S={}}=e,b=new URL(`${g}//${f}${h?`:${h}`:""}${_}`);return b.search=Object.entries(S).map(([C,$])=>`${C}=${$}`).join("&"),b}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:c}=t;if(c)return null;let l=i.slice(0,-1);if(!Object.values(cp.EndpointURLScheme).includes(l))return null;let u=eS(o),p=r.includes(`${n}:${ip[l]}`)||typeof e=="string"&&e.includes(`${n}:${ip[l]}`),m=`${n}${p?`:${ip[l]}`:""}`;return{scheme:l,authority:m,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},"parseURL"),_F=Z((e,t)=>e===t,"stringEquals"),EF=Z((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),SF=Z(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),vF={booleanEquals:mF,getAttr:tS,isSet:hF,isValidHostLabel:dp,not:gF,parseURL:yF,stringEquals:_F,substring:EF,uriEncode:SF},rS=Z((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let c=e.substring(s+1,i);if(c.includes("#")){let[l,u]=c.split("#");r.push(tS(n[l],u))}else r.push(n[c]);o=i+1}return r.join("")},"evaluateTemplate"),bF=Z(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Oa=Z((e,t,r)=>{if(typeof e=="string")return rS(e,r);if(e.fn)return nS(e,r);if(e.ref)return bF(e,r);throw new qe(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),nS=Z(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Oa(s,"arg",r)),o=e.split(".");return o[0]in ap&&o[1]!=null?ap[o[0]][o[1]](...n):vF[e](...n)},"callFunction"),wF=Z(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new qe(`'${e}' is already defined in Reference Record.`);let n=nS(t,r);return r.logger?.debug?.(`${ds} evaluateCondition: ${er(t)} = ${er(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),lp=Z((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=wF(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${ds} assign: ${s.name} := ${er(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),CF=Z((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Oa(s,"Header value entry",t);if(typeof i!="string")throw new qe(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),oS=Z((e,t)=>{if(Array.isArray(e))return e.map(r=>oS(r,t));switch(typeof e){case"string":return rS(e,t);case"object":if(e===null)throw new qe(`Unexpected endpoint property: ${e}`);return sS(e,t);case"boolean":return e;default:throw new qe(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),sS=Z((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:oS(o,t)}),{}),"getEndpointProperties"),TF=Z((e,t)=>{let r=Oa(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new qe(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),xF=Z((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=lp(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:c,properties:l,headers:u}=n;return t.logger?.debug?.(`${ds} Resolving endpoint from template: ${er(n)}`),{...u!=null&&{headers:CF(u,i)},...l!=null&&{properties:sS(l,i)},url:TF(c,i)}},"evaluateEndpointRule"),IF=Z((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=lp(r,t);if(o)throw new qe(Oa(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),PF=Z((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=lp(r,t);if(o)return iS(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),iS=Z((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=xF(r,t);if(n)return n}else if(r.type==="error")IF(r,t);else if(r.type==="tree"){let n=PF(r,t);if(n)return n}else throw new qe(`Unknown endpoint rule: ${r}`);throw new qe("Rules evaluation failed")},"evaluateRules"),AF=Z((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${ds} Initial EndpointParams: ${er(r)}`);let i=Object.entries(o).filter(([,u])=>u.default!=null).map(([u,p])=>[u,p.default]);if(i.length>0)for(let[u,p]of i)r[u]=r[u]??p;let c=Object.entries(o).filter(([,u])=>u.required).map(([u])=>u);for(let u of c)if(r[u]==null)throw new qe(`Missing required parameter: '${u}'`);let l=iS(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${ds} Resolved endpoint: ${er(l)}`),l},"resolveEndpoint")});var uS=v((ere,lS)=>{var Na=Object.defineProperty,RF=Object.getOwnPropertyDescriptor,OF=Object.getOwnPropertyNames,NF=Object.prototype.hasOwnProperty,DF=(e,t)=>Na(e,"name",{value:t,configurable:!0}),kF=(e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},MF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of OF(t))!NF.call(e,o)&&o!==r&&Na(e,o,{get:()=>t[o],enumerable:!(n=RF(t,o))||n.enumerable});return e},LF=e=>MF(Na({},"__esModule",{value:!0}),e),cS={};kF(cS,{parseQueryString:()=>dS});lS.exports=LF(cS);function dS(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}DF(dS,"parseQueryString")});var Sr=v((tre,fS)=>{var Da=Object.defineProperty,BF=Object.getOwnPropertyDescriptor,UF=Object.getOwnPropertyNames,FF=Object.prototype.hasOwnProperty,jF=(e,t)=>Da(e,"name",{value:t,configurable:!0}),$F=(e,t)=>{for(var r in t)Da(e,r,{get:t[r],enumerable:!0})},HF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UF(t))!FF.call(e,o)&&o!==r&&Da(e,o,{get:()=>t[o],enumerable:!(n=BF(t,o))||n.enumerable});return e},qF=e=>HF(Da({},"__esModule",{value:!0}),e),pS={};$F(pS,{parseUrl:()=>mS});fS.exports=qF(pS);var GF=uS(),mS=jF(e=>{if(typeof e=="string")return mS(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,GF.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var zn=v((rre,TS)=>{"use strict";var ka=Object.defineProperty,zF=Object.getOwnPropertyDescriptor,VF=Object.getOwnPropertyNames,WF=Object.prototype.hasOwnProperty,vr=(e,t)=>ka(e,"name",{value:t,configurable:!0}),KF=(e,t)=>{for(var r in t)ka(e,r,{get:t[r],enumerable:!0})},JF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VF(t))!WF.call(e,o)&&o!==r&&ka(e,o,{get:()=>t[o],enumerable:!(n=zF(t,o))||n.enumerable});return e},YF=e=>JF(ka({},"__esModule",{value:!0}),e),gS={};KF(gS,{ConditionObject:()=>re.ConditionObject,DeprecatedObject:()=>re.DeprecatedObject,EndpointError:()=>re.EndpointError,EndpointObject:()=>re.EndpointObject,EndpointObjectHeaders:()=>re.EndpointObjectHeaders,EndpointObjectProperties:()=>re.EndpointObjectProperties,EndpointParams:()=>re.EndpointParams,EndpointResolverOptions:()=>re.EndpointResolverOptions,EndpointRuleObject:()=>re.EndpointRuleObject,ErrorRuleObject:()=>re.ErrorRuleObject,EvaluateOptions:()=>re.EvaluateOptions,Expression:()=>re.Expression,FunctionArgv:()=>re.FunctionArgv,FunctionObject:()=>re.FunctionObject,FunctionReturn:()=>re.FunctionReturn,ParameterObject:()=>re.ParameterObject,ReferenceObject:()=>re.ReferenceObject,ReferenceRecord:()=>re.ReferenceRecord,RuleSetObject:()=>re.RuleSetObject,RuleSetRules:()=>re.RuleSetRules,TreeRuleObject:()=>re.TreeRuleObject,awsEndpointFunctions:()=>wS,getUserAgentPrefix:()=>ej,isIpAddress:()=>re.isIpAddress,partition:()=>vS,resolveDefaultAwsRegionalEndpointsConfig:()=>rj,resolveEndpoint:()=>re.resolveEndpoint,setPartitionInfo:()=>bS,toEndpointV1:()=>CS,useDefaultPartitionInfo:()=>ZF});TS.exports=YF(gS);var re=Gn(),yS=vr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!yS(r))return!1;return!0}return!(!(0,re.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,re.isIpAddress)(e))},"isVirtualHostableS3Bucket"),hS=":",XF="/",QF=vr(e=>{let t=e.split(hS);if(t.length<6)return null;let[r,n,o,s,i,...c]=t;if(r!=="arn"||n===""||o===""||c.join(hS)==="")return null;let l=c.map(u=>u.split(XF)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:l}},"parseArn"),_S={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},ES=_S,SS="",vS=vr(e=>{let{partitions:t}=ES;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,c]of Object.entries(o))if(i===e)return{...s,...c}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),bS=vr((e,t="")=>{ES=e,SS=t},"setPartitionInfo"),ZF=vr(()=>{bS(_S,"")},"useDefaultPartitionInfo"),ej=vr(()=>SS,"getUserAgentPrefix"),wS={isVirtualHostableS3Bucket:yS,parseArn:QF,partition:vS};re.customEndpointFunctions.aws=wS;var tj=Sr(),rj=vr(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>CS(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),CS=vr(e=>(0,tj.parseUrl)(e.url),"toEndpointV1")});var Ma,Vn,xS=y(()=>{Ma={warningEmitted:!1},Vn=e=>{e&&!Ma.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Ma.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function br(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var IS=y(()=>{});function PS(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var AS=y(()=>{});function RS(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var OS=y(()=>{});var wr={};et(wr,{emitWarningIfUnsupportedVersion:()=>Vn,setCredentialFeature:()=>br,setFeature:()=>PS,setTokenFeature:()=>RS,state:()=>Ma});var yt=y(()=>{xS();IS();AS();OS()});var NS,up,DS=y(()=>{NS=E(ee()),up=e=>NS.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Wn,pp=y(()=>{Wn=e=>new Date(Date.now()+e)});var kS,MS=y(()=>{pp();kS=(e,t)=>Math.abs(Wn(t).getTime()-e)>=3e5});var mp,LS=y(()=>{MS();mp=(e,t)=>{let r=Date.parse(e);return kS(r,t)?r-Date.now():t}});var fp=y(()=>{DS();pp();LS()});var BS,ls,Kn,Ge,hp,gp=y(()=>{BS=E(ee());fp();ls=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Kn=async e=>{let t=ls("context",e.context),r=ls("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await ls("signer",r.signer)(n),i=e?.signingRegion,c=e?.signingRegionSet,l=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:c,signingName:l}},Ge=class{async sign(t,r,n){if(!BS.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Kn(n),{config:s,signer:i}=o,{signingRegion:c,signingName:l}=o,u=n.context;if(u?.authSchemes?.length??!1){let[m,f]=u.authSchemes;m?.name==="sigv4a"&&f?.name==="sigv4"&&(c=f?.signingRegion??c,l=f?.signingName??l)}return await i.sign(t,{signingDate:Wn(s.systemClockOffset),signingRegion:c,signingService:l})}errorHandler(t){return r=>{let n=r.ServerTime??up(r.$response);if(n){let o=ls("config",t.config),s=o.systemClockOffset;o.systemClockOffset=mp(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=up(t);if(n){let o=ls("config",r.config);o.systemClockOffset=mp(n,o.systemClockOffset)}}},hp=Ge});var US,us,FS=y(()=>{US=E(ee());fp();gp();us=class extends Ge{async sign(t,r,n){if(!US.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:c,signingName:l}=await Kn(n),p=(await o.sigv4aSigningRegionSet?.()??c??[i]).join(",");return await s.sign(t,{signingDate:Wn(o.systemClockOffset),signingRegion:p,signingService:l})}}});var yp,jS=y(()=>{yp=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var La,_p=y(()=>{La=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var $S,HS,Jn,qS=y(()=>{jS();_p();$S="AWS_AUTH_SCHEME_PREFERENCE",HS="auth_scheme_preference",Jn={environmentVariableSelector:(e,t)=>{if(t?.signingName&&La(t.signingName)in e)return["httpBearerAuth"];if($S in e)return yp(e[$S])},configFileSelector:e=>{if(HS in e)return yp(e[HS])},default:[]}});var Le=v((Ore,KS)=>{var Ba=Object.defineProperty,nj=Object.getOwnPropertyDescriptor,oj=Object.getOwnPropertyNames,sj=Object.prototype.hasOwnProperty,hn=(e,t)=>Ba(e,"name",{value:t,configurable:!0}),ij=(e,t)=>{for(var r in t)Ba(e,r,{get:t[r],enumerable:!0})},aj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oj(t))!sj.call(e,o)&&o!==r&&Ba(e,o,{get:()=>t[o],enumerable:!(n=nj(t,o))||n.enumerable});return e},cj=e=>aj(Ba({},"__esModule",{value:!0}),e),GS={};ij(GS,{CredentialsProviderError:()=>dj,ProviderError:()=>Ua,TokenProviderError:()=>lj,chain:()=>uj,fromStatic:()=>pj,memoize:()=>mj});KS.exports=cj(GS);var Ua=class zS extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,zS.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{hn(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},dj=class VS extends Ua{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,VS.prototype)}static{hn(this,"CredentialsProviderError")}},lj=class WS extends Ua{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,WS.prototype)}static{hn(this,"TokenProviderError")}},uj=hn((...e)=>async()=>{if(e.length===0)throw new Ua("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),pj=hn(e=>()=>Promise.resolve(e),"fromStatic"),mj=hn((e,t,r)=>{let n,o,s,i=!1,c=hn(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async l=>((!s||l?.forceRefresh)&&(n=await c()),n):async l=>((!s||l?.forceRefresh)&&(n=await c()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await c(),n))},"memoize")});var Ep,JS,YS,XS=y(()=>{ae();Ep=E(Le()),JS=e=>(e.sigv4aSigningRegionSet=gr(e.sigv4aSigningRegionSet),e),YS={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Ep.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Ep.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Iv=v((kre,xv)=>{var za=Object.defineProperty,fj=Object.getOwnPropertyDescriptor,hj=Object.getOwnPropertyNames,gj=Object.prototype.hasOwnProperty,xe=(e,t)=>za(e,"name",{value:t,configurable:!0}),yj=(e,t)=>{for(var r in t)za(e,r,{get:t[r],enumerable:!0})},_j=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hj(t))!gj.call(e,o)&&o!==r&&za(e,o,{get:()=>t[o],enumerable:!(n=fj(t,o))||n.enumerable});return e},Ej=e=>_j(za({},"__esModule",{value:!0}),e),rv={};yj(rv,{ALGORITHM_IDENTIFIER:()=>Fa,ALGORITHM_IDENTIFIER_V4A:()=>wj,ALGORITHM_QUERY_PARAM:()=>ov,ALWAYS_UNSIGNABLE_HEADERS:()=>pv,AMZ_DATE_HEADER:()=>Ip,AMZ_DATE_QUERY_PARAM:()=>wp,AUTH_HEADER:()=>xp,CREDENTIAL_QUERY_PARAM:()=>sv,DATE_HEADER:()=>cv,EVENT_ALGORITHM_IDENTIFIER:()=>hv,EXPIRES_QUERY_PARAM:()=>av,GENERATED_HEADERS:()=>dv,HOST_HEADER:()=>vj,KEY_TYPE_IDENTIFIER:()=>Pp,MAX_CACHE_SIZE:()=>yv,MAX_PRESIGNED_TTL:()=>_v,PROXY_HEADER_PATTERN:()=>mv,REGION_SET_PARAM:()=>Sj,SEC_HEADER_PATTERN:()=>fv,SHA256_HEADER:()=>Ga,SIGNATURE_HEADER:()=>lv,SIGNATURE_QUERY_PARAM:()=>Cp,SIGNED_HEADERS_QUERY_PARAM:()=>iv,SignatureV4:()=>kj,SignatureV4Base:()=>Tv,TOKEN_HEADER:()=>uv,TOKEN_QUERY_PARAM:()=>Tp,UNSIGNABLE_PATTERNS:()=>bj,UNSIGNED_PAYLOAD:()=>gv,clearCredentialCache:()=>Tj,createScope:()=>$a,getCanonicalHeaders:()=>Sp,getCanonicalQuery:()=>Cv,getPayloadHash:()=>Ha,getSigningKey:()=>Ev,hasHeader:()=>vv,moveHeadersToQuery:()=>wv,prepareRequest:()=>bp,signatureV4aContainer:()=>Mj});xv.exports=Ej(rv);var QS=we(),ov="X-Amz-Algorithm",sv="X-Amz-Credential",wp="X-Amz-Date",iv="X-Amz-SignedHeaders",av="X-Amz-Expires",Cp="X-Amz-Signature",Tp="X-Amz-Security-Token",Sj="X-Amz-Region-Set",xp="authorization",Ip=wp.toLowerCase(),cv="date",dv=[xp,Ip,cv],lv=Cp.toLowerCase(),Ga="x-amz-content-sha256",uv=Tp.toLowerCase(),vj="host",pv={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},mv=/^proxy-/,fv=/^sec-/,bj=[/^proxy-/i,/^sec-/i],Fa="AWS4-HMAC-SHA256",wj="AWS4-ECDSA-P256-SHA256",hv="AWS4-HMAC-SHA256-PAYLOAD",gv="UNSIGNED-PAYLOAD",yv=50,Pp="aws4_request",_v=60*60*24*7,Cr=hu(),Cj=we(),Yn={},ja=[],$a=xe((e,t,r)=>`${e}/${t}/${r}/${Pp}`,"createScope"),Ev=xe(async(e,t,r,n,o)=>{let s=await ZS(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,Cr.toHex)(s)}:${t.sessionToken}`;if(i in Yn)return Yn[i];for(ja.push(i);ja.length>yv;)delete Yn[ja.shift()];let c=`AWS4${t.secretAccessKey}`;for(let l of[r,n,o,Pp])c=await ZS(e,c,l);return Yn[i]=c},"getSigningKey"),Tj=xe(()=>{ja.length=0,Object.keys(Yn).forEach(e=>{delete Yn[e]})},"clearCredentialCache"),ZS=xe((e,t,r)=>{let n=new e(t);return n.update((0,Cj.toUint8Array)(r)),n.digest()},"hmac"),Sp=xe(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in pv||t?.has(s)||mv.test(s)||fv.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),xj=zl(),Ij=we(),Ha=xe(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Ga)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,xj.isArrayBuffer)(t)){let n=new r;return n.update((0,Ij.toUint8Array)(t)),(0,Cr.toHex)(await n.digest())}return gv},"getPayloadHash"),ev=we(),Pj=class{static{xe(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,ev.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,ev.fromUtf8)(e.value),c=new DataView(new ArrayBuffer(3+i.byteLength));c.setUint8(0,7),c.setUint16(1,i.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(i,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(Rj.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!Aj.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,Cr.fromHex)(e.value.replace(/\-/g,"")),1),p}}},Aj=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Rj=class Sv{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{xe(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&vp(r),new Sv(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&vp(t),parseInt((0,Cr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function vp(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}xe(vp,"negate");var vv=xe((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),bv=ee(),wv=xe((e,t={})=>{let{headers:r,query:n={}}=bv.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),bp=xe(e=>{e=bv.HttpRequest.clone(e);for(let t of Object.keys(e.headers))dv.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),tv=tt(),Oj=we(),qa=iu(),Cv=xe(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===lv)continue;let o=(0,qa.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,qa.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,c)=>i.concat([`${o}=${(0,qa.escapeUri)(c)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),Nj=xe(e=>Dj(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Dj=xe(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Tv=class{static{xe(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,tv.normalizeProvider)(r),this.credentialProvider=(0,tv.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Cv(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,Oj.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,Cr.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,qa.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=Nj(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},kj=class extends Tv{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new Pj}static{xe(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:c,signingRegion:l,signingService:u}=t,p=await this.credentialProvider();this.validateResolvedCredentials(p);let m=l??await this.regionProvider(),{longDate:f,shortDate:h}=this.formatDate(r);if(n>_v)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=$a(h,m,u??this.service),_=wv(bp(e),{unhoistableHeaders:s,hoistableHeaders:c});p.sessionToken&&(_.query[Tp]=p.sessionToken),_.query[ov]=Fa,_.query[sv]=`${p.accessKeyId}/${g}`,_.query[wp]=f,_.query[av]=n.toString(10);let S=Sp(_,o,i);return _.query[iv]=this.getCanonicalHeaderList(S),_.query[Cp]=await this.getSignature(f,g,this.getSigningKey(p,m,h,u),this.createCanonicalRequest(_,S,await Ha(e,this.sha256))),_}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(r),u=$a(c,i,s??this.service),p=await Ha({headers:{},body:t},this.sha256),m=new this.sha256;m.update(e);let f=(0,Cr.toHex)(await m.digest()),h=[hv,l,u,n,f,p].join(`
`);return this.signString(h,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),c=new this.sha256(await this.getSigningKey(o,s,i,n));return c.update((0,QS.toUint8Array)(e)),(0,Cr.toHex)(await c.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let c=o??await this.regionProvider(),l=bp(e),{longDate:u,shortDate:p}=this.formatDate(t),m=$a(p,c,s??this.service);l.headers[Ip]=u,i.sessionToken&&(l.headers[uv]=i.sessionToken);let f=await Ha(l,this.sha256);!vv(Ga,l.headers)&&this.applyChecksum&&(l.headers[Ga]=f);let h=Sp(l,n,r),g=await this.getSignature(u,m,this.getSigningKey(i,c,p,s),this.createCanonicalRequest(l,h,f));return l.headers[xp]=`${Fa} Credential=${i.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${g}`,l}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,Fa),s=new this.sha256(await r);return s.update((0,QS.toUint8Array)(o)),(0,Cr.toHex)(await s.digest())}getSigningKey(e,t,r,n){return Ev(this.sha256,e,r,t,n||this.service)}},Mj={SignatureV4a:null}});function Lj(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=sp(t,op,Aa):r?n=gr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Bj(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Ap,gn,Pv,Av=y(()=>{yt();ae();Ap=E(Iv()),gn=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let p=Lj(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),m=Bj(e,p);r&&!m.attributed?(n=async f=>m(f).then(h=>br(h,"CREDENTIALS_CODE","e")),n.memoized=m.memoized,n.configBound=m.configBound,n.attributed=!0):n=m},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,c;return e.signer?c=gr(e.signer):e.regionInfoProvider?c=()=>gr(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,p])=>{let{signingRegion:m,signingService:f}=u;e.signingRegion=e.signingRegion||m||p,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||Ap.SignatureV4;return new g(h)}):c=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await gr(e.region)(),properties:{}},u);let p=u.signingRegion,m=u.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||m||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},h=e.signerConstructor||Ap.SignatureV4;return new h(f)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:c})},Pv=gn});var Rv=y(()=>{gp();FS();qS();XS();Av()});var Ov={};et(Ov,{AWSSDKSigV4Signer:()=>hp,AwsSdkSigV4ASigner:()=>us,AwsSdkSigV4Signer:()=>Ge,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Jn,NODE_SIGV4A_CONFIG_OPTIONS:()=>YS,getBearerTokenEnvKey:()=>La,resolveAWSSDKSigV4Config:()=>Pv,resolveAwsSdkSigV4AConfig:()=>JS,resolveAwsSdkSigV4Config:()=>gn,validateSigningProperties:()=>Kn});var Rp=y(()=>{Rv();_p()});var Uj,Fj,jj,Nv=y(()=>{Uj=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},Fj=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},jj=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ps=v((Yre,Mv)=>{var Va=Object.defineProperty,$j=Object.getOwnPropertyDescriptor,Hj=Object.getOwnPropertyNames,qj=Object.prototype.hasOwnProperty,Gj=(e,t)=>Va(e,"name",{value:t,configurable:!0}),zj=(e,t)=>{for(var r in t)Va(e,r,{get:t[r],enumerable:!0})},Vj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Hj(t))!qj.call(e,o)&&o!==r&&Va(e,o,{get:()=>t[o],enumerable:!(n=$j(t,o))||n.enumerable});return e},Wj=e=>Vj(Va({},"__esModule",{value:!0}),e),kv={};zj(kv,{calculateBodyLength:()=>Kj});Mv.exports=Wj(kv);var Dv=typeof TextEncoder=="function"?new TextEncoder:null,Kj=Gj(e=>{if(typeof e=="string"){if(Dv)return Dv.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Oe,Tr=y(()=>{Oe=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function Lv(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Te(n,"bigDecimal"):BigInt(n)}return t}var Bv=y(()=>{gt()});var Hv=v((ene,$v)=>{var Wa=Object.defineProperty,Jj=Object.getOwnPropertyDescriptor,Yj=Object.getOwnPropertyNames,Xj=Object.prototype.hasOwnProperty,rt=(e,t)=>Wa(e,"name",{value:t,configurable:!0}),Qj=(e,t)=>{for(var r in t)Wa(e,r,{get:t[r],enumerable:!0})},Zj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yj(t))!Xj.call(e,o)&&o!==r&&Wa(e,o,{get:()=>t[o],enumerable:!(n=Jj(t,o))||n.enumerable});return e},e1=e=>Zj(Wa({},"__esModule",{value:!0}),e),jv={};Qj(jv,{constructStack:()=>Op});$v.exports=e1(jv);var yn=rt((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),xr=rt((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Op=rt(()=>{let e=[],t=[],r=!1,n=new Set,o=rt(m=>m.sort((f,h)=>Uv[h.step]-Uv[f.step]||Fv[h.priority||"normal"]-Fv[f.priority||"normal"]),"sort"),s=rt(m=>{let f=!1,h=rt(g=>{let _=yn(g.name,g.aliases);if(_.includes(m)){f=!0;for(let S of _)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),f},"removeByName"),i=rt(m=>{let f=!1,h=rt(g=>{if(g.middleware===m){f=!0;for(let _ of yn(g.name,g.aliases))n.delete(_);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),f},"removeByReference"),c=rt(m=>(e.forEach(f=>{m.add(f.middleware,{...f})}),t.forEach(f=>{m.addRelativeTo(f.middleware,{...f})}),m.identifyOnResolve?.(p.identifyOnResolve()),m),"cloneTo"),l=rt(m=>{let f=[];return m.before.forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...l(h))}),f.push(m),m.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...l(h))}),f},"expandRelativeMiddlewareList"),u=rt((m=!1)=>{let f=[],h=[],g={};return e.forEach(S=>{let b={...S,before:[],after:[]};for(let C of yn(b.name,b.aliases))g[C]=b;f.push(b)}),t.forEach(S=>{let b={...S,before:[],after:[]};for(let C of yn(b.name,b.aliases))g[C]=b;h.push(b)}),h.forEach(S=>{if(S.toMiddleware){let b=g[S.toMiddleware];if(b===void 0){if(m)return;throw new Error(`${S.toMiddleware} is not found when adding ${xr(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&b.after.push(S),S.relation==="before"&&b.before.push(S)}}),o(f).map(l).reduce((S,b)=>(S.push(...b),S),[])},"getMiddlewareList"),p={add:(m,f={})=>{let{name:h,override:g,aliases:_}=f,S={step:"initialize",priority:"normal",middleware:m,...f},b=yn(h,_);if(b.length>0){if(b.some(C=>n.has(C))){if(!g)throw new Error(`Duplicate middleware name '${xr(h,_)}'`);for(let C of b){let $=e.findIndex(M=>M.name===C||M.aliases?.some(Q=>Q===C));if($===-1)continue;let F=e[$];if(F.step!==S.step||S.priority!==F.priority)throw new Error(`"${xr(F.name,F.aliases)}" middleware with ${F.priority} priority in ${F.step} step cannot be overridden by "${xr(h,_)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice($,1)}}for(let C of b)n.add(C)}e.push(S)},addRelativeTo:(m,f)=>{let{name:h,override:g,aliases:_}=f,S={middleware:m,...f},b=yn(h,_);if(b.length>0){if(b.some(C=>n.has(C))){if(!g)throw new Error(`Duplicate middleware name '${xr(h,_)}'`);for(let C of b){let $=t.findIndex(M=>M.name===C||M.aliases?.some(Q=>Q===C));if($===-1)continue;let F=t[$];if(F.toMiddleware!==S.toMiddleware||F.relation!==S.relation)throw new Error(`"${xr(F.name,F.aliases)}" middleware ${F.relation} "${F.toMiddleware}" middleware cannot be overridden by "${xr(h,_)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice($,1)}}for(let C of b)n.add(C)}t.push(S)},clone:()=>c(Op()),use:m=>{m.applyToStack(p)},remove:m=>typeof m=="string"?s(m):i(m),removeByTag:m=>{let f=!1,h=rt(g=>{let{tags:_,name:S,aliases:b}=g;if(_&&_.includes(m)){let C=yn(S,b);for(let $ of C)n.delete($);return f=!0,!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),f},concat:m=>{let f=c(Op());return f.use(m),f.identifyOnResolve(r||f.identifyOnResolve()||(m.identifyOnResolve?.()??!1)),f},applyToStack:c,identify:()=>u(!0).map(m=>{let f=m.step??m.relation+" "+m.toMiddleware;return xr(m.name,m.aliases)+" - "+f}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,f)=>{for(let h of u().map(g=>g.middleware).reverse())m=h(m,f);return r&&console.log(p.identify()),m}};return p},"constructStack"),Uv={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Fv={high:3,normal:2,low:1}});var q=v((tne,Up)=>{var Ka=Object.defineProperty,t1=Object.getOwnPropertyDescriptor,r1=Object.getOwnPropertyNames,n1=Object.prototype.hasOwnProperty,J=(e,t)=>Ka(e,"name",{value:t,configurable:!0}),o1=(e,t)=>{for(var r in t)Ka(e,r,{get:t[r],enumerable:!0})},Dp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of r1(t))!n1.call(e,o)&&o!==r&&Ka(e,o,{get:()=>t[o],enumerable:!(n=t1(t,o))||n.enumerable});return e},s1=(e,t,r)=>(Dp(e,t,"default"),r&&Dp(r,t,"default")),i1=e=>Dp(Ka({},"__esModule",{value:!0}),e),Lp={};o1(Lp,{Client:()=>a1,Command:()=>zv,NoOpLogger:()=>C1,SENSITIVE_STRING:()=>d1,ServiceException:()=>u1,_json:()=>Mp,collectBody:()=>Np.collectBody,convertMap:()=>T1,createAggregatedClient:()=>l1,decorateServiceException:()=>Vv,emitWarningIfUnsupportedVersion:()=>h1,extendedEncodeURIComponent:()=>Np.extendedEncodeURIComponent,getArrayIfSingleItem:()=>b1,getDefaultClientConfiguration:()=>S1,getDefaultExtensionConfiguration:()=>Kv,getValueFromTextNode:()=>Jv,isSerializableHeaderValue:()=>w1,loadConfigsForDefaultMode:()=>f1,map:()=>Bp,resolveDefaultRuntimeConfig:()=>v1,resolvedPath:()=>Np.resolvedPath,serializeDateTime:()=>O1,serializeFloat:()=>R1,take:()=>x1,throwDefaultError:()=>Wv,withBaseException:()=>p1});Up.exports=i1(Lp);var Gv=Hv(),a1=class{constructor(e){this.config=e,this.middlewareStack=(0,Gv.constructStack)()}static{J(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?i=c.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),c.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return i(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Np=(Qt(),j(jE)),kp=ft(),zv=class{constructor(){this.middlewareStack=(0,Gv.constructStack)()}static{J(this,"Command")}static classBuilder(){return new c1}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:p}){for(let _ of n.bind(this)(p,e,t,r))this.middlewareStack.use(_);let m=e.concat(this.middlewareStack),{logger:f}=t,h={logger:f,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:c,[kp.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...u},{requestHandler:g}=t;return m.resolve(_=>g.handle(_.request,r||{}),h)}},c1=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{J(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends zv{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{J(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},d1="***SensitiveInformation***",l1=J((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=J(async function(i,c,l){let u=new n(i);if(typeof c=="function")this.send(u,c);else if(typeof l=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(u,c||{},l)}else return this.send(u,c)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),u1=class ms extends Error{static{J(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return ms.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===ms?ms.isInstance(t):ms.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},Vv=J((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),Wv=J(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=m1(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw Vv(i,t)},"throwDefaultError"),p1=J(e=>({output:t,parsedBody:r,errorCode:n})=>{Wv({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),m1=J(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),f1=J(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),qv=!1,h1=J(e=>{e&&!qv&&parseInt(e.substring(1,e.indexOf(".")))<16&&(qv=!0)},"emitWarningIfUnsupportedVersion"),g1=J(e=>{let t=[];for(let r in kp.AlgorithmId){let n=kp.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),y1=J(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),_1=J(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),E1=J(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),Kv=J(e=>Object.assign(g1(e),_1(e)),"getDefaultExtensionConfiguration"),S1=Kv,v1=J(e=>Object.assign(y1(e),E1(e)),"resolveDefaultRuntimeConfig"),b1=J(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),Jv=J(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Jv(e[r]));return e},"getValueFromTextNode"),w1=J(e=>e!=null,"isSerializableHeaderValue"),C1=class{static{J(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function Bp(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,I1(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}Yv(n,null,s,i)}return n}J(Bp,"map");var T1=J(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),x1=J((e,t)=>{let r={};for(let n in t)Yv(r,e,t,n);return r},"take"),I1=J((e,t,r)=>Bp(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),Yv=J((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[c=P1,l=A1,u=n]=i;(typeof c=="function"&&c(t[u])||typeof c!="function"&&c)&&(e[n]=l(t[u]));return}let[o,s]=r[n];if(typeof s=="function"){let i,c=o===void 0&&(i=s())!=null,l=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;c?e[n]=i:l&&(e[n]=s())}else{let i=o===void 0&&s!=null,c=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||c)&&(e[n]=s)}},"applyInstruction"),P1=J(e=>e!=null,"nonNullish"),A1=J(e=>e,"pass"),R1=J(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),O1=J(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),Mp=J(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Mp);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Mp(e[r]));return t}return e},"_json");s1(Lp,(gt(),j(AE)),Up.exports)});var Xv,Ja,Fp=y(()=>{Xv=E(q()),Ja=(e,t)=>(0,Xv.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var Xn,jp,_n,fs=y(()=>{Fp();Xn=(e,t)=>Ja(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),jp=async(e,t)=>{let r=await Xn(e,t);return r.message=r.message??r.Message,r},_n=(e,t)=>{let r=(s,i)=>Object.keys(s).find(c=>c.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var Qv,hs,$p=y(()=>{Se();gt();Qv=E(De());Tr();Bv();fs();hs=class extends Oe{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,Lv):await Xn(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=L.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),c=[],l=!!o.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&c.push(this._read(i,u));return c}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),c={},l=!!o.getMergedTraits().sparse;for(let[u,p]of Object.entries(r))(l||p!=null)&&(c[u]=this._read(i,p));return c}else if(o.isStructSchema()&&n){let i={};for(let[c,l]of o.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,p=this._read(l,r[u]);p!=null&&(i[c]=p)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,Qv.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Me.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===x.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case x.TIMESTAMP_DATE_TIME:return Zo(r);case x.TIMESTAMP_HTTP_DATE:return es(r);case x.TIMESTAMP_EPOCH_SECONDS:return ts(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof Te?r:new Te(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var Zv,Ya,eb=y(()=>{gt();Zv="\u039D",Ya=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Te){let n=`${Zv+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${Zv+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var gs,Hp=y(()=>{Se();gt();Tr();eb();gs=class extends Oe{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=L.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new Ya;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=L.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&c.push(this._write(i,u));return c}else if(s.isMapSchema()&&o){let i=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[u,p]of Object.entries(r))(l||p!=null)&&(c[u]=this._write(i,p));return c}else if(s.isStructSchema()&&o){let i={};for(let[c,l]of s.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,p=this._write(l,r[c],s);p!==void 0&&(i[u]=p)}return i}if(!(r===null&&n?.isStructSchema())){if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?s.getSchema()===x.TIMESTAMP_DEFAULT?i.default:s.getSchema()??i.default:i.default){case x.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case x.TIMESTAMP_HTTP_DATE:return Qo(r);case x.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return kt();let i=s.getMergedTraits().mediaType;if(typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return Me.from(r)}return r}}}});var En,Xa=y(()=>{Tr();$p();Hp();En=class extends Oe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new gs(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new hs(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var tb,Sn,Qa=y(()=>{Qt();Se();tb=E(ps());Xa();fs();Sn=class extends dn{serializer;deserializer;serviceTarget;codec;constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new En({timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${L.of(t).getName()}`}),(Xt(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,tb.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=_n(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=ke.for(c),p;try{p=u.getSchema(i)}catch{let S=ke.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(S){let b=S.ctor;throw Object.assign(new b(l),o)}throw new Error(l)}let m=L.of(p),f=o.message??o.Message??"Unknown",h=new p.ctor(f);await this.deserializeHttpMessage(p,r,n,o);let g={};for(let[_,S]of m.structIterator()){let b=S.getMergedTraits().jsonName??_;g[_]=this.codec.createDeserializer().readObject(S,o[b])}throw Object.assign(h,{$metadata:s,$response:n,$fault:m.getMergedTraits().error,message:f,...g}),h}}});var qp,rb=y(()=>{Qa();qp=class extends Sn{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Gp,nb=y(()=>{Qa();Gp=class extends Sn{constructor({defaultNamespace:t,serviceTarget:r}){super({defaultNamespace:t,serviceTarget:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var ob,zp,sb=y(()=>{Qt();Se();ob=E(ps());Xa();fs();zp=class extends cn{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new En(r),this.serializer=new mn(this.codec.createSerializer(),r),this.deserializer=new pn(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=L.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let c=Object.values(i).find(l=>!!l.getMergedTraits().httpPayload);if(c){let l=c.getMergedTraits().mediaType;l?o.headers["content-type"]=l:c.isStringSchema()?o.headers["content-type"]="text/plain":c.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:p,httpQueryParams:m,httpHeader:f,httpLabel:h,httpPrefixHeaders:g}=u.getMergedTraits();return!p&&!m&&!f&&!h&&g===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,ob.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=_n(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=ke.for(c),p;try{p=u.getSchema(i)}catch{let S=ke.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(S){let b=S.ctor;throw Object.assign(new b(l),o)}throw new Error(l)}let m=L.of(p),f=o.message??o.Message??"Unknown",h=new p.ctor(f);await this.deserializeHttpMessage(p,r,n,o);let g={};for(let[_,S]of m.structIterator()){let b=S.getMergedTraits().jsonName??_;g[_]=this.codec.createDeserializer().readObject(S,o[b])}throw Object.assign(h,{$metadata:s,$response:n,$fault:m.getMergedTraits().error,message:f,...g}),h}getDefaultContentType(){return"application/json"}}});var ib,N1,ab=y(()=>{ib=E(q()),N1=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,ib.expectUnion)(e)}});function Za(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function db(e){return typeof e<"u"}var cb,D1,k1,M1,ys,ec=y(()=>{"use strict";cb=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",D1=cb+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",k1="["+cb+"]["+D1+"]*",M1=new RegExp("^"+k1+"$");ys=function(e){let t=M1.exec(e);return!(t===null||typeof t>"u")}});function fb(e,t){t=Object.assign({},L1,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=ub(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=pb(e,s);continue}else{let c=!1;e[s]==="/"&&(c=!0,s++);let l="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)l+=e[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!G1(l)){let m;return l.trim().length===0?m="Invalid space after '<'.":m="Tag '"+l+"' is an invalid name.",ce("InvalidTag",m,Be(e,s))}let u=F1(e,s);if(u===!1)return ce("InvalidAttr","Attributes for '"+l+"' have open quote.",Be(e,s));let p=u.value;if(s=u.index,p[p.length-1]==="/"){let m=s-p.length;p=p.substring(0,p.length-1);let f=mb(p,t);if(f===!0)n=!0;else return ce(f.err.code,f.err.msg,Be(e,m+f.err.line))}else if(c)if(u.tagClosed){if(p.trim().length>0)return ce("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",Be(e,i));if(r.length===0)return ce("InvalidTag","Closing tag '"+l+"' has not been opened.",Be(e,i));{let m=r.pop();if(l!==m.tagName){let f=Be(e,m.tagStartPos);return ce("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+l+"'.",Be(e,i))}r.length==0&&(o=!0)}}else return ce("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",Be(e,s));else{let m=mb(p,t);if(m!==!0)return ce(m.err.code,m.err.msg,Be(e,s-p.length+m.err.line));if(o===!0)return ce("InvalidXml","Multiple possible root nodes found.",Be(e,s));t.unpairedTags.indexOf(l)!==-1||r.push({tagName:l,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=pb(e,s);continue}else if(e[s+1]==="?"){if(s=ub(e,++s),s.err)return s}else break;else if(e[s]==="&"){let m=H1(e,s);if(m==-1)return ce("InvalidChar","char '&' is not expected.",Be(e,s));s=m}else if(o===!0&&!lb(e[s]))return ce("InvalidXml","Extra text at the end",Be(e,s));e[s]==="<"&&s--}}else{if(lb(e[s]))continue;return ce("InvalidChar","char '"+e[s]+"' is not expected.",Be(e,s))}if(n){if(r.length==1)return ce("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Be(e,r[0].tagStartPos));if(r.length>0)return ce("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ce("InvalidXml","Start tag expected.",1);return!0}function lb(e){return e===" "||e==="	"||e===`
`||e==="\r"}function ub(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ce("InvalidXml","XML declaration allowed only at the start of the document.",Be(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function pb(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function F1(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===B1||e[t]===U1)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function mb(e,t){let r=Za(e,j1),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ce("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",_s(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ce("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",_s(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ce("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",_s(r[o]));let s=r[o][2];if(!q1(s))return ce("InvalidAttr","Attribute '"+s+"' is an invalid name.",_s(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ce("InvalidAttr","Attribute '"+s+"' is repeated.",_s(r[o]))}return!0}function $1(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function H1(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,$1(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ce(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function q1(e){return ys(e)}function G1(e){return ys(e)}function Be(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function _s(e){return e.startIndex+e[1].length}var L1,B1,U1,j1,hb=y(()=>{"use strict";ec();L1={allowBooleanAttributes:!1,unpairedTags:[]};B1='"',U1="'";j1=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var z1,gb,yb=y(()=>{z1={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},gb=function(e){return Object.assign({},z1,e)}});var tc,Ke,rc=y(()=>{"use strict";typeof Symbol!="function"?tc="@@xmlMetadata":tc=Symbol("XML Node Metadata");Ke=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][tc]={startIndex:r})}static getMetaDataSymbol(){return tc}}});function Vp(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&vn(e,"!ENTITY",t)){t+=7;let c,l;[c,l,t]=V1(e,t+1),l.indexOf("&")===-1&&(r[c]={regx:RegExp(`&${c};`,"g"),val:l})}else if(o&&vn(e,"!ELEMENT",t)){t+=8;let{index:c}=K1(e,t+1);t=c}else if(o&&vn(e,"!ATTLIST",t))t+=8;else if(o&&vn(e,"!NOTATION",t)){t+=9;let{index:c}=W1(e,t+1);t=c}else if(vn(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function V1(e,t){t=Ir(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Wp(r),t=Ir(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=nc(e,t,"entity"),t--,[r,n,t]}function W1(e,t){t=Ir(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Wp(r),t=Ir(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=Ir(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=nc(e,t,"publicIdentifier"),t=Ir(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=nc(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=nc(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function nc(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function K1(e,t){t=Ir(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Wp(r))throw new Error(`Invalid element name: "${r}"`);t=Ir(e,t);let n="";if(e[t]==="E"&&vn(e,"MPTY",t))t+=4;else if(e[t]==="A"&&vn(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function vn(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Wp(e){if(ys(e))return e;throw new Error(`Invalid entity name ${e}`)}var Ir,_b=y(()=>{ec();Ir=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function Kp(e,t={}){if(t=Object.assign({},X1,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&J1.test(r))return t$(r,16);if(r.search(/.+[eE].+/)!==-1)return Z1(e,r,t);{let n=Y1.exec(r);if(n){let o=n[1]||"",s=n[2],i=e$(n[3]),c=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!c))return e;{let l=Number(r),u=String(l);if(l===0)return l;if(u.search(/[eE]/)!==-1)return t.eNotation?l:e;if(r.indexOf(".")!==-1)return u==="0"||u===i||u===`${o}${i}`?l:e;let p=s?i:r;return s?p===u||o+p===u?l:e:p===u||p===o+u?l:e}}else return e}}function Z1(e,t,r){if(!r.eNotation)return e;let n=t.match(Q1);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],c=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&c?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!c?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function e$(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function t$(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var J1,Y1,X1,Q1,Eb=y(()=>{J1=/^[-+]?0x[a-fA-F0-9]+$/,Y1=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,X1={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Q1=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function Jp(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var Sb=y(()=>{});function r$(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function n$(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let c=this.options.tagValueProcessor(t,e,r,o,s);return c==null?e:typeof c!=typeof e||c!==e?c:this.options.trimValues?Xp(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Xp(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function o$(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function i$(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=Za(e,s$),o=n.length,s={};for(let i=0;i<o;i++){let c=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(c,t))continue;let l=n[i][4],u=this.options.attributeNamePrefix+c;if(c.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);let p=this.options.attributeValueProcessor(c,l,t);p==null?s[u]=l:typeof p!=typeof l||p!==l?s[u]=p:s[u]=Xp(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function c$(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function l$(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function u$(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function p$(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function bn(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Yp(e,t,r,n=">"){let o=p$(e,t+1,n);if(!o)return;let s=o.data,i=o.index,c=s.search(/\s/),l=s,u=!0;c!==-1&&(l=s.substring(0,c),s=s.substring(c+1).trimStart());let p=l;if(r){let m=l.indexOf(":");m!==-1&&(l=l.substr(m+1),u=l!==o.data.substr(m+1))}return{tagName:l,tagExp:s,closeIndex:i,attrExpPresent:u,rawTagName:p}}function m$(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=bn(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=bn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=bn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=bn(e,"]]>",r,"StopNode is not closed.")-2;else{let s=Yp(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Xp(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Kp(e,r)}else return db(e)?e:""}var Es,s$,a$,d$,vb=y(()=>{"use strict";ec();rc();_b();Eb();Sb();Es=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=r$,this.parseXml=a$,this.parseTextData=n$,this.resolveNameSpace=o$,this.buildAttributesMap=i$,this.isItStopNode=u$,this.replaceEntitiesValue=d$,this.readStopNodeData=m$,this.saveTextToParentTag=l$,this.addChild=c$,this.ignoreAttributesFn=Jp(this.options.ignoreAttributes)}};s$=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");a$=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Ke("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let c=bn(e,">",s,"Closing Tag is not closed."),l=e.substring(s+2,c).trim();if(this.options.removeNSPrefix){let m=l.indexOf(":");m!==-1&&(l=l.substr(m+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&(n=this.saveTextToParentTag(n,r,o));let u=o.substring(o.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let p=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",s=c}else if(e[s+1]==="?"){let c=Yp(e,s,!1,"?>");if(!c)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&c.tagName==="?xml"||this.options.ignorePiTags)){let l=new Ke(c.tagName);l.add(this.options.textNodeName,""),c.tagName!==c.tagExp&&c.attrExpPresent&&(l[":@"]=this.buildAttributesMap(c.tagExp,o,c.tagName)),this.addChild(r,l,o,s)}s=c.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let c=bn(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let l=e.substring(s+4,c-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}s=c}else if(e.substr(s+1,2)==="!D"){let c=Vp(e,s);this.docTypeEntities=c.entities,s=c.i}else if(e.substr(s+1,2)==="!["){let c=bn(e,"]]>",s,"CDATA is not closed.")-2,l=e.substring(s+9,c);n=this.saveTextToParentTag(n,r,o);let u=this.parseTextData(l,r.tagname,o,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):r.add(this.options.textNodeName,u),s=c+2}else{let c=Yp(e,s,this.options.removeNSPrefix),l=c.tagName,u=c.rawTagName,p=c.tagExp,m=c.attrExpPresent,f=c.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let h=r;h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),l!==t.tagname&&(o+=o?"."+l:l);let g=s;if(this.isItStopNode(this.options.stopNodes,o,l)){let _="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),p=l):p=p.substr(0,p.length-1),s=c.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)s=c.closeIndex;else{let b=this.readStopNodeData(e,u,f+1);if(!b)throw new Error(`Unexpected end of ${u}`);s=b.i,_=b.tagContent}let S=new Ke(l);l!==p&&m&&(S[":@"]=this.buildAttributesMap(p,o,l)),_&&(_=this.parseTextData(_,l,o,!0,m,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,_),this.addChild(r,S,o,g)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),p=l):p=p.substr(0,p.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));let _=new Ke(l);l!==p&&m&&(_[":@"]=this.buildAttributesMap(p,o,l)),this.addChild(r,_,o,g),o=o.substr(0,o.lastIndexOf("."))}else{let _=new Ke(l);this.tagsNodeStack.push(r),l!==p&&m&&(_[":@"]=this.buildAttributesMap(p,o,l)),this.addChild(r,_,o,g),r=_}n="",s=f}}else n+=e[s];return t.child};d$=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Zp(e,t){return bb(e,t)}function bb(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],c=f$(i),l="";if(r===void 0?l=c:l=r+"."+c,c===t.textNodeName)n===void 0?n=i[c]:n+=""+i[c];else{if(c===void 0)continue;if(i[c]){let u=bb(i[c],t,l),p=g$(u,t);i[Qp]!==void 0&&(u[Qp]=i[Qp]),i[":@"]?h$(u,i[":@"],l,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),o[c]!==void 0&&o.hasOwnProperty(c)?(Array.isArray(o[c])||(o[c]=[o[c]]),o[c].push(u)):t.isArray(c,l,p)?o[c]=[u]:o[c]=u}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function f$(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function h$(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let c=o[i];n.isArray(c,r+"."+c,!0,!0)?e[c]=[t[c]]:e[c]=t[c]}}}function g$(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var Qp,wb=y(()=>{"use strict";rc();Qp=Ke.getMetaDataSymbol()});var Pr,Cb=y(()=>{yb();vb();wb();hb();rc();Pr=class{constructor(t){this.externalEntities={},this.options=gb(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=fb(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Es(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Zp(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return Ke.getMetaDataSymbol()}}});var em=y(()=>{"use strict";Cb()});var Tb,xb,wn,oc=y(()=>{Qt();Se();Tb=E(q()),xb=E(we());em();Tr();wn=class extends Oe{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new un(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=L.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},p=Object.keys(s)[0];return s[p].isBlobSchema()?u[p]=r:u[p]=this.read(s[p],r),u}let c=(this.serdeContext?.utf8Encoder??xb.toUtf8)(r),l=this.parseXml(c);return this.readSchema(t,n?l[n]:l)}readSchema(t,r){let n=L.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),u=[],p=l.getMergedTraits().xmlName??"member",m=i?r:(r[0]??r)[p],f=Array.isArray(m)?m:[m];for(let h of f)(h!=null||s)&&u.push(this.readSchema(l,h));return u}let c={};if(n.isMapSchema()){let l=n.getKeySchema(),u=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let m=l.getMergedTraits().xmlName??"key",f=u.getMergedTraits().xmlName??"value";for(let h of p){let g=h[m],_=h[f];(_!=null||s)&&(c[g]=this.readSchema(u,_))}return c}if(n.isStructSchema()){for(let[l,u]of n.structIterator()){let p=u.getMergedTraits(),m=p.httpPayload?p.xmlName??u.getName():u.getMemberTraits().xmlName??l;r[m]!=null&&(c[l]=this.readSchema(u,r[m]))}return c}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new Pr({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,Tb.getValueFromTextNode)(i)}return{}}}});var Ib,Pb,sc,Ab=y(()=>{Qt();Se();gt();Ib=E(q()),Pb=E(De());Tr();sc=class extends Oe{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=L.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Pb.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(kt()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Te?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),ln(o,this.settings)){case x.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case x.TIMESTAMP_HTTP_DATE:this.writeValue((0,Ib.dateToUtcString)(r));break;case x.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,c=1;for(let l of r){if(l==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),p=i?`${n}${c}`:`${n}${u}.${c}`;this.write(s,l,p),++c}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),c=o.getMergedTraits().xmlFlattened,l=1;for(let[u,p]of Object.entries(r)){if(p==null)continue;let m=this.getKey("key",s.getMergedTraits().xmlName),f=c?`${n}${l}.${m}`:`${n}entry.${l}.${m}`,h=this.getKey("value",i.getMergedTraits().xmlName),g=c?`${n}${l}.${h}`:`${n}entry.${l}.${h}`;this.write(s,u,f),this.write(i,p,g),++l}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null&&!i.isIdempotencyToken())continue;let c=this.getKey(s,i.getMergedTraits().xmlName),l=`${n}${c}`;this.write(i,r[s],l)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Ot(t)}=`}writeValue(t){this.buffer+=Ot(t)}}});var Rb,Ss,tm=y(()=>{Qt();Se();Rb=E(ps());oc();Ab();Ss=class extends dn{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new sc(r),this.deserializer=new wn(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Xt(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,Rb.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=L.of(t.output),i={};if(n.statusCode>=300){let p=await ht(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let m=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=m}let c=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,l=await ht(n.body,r);return l.byteLength>0&&Object.assign(i,await o.read(s,l,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=this.loadQueryError(o),p=ke.for(c),m;try{m=p.find(S=>L.of(S).getMergedTraits().awsQueryError?.[0]===l),m||(m=p.getSchema(i))}catch{let b=ke.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(b){let C=b.ctor;throw Object.assign(new C(l),u)}throw new Error(l)}let f=L.of(m),h=this.loadQueryErrorMessage(o),g=new m.ctor(h),_={};for(let[S,b]of f.structIterator()){let C=b.getMergedTraits().xmlName??S,$=u[C]??o[C];_[S]=this.deserializer.readSchema(b,$)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var rm,Ob=y(()=>{tm();rm=class extends Ss{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Nb,vs,nm,om,sm=y(()=>{Nb=E(q());em();Fp();vs=(e,t)=>Ja(e,t).then(r=>{if(r.length){let n=new Pr({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:r}),l}let s="#text",i=Object.keys(o)[0],c=o[i];return c[s]&&(c[i]=c[s],delete c[s]),(0,Nb.getValueFromTextNode)(c)}return{}}),nm=async(e,t)=>{let r=await vs(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},om=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Ub=v((Doe,Bb)=>{"use strict";var ac=Object.defineProperty,y$=Object.getOwnPropertyDescriptor,_$=Object.getOwnPropertyNames,E$=Object.prototype.hasOwnProperty,cc=(e,t)=>ac(e,"name",{value:t,configurable:!0}),S$=(e,t)=>{for(var r in t)ac(e,r,{get:t[r],enumerable:!0})},v$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _$(t))!E$.call(e,o)&&o!==r&&ac(e,o,{get:()=>t[o],enumerable:!(n=y$(t,o))||n.enumerable});return e},b$=e=>v$(ac({},"__esModule",{value:!0}),e),Db={};S$(Db,{XmlNode:()=>w$,XmlText:()=>Lb});Bb.exports=b$(Db);function kb(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}cc(kb,"escapeAttribute");function Mb(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}cc(Mb,"escapeElement");var Lb=class{constructor(e){this.value=e}static{cc(this,"XmlText")}toString(){return Mb(""+this.value)}},w$=class ic{constructor(t,r=[]){this.name=t,this.children=r}static{cc(this,"XmlNode")}attributes={};static of(t,r,n){let o=new ic(t);return r!==void 0&&o.addChildNode(new Lb(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=ic.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new ic(n);s.map(c=>{i.c(c)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${kb(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}}});var nt,im,dc,bs,am=y(()=>{nt=E(Ub());Se();gt();im=E(q()),dc=E(De());Tr();bs=class extends Oe{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=L.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??dc.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=nt.XmlNode.of(s),[c,l]=this.getXmlnsAttribute(t,n);l&&i.addAttribute(c,l);for(let[u,p]of t.structIterator()){let m=r[u];if(m!=null||p.isIdempotencyToken()){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??u,this.writeSimple(p,m));continue}if(p.isListSchema())this.writeList(p,m,i,l);else if(p.isMapSchema())this.writeMap(p,m,i,l);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,m,l));else{let f=nt.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,m,f,l),i.addChildNode(f)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),c=i.getMergedTraits(),l=!!c.sparse,u=!!s.xmlFlattened,[p,m]=this.getXmlnsAttribute(t,o),f=(h,g)=>{if(i.isListSchema())this.writeList(i,Array.isArray(g)?g:[g],h,m);else if(i.isMapSchema())this.writeMap(i,g,h,m);else if(i.isStructSchema()){let _=this.writeStruct(i,g,m);h.addChildNode(_.withName(u?s.xmlName??t.getMemberName():c.xmlName??"member"))}else{let _=nt.XmlNode.of(u?s.xmlName??t.getMemberName():c.xmlName??"member");this.writeSimpleInto(i,g,_,m),h.addChildNode(_)}};if(u)for(let h of r)(l||h!=null)&&f(n,h);else{let h=nt.XmlNode.of(s.xmlName??t.getMemberName());m&&h.addAttribute(p,m);for(let g of r)(l||g!=null)&&f(h,g);n.addChildNode(h)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),c=t.getKeySchema(),u=c.getMergedTraits().xmlName??"key",p=t.getValueSchema(),m=p.getMergedTraits(),f=m.xmlName??"value",h=!!m.sparse,g=!!i.xmlFlattened,[_,S]=this.getXmlnsAttribute(t,o),b=(C,$,F)=>{let M=nt.XmlNode.of(u,$),[Q,Vt]=this.getXmlnsAttribute(c,S);Vt&&M.addAttribute(Q,Vt),C.addChildNode(M);let be=nt.XmlNode.of(f);p.isListSchema()?this.writeList(p,F,be,S):p.isMapSchema()?this.writeMap(p,F,be,S,!0):p.isStructSchema()?be=this.writeStruct(p,F,S):this.writeSimpleInto(p,F,be,S),C.addChildNode(be)};if(g){for(let[C,$]of Object.entries(r))if(h||$!=null){let F=nt.XmlNode.of(i.xmlName??t.getMemberName());b(F,C,$),n.addChildNode(F)}}else{let C;s||(C=nt.XmlNode.of(i.xmlName??t.getMemberName()),S&&C.addAttribute(_,S),n.addChildNode(C));for(let[$,F]of Object.entries(r))if(h||F!=null){let M=nt.XmlNode.of("entry");b(M,$,F),(s?n:C).addChildNode(M)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=L.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??dc.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===x.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case x.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:o=(0,im.dateToUtcString)(r);break;case x.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,im.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof Te?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=kt():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=L.of(t),c=new nt.XmlText(s),[l,u]=this.getXmlnsAttribute(i,o);u&&n.addAttribute(l,u),n.addChildNode(c)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var ws,cm=y(()=>{Tr();oc();am();ws=class extends Oe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new bs(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new wn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Fb,dm,jb=y(()=>{Qt();Se();Fb=E(ps());sm();cm();dm=class extends cn{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new ws(r),this.serializer=new mn(this.codec.createSerializer(),r),this.deserializer=new pn(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=L.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(c=>c!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let c=Object.values(i).find(l=>!!l.getMergedTraits().httpPayload);if(c){let l=c.getMergedTraits().mediaType;l?o.headers["content-type"]=l:c.isStringSchema()?o.headers["content-type"]="text/plain":c.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]=this.getDefaultContentType()}else s.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:p,httpQueryParams:m,httpHeader:f,httpLabel:h,httpPrefixHeaders:g}=u.getMergedTraits();return!p&&!m&&!f&&!h&&g===void 0})&&(o.headers["content-type"]=this.getDefaultContentType())}if(o.headers["content-type"]===this.getDefaultContentType()&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,Fb.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=om(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=ke.for(c),p;try{p=u.getSchema(i)}catch{let S=ke.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(S){let b=S.ctor;throw Object.assign(new b(l),o)}throw new Error(l)}let m=L.of(p),f=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",h=new p.ctor(f);await this.deserializeHttpMessage(p,r,n,o);let g={};for(let[_,S]of m.structIterator()){let b=S.getMergedTraits().xmlName??_,C=o.Error?.[b]??o[b];g[_]=this.codec.createDeserializer().readSchema(S,C)}throw Object.assign(h,{$metadata:s,$response:n,$fault:m.getMergedTraits().error,message:f,...g}),h}getDefaultContentType(){return"application/xml"}}});var $b=y(()=>{Nv();rb();nb();Qa();sb();Xa();$p();Hp();ab();fs();Ob();tm();jb();cm();oc();am();sm()});var _t={};et(_t,{AWSSDKSigV4Signer:()=>hp,AwsEc2QueryProtocol:()=>rm,AwsJson1_0Protocol:()=>qp,AwsJson1_1Protocol:()=>Gp,AwsJsonRpcProtocol:()=>Sn,AwsQueryProtocol:()=>Ss,AwsRestJsonProtocol:()=>zp,AwsRestXmlProtocol:()=>dm,AwsSdkSigV4ASigner:()=>us,AwsSdkSigV4Signer:()=>Ge,JsonCodec:()=>En,JsonShapeDeserializer:()=>hs,JsonShapeSerializer:()=>gs,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Jn,NODE_SIGV4A_CONFIG_OPTIONS:()=>YS,XmlCodec:()=>ws,XmlShapeDeserializer:()=>wn,XmlShapeSerializer:()=>bs,_toBool:()=>Fj,_toNum:()=>jj,_toStr:()=>Uj,awsExpectUnion:()=>N1,emitWarningIfUnsupportedVersion:()=>Vn,getBearerTokenEnvKey:()=>La,loadRestJsonErrorCode:()=>_n,loadRestXmlErrorCode:()=>om,parseJsonBody:()=>Xn,parseJsonErrorBody:()=>jp,parseXmlBody:()=>vs,parseXmlErrorBody:()=>nm,resolveAWSSDKSigV4Config:()=>Pv,resolveAwsSdkSigV4AConfig:()=>JS,resolveAwsSdkSigV4Config:()=>gn,setCredentialFeature:()=>br,setFeature:()=>PS,setTokenFeature:()=>RS,state:()=>Ma,validateSigningProperties:()=>Kn});var Ee=y(()=>{yt();Rp();$b()});var Qn=v((hse,Zb)=>{"use strict";var uc=Object.defineProperty,C$=Object.getOwnPropertyDescriptor,T$=Object.getOwnPropertyNames,x$=Object.prototype.hasOwnProperty,tr=(e,t)=>uc(e,"name",{value:t,configurable:!0}),I$=(e,t)=>{for(var r in t)uc(e,r,{get:t[r],enumerable:!0})},P$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of T$(t))!x$.call(e,o)&&o!==r&&uc(e,o,{get:()=>t[o],enumerable:!(n=C$(t,o))||n.enumerable});return e},A$=e=>P$(uc({},"__esModule",{value:!0}),e),zb={};I$(zb,{DEFAULT_UA_APP_ID:()=>Vb,getUserAgentMiddlewareOptions:()=>Qb,getUserAgentPlugin:()=>B$,resolveUserAgentConfig:()=>Kb,userAgentMiddleware:()=>Xb});Zb.exports=A$(zb);var R$=(ae(),j(He)),Vb=void 0;function Wb(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}tr(Wb,"isValidUserAgentAppId");function Kb(e){let t=(0,R$.normalizeProvider)(e.userAgentAppId??Vb),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:tr(async()=>{let n=await t();if(!Wb(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}tr(Kb,"resolveUserAgentConfig");var O$=zn(),N$=ee(),Mt=(Ee(),j(_t)),D$=/\d{12}\.ddb/;async function Jb(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Mt.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,Mt.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Mt.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Mt.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(D$)&&(0,Mt.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Mt.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Mt.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Mt.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,Mt.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,c]of Object.entries(s.$source??{}))(0,Mt.setFeature)(e,i,c)}}tr(Jb,"checkFeatures");var Hb="user-agent",lm="x-amz-user-agent",qb=" ",um="/",k$=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,M$=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Gb="-",L$=1024;function Yb(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=L$){t.length?t+=","+n:t+=n;continue}break}return t}tr(Yb,"encodeFeatures");var Xb=tr(e=>(t,r)=>async n=>{let{request:o}=n;if(!N$.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(lc)||[],c=(await e.defaultUserAgentProvider()).map(lc);await Jb(r,e,n);let l=r;c.push(`m/${Yb(Object.assign({},r.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(lc)||[],p=await e.userAgentAppId();p&&c.push(lc([`app/${p}`]));let m=(0,O$.getUserAgentPrefix)(),f=(m?[m]:[]).concat([...c,...i,...u]).join(qb),h=[...c.filter(g=>g.startsWith("aws-sdk-")),...u].join(qb);return e.runtime!=="browser"?(h&&(s[lm]=s[lm]?`${s[Hb]} ${h}`:h),s[Hb]=f):s[lm]=f,t({...n,request:o})},"userAgentMiddleware"),lc=tr(e=>{let t=e[0].split(um).map(i=>i.replace(k$,Gb)).join(um),r=e[1]?.replace(M$,Gb),n=t.indexOf(um),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,c,l)=>{switch(l){case 0:return c;case 1:return`${i}/${c}`;default:return`${i}#${c}`}},"")},"escapeUserAgent"),Qb={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},B$=tr(e=>({applyToStack:tr(t=>{t.add(Xb(e),Qb)},"applyToStack")}),"getUserAgentPlugin")});var ow=v((gse,nw)=>{var pc=Object.defineProperty,U$=Object.getOwnPropertyDescriptor,F$=Object.getOwnPropertyNames,j$=Object.prototype.hasOwnProperty,ew=(e,t)=>pc(e,"name",{value:t,configurable:!0}),$$=(e,t)=>{for(var r in t)pc(e,r,{get:t[r],enumerable:!0})},H$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F$(t))!j$.call(e,o)&&o!==r&&pc(e,o,{get:()=>t[o],enumerable:!(n=U$(t,o))||n.enumerable});return e},q$=e=>H$(pc({},"__esModule",{value:!0}),e),tw={};$$(tw,{SelectorType:()=>rw,booleanSelector:()=>G$,numberSelector:()=>z$});nw.exports=q$(tw);var G$=ew((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),z$=ew((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),rw=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(rw||{})});var Lt=v((yse,hw)=>{var fc=Object.defineProperty,V$=Object.getOwnPropertyDescriptor,W$=Object.getOwnPropertyNames,K$=Object.prototype.hasOwnProperty,Et=(e,t)=>fc(e,"name",{value:t,configurable:!0}),J$=(e,t)=>{for(var r in t)fc(e,r,{get:t[r],enumerable:!0})},Y$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of W$(t))!K$.call(e,o)&&o!==r&&fc(e,o,{get:()=>t[o],enumerable:!(n=V$(t,o))||n.enumerable});return e},X$=e=>Y$(fc({},"__esModule",{value:!0}),e),aw={};J$(aw,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>dw,CONFIG_USE_FIPS_ENDPOINT:()=>uw,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>Q$,DEFAULT_USE_FIPS_ENDPOINT:()=>eH,ENV_USE_DUALSTACK_ENDPOINT:()=>cw,ENV_USE_FIPS_ENDPOINT:()=>lw,NODE_REGION_CONFIG_FILE_OPTIONS:()=>iH,NODE_REGION_CONFIG_OPTIONS:()=>sH,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>Z$,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>tH,REGION_ENV_NAME:()=>pw,REGION_INI_NAME:()=>mw,getRegionInfo:()=>uH,resolveCustomEndpointsConfig:()=>rH,resolveEndpointsConfig:()=>oH,resolveRegionConfig:()=>aH});hw.exports=X$(aw);var Ar=ow(),cw="AWS_USE_DUALSTACK_ENDPOINT",dw="use_dualstack_endpoint",Q$=!1,Z$={environmentVariableSelector:e=>(0,Ar.booleanSelector)(e,cw,Ar.SelectorType.ENV),configFileSelector:e=>(0,Ar.booleanSelector)(e,dw,Ar.SelectorType.CONFIG),default:!1},lw="AWS_USE_FIPS_ENDPOINT",uw="use_fips_endpoint",eH=!1,tH={environmentVariableSelector:e=>(0,Ar.booleanSelector)(e,lw,Ar.SelectorType.ENV),configFileSelector:e=>(0,Ar.booleanSelector)(e,uw,Ar.SelectorType.CONFIG),default:!1},mc=tt(),rH=Et(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,mc.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,mc.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),nH=Et(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),oH=Et(e=>{let t=(0,mc.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,mc.normalizeProvider)(typeof r=="string"?o(r):r):()=>nH({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),pw="AWS_REGION",mw="region",sH={environmentVariableSelector:e=>e[pw],configFileSelector:e=>e[mw],default:()=>{throw new Error("Region is missing")}},iH={preferredFile:"credentials"},fw=Et(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),sw=Et(e=>fw(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),aH=Et(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return sw(t);let n=await t();return sw(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return fw(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),iw=Et((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),cH=Et((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),dH=Et((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),lH=Et((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),uH=Et((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=dH(e,{partitionHash:s}),c=e in o?e:s[i]?.endpoint??e,l={useFipsEndpoint:t,useDualstackEndpoint:r},u=iw(o[c]?.variants,l),p=iw(s[i]?.variants,l),m=cH(c,{regionHostname:u,partitionHostname:p});if(m===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let f=lH(m,{signingRegion:o[c]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:m,...f&&{signingRegion:f},...o[c]?.signingService&&{signingService:o[c].signingService}}},"getRegionInfo")});var Cs=v((_se,Sw)=>{var hc=Object.defineProperty,pH=Object.getOwnPropertyDescriptor,mH=Object.getOwnPropertyNames,fH=Object.prototype.hasOwnProperty,yw=(e,t)=>hc(e,"name",{value:t,configurable:!0}),hH=(e,t)=>{for(var r in t)hc(e,r,{get:t[r],enumerable:!0})},gH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mH(t))!fH.call(e,o)&&o!==r&&hc(e,o,{get:()=>t[o],enumerable:!(n=pH(t,o))||n.enumerable});return e},yH=e=>gH(hc({},"__esModule",{value:!0}),e),_w={};hH(_w,{contentLengthMiddleware:()=>pm,contentLengthMiddlewareOptions:()=>Ew,getContentLengthPlugin:()=>EH});Sw.exports=yH(_w);var _H=ee(),gw="content-length";function pm(e){return t=>async r=>{let n=r.request;if(_H.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(gw)===-1)try{let i=e(o);n.headers={...n.headers,[gw]:String(i)}}catch{}}return t({...r,request:n})}}yw(pm,"contentLengthMiddleware");var Ew={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},EH=yw(e=>({applyToStack:t=>{t.add(pm(e.bodyLengthChecker),Ew)}}),"getContentLengthPlugin")});var fm=v((Ese,Cw)=>{var gc=Object.defineProperty,SH=Object.getOwnPropertyDescriptor,vH=Object.getOwnPropertyNames,bH=Object.prototype.hasOwnProperty,Cn=(e,t)=>gc(e,"name",{value:t,configurable:!0}),wH=(e,t)=>{for(var r in t)gc(e,r,{get:t[r],enumerable:!0})},CH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vH(t))!bH.call(e,o)&&o!==r&&gc(e,o,{get:()=>t[o],enumerable:!(n=SH(t,o))||n.enumerable});return e},TH=e=>CH(gc({},"__esModule",{value:!0}),e),vw={};wH(vw,{isBrowserNetworkError:()=>ww,isClockSkewCorrectedError:()=>bw,isClockSkewError:()=>DH,isRetryableByTrait:()=>NH,isServerError:()=>MH,isThrottlingError:()=>kH,isTransientError:()=>mm});Cw.exports=TH(vw);var xH=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],IH=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],PH=["TimeoutError","RequestTimeout","RequestTimeoutException"],AH=[500,502,503,504],RH=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],OH=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],NH=Cn(e=>e.$retryable!==void 0,"isRetryableByTrait"),DH=Cn(e=>xH.includes(e.name),"isClockSkewError"),bw=Cn(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),ww=Cn(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),kH=Cn(e=>e.$metadata?.httpStatusCode===429||IH.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),mm=Cn((e,t=0)=>bw(e)||PH.includes(e.name)||RH.includes(e?.code||"")||OH.includes(e?.code||"")||AH.includes(e.$metadata?.httpStatusCode||0)||ww(e)||e.cause!==void 0&&t<=10&&mm(e.cause,t+1),"isTransientError"),MH=Cn(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!mm(e)}return!1},"isServerError")});var Zn=v((Sse,kw)=>{var yc=Object.defineProperty,LH=Object.getOwnPropertyDescriptor,BH=Object.getOwnPropertyNames,UH=Object.prototype.hasOwnProperty,St=(e,t)=>yc(e,"name",{value:t,configurable:!0}),FH=(e,t)=>{for(var r in t)yc(e,r,{get:t[r],enumerable:!0})},jH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BH(t))!UH.call(e,o)&&o!==r&&yc(e,o,{get:()=>t[o],enumerable:!(n=LH(t,o))||n.enumerable});return e},$H=e=>jH(yc({},"__esModule",{value:!0}),e),xw={};FH(xw,{AdaptiveRetryStrategy:()=>WH,ConfiguredRetryStrategy:()=>KH,DEFAULT_MAX_ATTEMPTS:()=>hm,DEFAULT_RETRY_DELAY_BASE:()=>Ts,DEFAULT_RETRY_MODE:()=>HH,DefaultRateLimiter:()=>Pw,INITIAL_RETRY_TOKENS:()=>gm,INVOCATION_ID_HEADER:()=>GH,MAXIMUM_RETRY_DELAY:()=>ym,NO_RETRY_INCREMENT:()=>Dw,REQUEST_HEADER:()=>zH,RETRY_COST:()=>Ow,RETRY_MODES:()=>Iw,StandardRetryStrategy:()=>_m,THROTTLING_RETRY_DELAY_BASE:()=>Rw,TIMEOUT_RETRY_COST:()=>Nw});kw.exports=$H(xw);var Iw=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(Iw||{}),hm=3,HH="standard",qH=fm(),Pw=class Aw{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{St(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>Aw.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,qH.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Ts=100,ym=20*1e3,Rw=500,gm=500,Ow=5,Nw=10,Dw=1,GH="amz-sdk-invocation-id",zH="amz-sdk-request",VH=St(()=>{let e=Ts;return{computeNextBackoffDelay:St(n=>Math.floor(Math.min(ym,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:St(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),Tw=St(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:St(()=>t,"getRetryCount"),getRetryDelay:St(()=>Math.min(ym,e),"getRetryDelay"),getRetryCost:St(()=>r,"getRetryCost")}),"createDefaultRetryToken"),_m=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=gm,this.retryBackoffStrategy=VH(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{St(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return Tw({retryDelay:Ts,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?Rw:Ts);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,Tw({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(gm,this.capacity+(e.getRetryCost()??Dw))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${hm}`),hm}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Nw:Ow}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},WH=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new Pw,this.standardRetryStrategy=new _m(e)}static{St(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},KH=class extends _m{static{St(this,"ConfiguredRetryStrategy")}constructor(e,t=Ts){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var Mw=v(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.isStreamingPayload=void 0;var JH=require("stream"),YH=e=>e?.body instanceof JH.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;_c.isStreamingPayload=YH});var rr=v((Tse,Yw)=>{var Ec=Object.defineProperty,XH=Object.getOwnPropertyDescriptor,QH=Object.getOwnPropertyNames,ZH=Object.prototype.hasOwnProperty,pe=(e,t)=>Ec(e,"name",{value:t,configurable:!0}),eq=(e,t)=>{for(var r in t)Ec(e,r,{get:t[r],enumerable:!0})},tq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QH(t))!ZH.call(e,o)&&o!==r&&Ec(e,o,{get:()=>t[o],enumerable:!(n=XH(t,o))||n.enumerable});return e},rq=e=>tq(Ec({},"__esModule",{value:!0}),e),Bw={};eq(Bw,{AdaptiveRetryStrategy:()=>sq,CONFIG_MAX_ATTEMPTS:()=>Sm,CONFIG_RETRY_MODE:()=>Gw,ENV_MAX_ATTEMPTS:()=>Em,ENV_RETRY_MODE:()=>qw,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>iq,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>cq,StandardRetryStrategy:()=>Hw,defaultDelayDecider:()=>Fw,defaultRetryDecider:()=>jw,getOmitRetryHeadersPlugin:()=>dq,getRetryAfterHint:()=>Jw,getRetryPlugin:()=>hq,omitRetryHeadersMiddleware:()=>zw,omitRetryHeadersMiddlewareOptions:()=>Vw,resolveRetryConfig:()=>aq,retryMiddleware:()=>Ww,retryMiddlewareOptions:()=>Kw});Yw.exports=rq(Bw);var eo=ee(),Uw=(Ca(),j(zu)),oe=Zn(),nq=pe((e,t)=>{let r=e,n=t?.noRetryIncrement??oe.NO_RETRY_INCREMENT,o=t?.retryCost??oe.RETRY_COST,s=t?.timeoutRetryCost??oe.TIMEOUT_RETRY_COST,i=e,c=pe(m=>m.name==="TimeoutError"?s:o,"getCapacityAmount"),l=pe(m=>c(m)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:pe(m=>{if(!l(m))throw new Error("No retry token available");let f=c(m);return i-=f,f},"retrieveRetryTokens"),releaseRetryTokens:pe(m=>{i+=m??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Fw=pe((e,t)=>Math.floor(Math.min(oe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Rr=fm(),jw=pe(e=>e?(0,Rr.isRetryableByTrait)(e)||(0,Rr.isClockSkewError)(e)||(0,Rr.isThrottlingError)(e)||(0,Rr.isTransientError)(e):!1,"defaultRetryDecider"),$w=pe(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),Hw=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=oe.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??jw,this.delayDecider=t?.delayDecider??Fw,this.retryQuota=t?.retryQuota??nq(oe.INITIAL_RETRY_TOKENS)}static{pe(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=oe.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:c}=t;for(eo.HttpRequest.isInstance(c)&&(c.headers[oe.INVOCATION_ID_HEADER]=(0,Uw.v4)());;)try{eo.HttpRequest.isInstance(c)&&(c.headers[oe.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:l,output:u}=await e(t);return r?.afterRequest&&r.afterRequest(l),this.retryQuota.releaseRetryTokens(n),u.$metadata.attempts=o+1,u.$metadata.totalRetryDelay=s,{response:l,output:u}}catch(l){let u=$w(l);if(o++,this.shouldRetry(u,o,i)){n=this.retryQuota.retrieveRetryTokens(u);let p=this.delayDecider((0,Rr.isThrottlingError)(u)?oe.THROTTLING_RETRY_DELAY_BASE:oe.DEFAULT_RETRY_DELAY_BASE,o),m=oq(u.$response),f=Math.max(m||0,p);s+=f,await new Promise(h=>setTimeout(h,f));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=o,u.$metadata.totalRetryDelay=s,u}}},oq=pe(e=>{if(!eo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),sq=class extends Hw{static{pe(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new oe.DefaultRateLimiter,this.mode=oe.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},Lw=tt(),Em="AWS_MAX_ATTEMPTS",Sm="max_attempts",iq={environmentVariableSelector:e=>{let t=e[Em];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Em} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Sm];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Sm} mast be a number, got "${t}"`);return r},default:oe.DEFAULT_MAX_ATTEMPTS},aq=pe(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,Lw.normalizeProvider)(n??oe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,Lw.normalizeProvider)(r)()===oe.RETRY_MODES.ADAPTIVE?new oe.AdaptiveRetryStrategy(o):new oe.StandardRetryStrategy(o))})},"resolveRetryConfig"),qw="AWS_RETRY_MODE",Gw="retry_mode",cq={environmentVariableSelector:e=>e[qw],configFileSelector:e=>e[Gw],default:oe.DEFAULT_RETRY_MODE},zw=pe(()=>e=>async t=>{let{request:r}=t;return eo.HttpRequest.isInstance(r)&&(delete r.headers[oe.INVOCATION_ID_HEADER],delete r.headers[oe.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),Vw={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},dq=pe(e=>({applyToStack:t=>{t.addRelativeTo(zw(),Vw)}}),"getOmitRetryHeadersPlugin"),lq=q(),uq=Mw(),Ww=pe(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(pq(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),c=new Error,l=0,u=0,{request:p}=n,m=eo.HttpRequest.isInstance(p);for(m&&(p.headers[oe.INVOCATION_ID_HEADER]=(0,Uw.v4)());;)try{m&&(p.headers[oe.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:f,output:h}=await t(n);return o.recordSuccess(i),h.$metadata.attempts=l+1,h.$metadata.totalRetryDelay=u,{response:f,output:h}}catch(f){let h=mq(f);if(c=$w(f),m&&(0,uq.isStreamingPayload)(p))throw(r.logger instanceof lq.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{i=await o.refreshRetryTokenForRetry(i,h)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=u,c}l=i.getRetryCount();let g=i.getRetryDelay();u+=g,await new Promise(_=>setTimeout(_,g))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),pq=pe(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),mq=pe(e=>{let t={error:e,errorType:fq(e)},r=Jw(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),fq=pe(e=>(0,Rr.isThrottlingError)(e)?"THROTTLING":(0,Rr.isTransientError)(e)?"TRANSIENT":(0,Rr.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Kw={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},hq=pe(e=>({applyToStack:t=>{t.add(Ww(e),Kw)}}),"getRetryPlugin"),Jw=pe(e=>{if(!eo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var bm=v(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.resolveHttpAuthSchemeConfig=Or.defaultDynamoDBHttpAuthSchemeProvider=Or.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var gq=(Ee(),j(_t)),vm=tt(),yq=async(e,t,r)=>({operation:(0,vm.getSmithyContext)(t).operation,region:await(0,vm.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Or.defaultDynamoDBHttpAuthSchemeParametersProvider=yq;function _q(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var Eq=e=>{let t=[];switch(e.operation){default:t.push(_q(e))}return t};Or.defaultDynamoDBHttpAuthSchemeProvider=Eq;var Sq=e=>{let t=(0,gq.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,vm.normalizeProvider)(e.authSchemePreference??[])})};Or.resolveHttpAuthSchemeConfig=Sq});var to=v(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.getHomeDir=void 0;var vq=require("os"),bq=require("path"),wm={},wq=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Cq=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${bq.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=wq();return wm[o]||(wm[o]=(0,vq.homedir)()),wm[o]};Sc.getHomeDir=Cq});var Cm=v(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.getSSOTokenFilepath=void 0;var Tq=require("crypto"),xq=require("path"),Iq=to(),Pq=e=>{let r=(0,Tq.createHash)("sha1").update(e).digest("hex");return(0,xq.join)((0,Iq.getHomeDir)(),".aws","sso","cache",`${r}.json`)};vc.getSSOTokenFilepath=Pq});var Xw=v(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.getSSOTokenFromFile=void 0;var Aq=require("fs"),Rq=Cm(),{readFile:Oq}=Aq.promises,Nq=async e=>{let t=(0,Rq.getSSOTokenFilepath)(e),r=await Oq(t,"utf8");return JSON.parse(r)};bc.getSSOTokenFromFile=Nq});var xm=v(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.slurpFile=void 0;var Dq=require("fs"),{readFile:kq}=Dq.promises,Tm={},Mq=(e,t)=>((!Tm[e]||t?.ignoreCache)&&(Tm[e]=kq(e,"utf8")),Tm[e]);wc.slurpFile=Mq});var Nr=v((Dse,Is)=>{var xc=Object.defineProperty,Lq=Object.getOwnPropertyDescriptor,Bq=Object.getOwnPropertyNames,Uq=Object.prototype.hasOwnProperty,ot=(e,t)=>xc(e,"name",{value:t,configurable:!0}),Fq=(e,t)=>{for(var r in t)xc(e,r,{get:t[r],enumerable:!0})},Im=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bq(t))!Uq.call(e,o)&&o!==r&&xc(e,o,{get:()=>t[o],enumerable:!(n=Lq(t,o))||n.enumerable});return e},Am=(e,t,r)=>(Im(e,t,"default"),r&&Im(r,t,"default")),jq=e=>Im(xc({},"__esModule",{value:!0}),e),xs={};Fq(xs,{CONFIG_PREFIX_SEPARATOR:()=>Tn,DEFAULT_PROFILE:()=>tC,ENV_PROFILE:()=>eC,getProfileName:()=>$q,loadSharedConfigFiles:()=>nC,loadSsoSessionData:()=>eG,parseKnownFiles:()=>rG});Is.exports=jq(xs);Am(xs,to(),Is.exports);var eC="AWS_PROFILE",tC="default",$q=ot(e=>e.profile||process.env[eC]||tC,"getProfileName");Am(xs,Cm(),Is.exports);Am(xs,Xw(),Is.exports);var Cc=ft(),Hq=ot(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Tn);return r===-1?!1:Object.values(Cc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Tn),s=r.substring(0,o)===Cc.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Tc=require("path"),qq=to(),Gq="AWS_CONFIG_FILE",rC=ot(()=>process.env[Gq]||(0,Tc.join)((0,qq.getHomeDir)(),".aws","config"),"getConfigFilepath"),zq=to(),Vq="AWS_SHARED_CREDENTIALS_FILE",Wq=ot(()=>process.env[Vq]||(0,Tc.join)((0,zq.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Kq=to(),Jq=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Yq=["__proto__","profile __proto__"],Pm=ot(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let c=s.substring(1,s.length-1),l=Jq.exec(c);if(l){let[,u,,p]=l;Object.values(Cc.IniSectionType).includes(u)&&(r=[u,p].join(Tn))}else r=c;if(Yq.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=s.indexOf("=");if(![0,-1].includes(c)){let[l,u]=[s.substring(0,c).trim(),s.substring(c+1).trim()];if(u==="")n=l;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,l].join(Tn):l;t[r][p]=u}}}}return t},"parseIni"),Qw=xm(),Zw=ot(()=>({}),"swallowError"),Tn=".",nC=ot(async(e={})=>{let{filepath:t=Wq(),configFilepath:r=rC()}=e,n=(0,Kq.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,Tc.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,Tc.join)(n,r.slice(2)));let c=await Promise.all([(0,Qw.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Pm).then(Hq).catch(Zw),(0,Qw.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(Pm).catch(Zw)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),Xq=ot(e=>Object.entries(e).filter(([t])=>t.startsWith(Cc.IniSectionType.SSO_SESSION+Tn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Tn)+1)]:n}),{}),"getSsoSessionData"),Qq=xm(),Zq=ot(()=>({}),"swallowError"),eG=ot(async(e={})=>(0,Qq.slurpFile)(e.configFilepath??rC()).then(Pm).then(Xq).catch(Zq),"loadSsoSessionData"),tG=ot((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),rG=ot(async e=>{let t=await nC(e);return tG(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Dr=v((kse,iC)=>{var Ic=Object.defineProperty,nG=Object.getOwnPropertyDescriptor,oG=Object.getOwnPropertyNames,sG=Object.prototype.hasOwnProperty,ro=(e,t)=>Ic(e,"name",{value:t,configurable:!0}),iG=(e,t)=>{for(var r in t)Ic(e,r,{get:t[r],enumerable:!0})},aG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oG(t))!sG.call(e,o)&&o!==r&&Ic(e,o,{get:()=>t[o],enumerable:!(n=nG(t,o))||n.enumerable});return e},cG=e=>aG(Ic({},"__esModule",{value:!0}),e),sC={};iG(sC,{loadConfig:()=>mG});iC.exports=cG(sC);var Ps=Le();function Rm(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}ro(Rm,"getSelectorName");var dG=ro((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ps.CredentialsProviderError(r.message||`Not found in ENV: ${Rm(e.toString())}`,{logger:t?.logger})}},"fromEnv"),oC=Nr(),lG=ro((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,oC.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,oC.loadSharedConfigFiles)(r),i=s[n]||{},c=o[n]||{},l=t==="config"?{...i,...c}:{...c,...i};try{let p=e(l,t==="config"?o:s);if(p===void 0)throw new Error;return p}catch(u){throw new Ps.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${Rm(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),uG=ro(e=>typeof e=="function","isFunction"),pG=ro(e=>uG(e)?async()=>await e():(0,Ps.fromStatic)(e),"fromStatic"),mG=ro(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Ps.memoize)((0,Ps.chain)(dG(e,i),lG(t,n),pG(r)))},"loadConfig")});var lC=v(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.getEndpointUrlConfig=void 0;var aC=Nr(),cC="AWS_ENDPOINT_URL",dC="endpoint_url",fG=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[cC,...r].join("_")];if(n)return n;let o=t[cC];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(aC.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(c=>c.toLowerCase()),i=o[[s.join("_"),dC].join(aC.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[dC];if(n)return n},default:void 0});Pc.getEndpointUrlConfig=fG});var Om=v(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.getEndpointFromConfig=void 0;var hG=Dr(),gG=lC(),yG=async e=>(0,hG.loadConfig)((0,gG.getEndpointUrlConfig)(e??""))();Ac.getEndpointFromConfig=yG});var kr=v((Bse,yC)=>{var Oc=Object.defineProperty,_G=Object.getOwnPropertyDescriptor,EG=Object.getOwnPropertyNames,SG=Object.prototype.hasOwnProperty,st=(e,t)=>Oc(e,"name",{value:t,configurable:!0}),vG=(e,t)=>{for(var r in t)Oc(e,r,{get:t[r],enumerable:!0})},bG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of EG(t))!SG.call(e,o)&&o!==r&&Oc(e,o,{get:()=>t[o],enumerable:!(n=_G(t,o))||n.enumerable});return e},wG=e=>bG(Oc({},"__esModule",{value:!0}),e),pC={};vG(pC,{endpointMiddleware:()=>hC,endpointMiddlewareOptions:()=>gC,getEndpointFromInstructions:()=>mC,getEndpointPlugin:()=>kG,resolveEndpointConfig:()=>LG,resolveEndpointRequiredConfig:()=>BG,resolveParams:()=>fC,toEndpointV1:()=>Nm});yC.exports=wG(pC);var CG=st(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),AG(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!PG(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),TG=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,xG=/(\d+\.){3}\d+/,IG=/\.\./,PG=st(e=>TG.test(e)&&!xG.test(e)&&!IG.test(e),"isDnsCompatibleBucketName"),AG=st(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),RG=st((e,t,r)=>{let n=st(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:c,path:l}=o;return`${s}//${i}${c?":"+c:""}${l}`}}return o}:n},"createConfigValueProvider"),OG=Om(),uC=Sr(),Nm=st(e=>typeof e=="object"?"url"in e?(0,uC.parseUrl)(e.url):e:(0,uC.parseUrl)(e),"toEndpointV1"),mC=st(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,OG.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Nm(i)),r.isCustomEndpoint=!0)}let o=await fC(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),fC=st(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await RG(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await CG(n),n},"resolveParams"),NG=(ae(),j(He)),Rc=tt(),hC=st(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,NG.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await mC(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let l=(0,Rc.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),DG=hr(),gC={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:DG.serializerMiddlewareOption.name},kG=st((e,t)=>({applyToStack:r=>{r.addRelativeTo(hC({config:e,instructions:t}),gC)}}),"getEndpointPlugin"),MG=Om(),LG=st(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>Nm(await(0,Rc.normalizeProvider)(r)()):void 0,c=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Rc.normalizeProvider)(n??!1),useFipsEndpoint:(0,Rc.normalizeProvider)(o??!1)}),l;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=(0,MG.getEndpointFromConfig)(e.serviceId)),l),c},"resolveEndpointConfig"),BG=st(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var Mc={};et(Mc,{__addDisposableResource:()=>HC,__assign:()=>Nc,__asyncDelegator:()=>kC,__asyncGenerator:()=>DC,__asyncValues:()=>MC,__await:()=>no,__awaiter:()=>IC,__classPrivateFieldGet:()=>FC,__classPrivateFieldIn:()=>$C,__classPrivateFieldSet:()=>jC,__createBinding:()=>kc,__decorate:()=>SC,__disposeResources:()=>qC,__esDecorate:()=>bC,__exportStar:()=>AC,__extends:()=>_C,__generator:()=>PC,__importDefault:()=>UC,__importStar:()=>BC,__makeTemplateObject:()=>LC,__metadata:()=>xC,__param:()=>vC,__propKey:()=>CC,__read:()=>Mm,__rest:()=>EC,__rewriteRelativeImportExtension:()=>GC,__runInitializers:()=>wC,__setFunctionName:()=>TC,__spread:()=>RC,__spreadArray:()=>NC,__spreadArrays:()=>OC,__values:()=>Dc,default:()=>jG});function _C(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function EC(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function SC(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function vC(e,t){return function(r,n){t(r,n,e)}}function bC(e,t,r,n,o,s){function i(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,p=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,f=!1,h=r.length-1;h>=0;h--){var g={};for(var _ in n)g[_]=_==="access"?{}:n[_];for(var _ in n.access)g.access[_]=n.access[_];g.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(b||null))};var S=(0,r[h])(c==="accessor"?{get:p.get,set:p.set}:p[l],g);if(c==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(m=i(S.get))&&(p.get=m),(m=i(S.set))&&(p.set=m),(m=i(S.init))&&o.unshift(m)}else(m=i(S))&&(c==="field"?o.unshift(m):p[l]=m)}u&&Object.defineProperty(u,n.name,p),f=!0}function wC(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function CC(e){return typeof e=="symbol"?e:"".concat(e)}function TC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function xC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function IC(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function c(p){try{u(n.next(p))}catch(m){i(m)}}function l(p){try{u(n.throw(p))}catch(m){i(m)}}function u(p){p.done?s(p.value):o(p.value).then(c,l)}u((n=n.apply(e,t||[])).next())})}function PC(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(u){return function(p){return l([u,p])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(p){u=[6,p],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function AC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kc(t,e,r)}function Dc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mm(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function RC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mm(arguments[t]));return e}function OC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,c=s.length;i<c;i++,o++)n[o]=s[i];return n}function NC(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function no(e){return this instanceof no?(this.v=e,this):new no(e)}function DC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(h){return function(g){return Promise.resolve(g).then(h,m)}}function c(h,g){n[h]&&(o[h]=function(_){return new Promise(function(S,b){s.push([h,_,S,b])>1||l(h,_)})},g&&(o[h]=g(o[h])))}function l(h,g){try{u(n[h](g))}catch(_){f(s[0][3],_)}}function u(h){h.value instanceof no?Promise.resolve(h.value.v).then(p,m):f(s[0][2],h)}function p(h){l("next",h)}function m(h){l("throw",h)}function f(h,g){h(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function kC(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:no(e[o](i)),done:!1}:s?s(i):i}:s}}function MC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Dc=="function"?Dc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(c,l){i=e[s](i),o(c,l,i.done,i.value)})}}function o(s,i,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},i)}}function LC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function BC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=km(e),n=0;n<r.length;n++)r[n]!=="default"&&kc(t,e,r[n]);return UG(t,e),t}function UC(e){return e&&e.__esModule?e:{default:e}}function FC(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function jC(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function $C(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function HC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function qC(e){function t(s){e.error=e.hasError?new FG(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function GC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Dm,Nc,kc,UG,km,FG,jG,Lc=y(()=>{Dm=function(e,t){return Dm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Dm(e,t)};Nc=function(){return Nc=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nc.apply(this,arguments)};kc=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};UG=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},km=function(e){return km=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},km(e)};FG=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};jG={__extends:_C,__assign:Nc,__rest:EC,__decorate:SC,__param:vC,__esDecorate:bC,__runInitializers:wC,__propKey:CC,__setFunctionName:TC,__metadata:xC,__awaiter:IC,__generator:PC,__createBinding:kc,__exportStar:AC,__values:Dc,__read:Mm,__spread:RC,__spreadArrays:OC,__spreadArray:NC,__await:no,__asyncGenerator:DC,__asyncDelegator:kC,__asyncValues:MC,__makeTemplateObject:LC,__importStar:BC,__importDefault:UC,__classPrivateFieldGet:FC,__classPrivateFieldSet:jC,__classPrivateFieldIn:$C,__addDisposableResource:HC,__disposeResources:qC,__rewriteRelativeImportExtension:GC}});var zC=v((Use,$G)=>{$G.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.873.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.873.0","@aws-sdk/credential-provider-node":"3.873.0","@aws-sdk/middleware-endpoint-discovery":"3.873.0","@aws-sdk/middleware-host-header":"3.873.0","@aws-sdk/middleware-logger":"3.873.0","@aws-sdk/middleware-recursion-detection":"3.873.0","@aws-sdk/middleware-user-agent":"3.873.0","@aws-sdk/region-config-resolver":"3.873.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.873.0","@aws-sdk/util-user-agent-browser":"3.873.0","@aws-sdk/util-user-agent-node":"3.873.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.7","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var Lm=v((Fse,ZC)=>{"use strict";var Bc=Object.defineProperty,HG=Object.getOwnPropertyDescriptor,qG=Object.getOwnPropertyNames,GG=Object.prototype.hasOwnProperty,zG=(e,t)=>Bc(e,"name",{value:t,configurable:!0}),VG=(e,t)=>{for(var r in t)Bc(e,r,{get:t[r],enumerable:!0})},WG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qG(t))!GG.call(e,o)&&o!==r&&Bc(e,o,{get:()=>t[o],enumerable:!(n=HG(t,o))||n.enumerable});return e},KG=e=>WG(Bc({},"__esModule",{value:!0}),e),VC={};VG(VC,{ENV_ACCOUNT_ID:()=>QC,ENV_CREDENTIAL_SCOPE:()=>XC,ENV_EXPIRATION:()=>YC,ENV_KEY:()=>WC,ENV_SECRET:()=>KC,ENV_SESSION:()=>JC,fromEnv:()=>XG});ZC.exports=KG(VC);var JG=(yt(),j(wr)),YG=Le(),WC="AWS_ACCESS_KEY_ID",KC="AWS_SECRET_ACCESS_KEY",JC="AWS_SESSION_TOKEN",YC="AWS_CREDENTIAL_EXPIRATION",XC="AWS_CREDENTIAL_SCOPE",QC="AWS_ACCOUNT_ID",XG=zG(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[WC],r=process.env[KC],n=process.env[JC],o=process.env[YC],s=process.env[XC],i=process.env[QC];if(t&&r){let c={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,JG.setCredentialFeature)(c,"CREDENTIALS_ENV_VARS","g"),c}throw new YG.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var As=v((jse,mT)=>{var jc=Object.defineProperty,QG=Object.getOwnPropertyDescriptor,ZG=Object.getOwnPropertyNames,ez=Object.prototype.hasOwnProperty,me=(e,t)=>jc(e,"name",{value:t,configurable:!0}),tz=(e,t)=>{for(var r in t)jc(e,r,{get:t[r],enumerable:!0})},rz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ZG(t))!ez.call(e,o)&&o!==r&&jc(e,o,{get:()=>t[o],enumerable:!(n=QG(t,o))||n.enumerable});return e},nz=e=>rz(jc({},"__esModule",{value:!0}),e),nT={};tz(nT,{DEFAULT_MAX_RETRIES:()=>aT,DEFAULT_TIMEOUT:()=>iT,ENV_CMDS_AUTH_TOKEN:()=>Fm,ENV_CMDS_FULL_URI:()=>Uc,ENV_CMDS_RELATIVE_URI:()=>Fc,Endpoint:()=>dT,fromContainerMetadata:()=>az,fromInstanceMetadata:()=>Pz,getInstanceMetadataEndpoint:()=>uT,httpRequest:()=>oo,providerConfigFromInit:()=>jm});mT.exports=nz(nT);var oz=require("url"),Bt=Le(),sz=require("buffer"),iz=require("http");function oo(e){return new Promise((t,r)=>{let n=(0,iz.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Bt.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Bt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Bt.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",c=>{i.push(c)}),o.on("end",()=>{t(sz.Buffer.concat(i)),n.destroy()})}),n.end()})}me(oo,"httpRequest");var oT=me(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),sT=me(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),iT=1e3,aT=0,jm=me(({maxRetries:e=aT,timeout:t=iT})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Um=me((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Uc="AWS_CONTAINER_CREDENTIALS_FULL_URI",Fc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Fm="AWS_CONTAINER_AUTHORIZATION_TOKEN",az=me((e={})=>{let{timeout:t,maxRetries:r}=jm(e);return()=>Um(async()=>{let n=await pz({logger:e.logger}),o=JSON.parse(await cz(t,n));if(!oT(o))throw new Bt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return sT(o)},r)},"fromContainerMetadata"),cz=me(async(e,t)=>(process.env[Fm]&&(t.headers={...t.headers,Authorization:process.env[Fm]}),(await oo({...t,timeout:e})).toString()),"requestFromEcsImds"),dz="169.254.170.2",lz={localhost:!0,"127.0.0.1":!0},uz={"http:":!0,"https:":!0},pz=me(async({logger:e})=>{if(process.env[Fc])return{hostname:dz,path:process.env[Fc]};if(process.env[Uc]){let t=(0,oz.parse)(process.env[Uc]);if(!t.hostname||!(t.hostname in lz))throw new Bt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in uz))throw new Bt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Bt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Fc} or ${Uc} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),mz=class cT extends Bt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,cT.prototype)}static{me(this,"InstanceMetadataV1FallbackError")}},$m=Dr(),fz=Sr(),dT=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(dT||{}),hz="AWS_EC2_METADATA_SERVICE_ENDPOINT",gz="ec2_metadata_service_endpoint",yz={environmentVariableSelector:e=>e[hz],configFileSelector:e=>e[gz],default:void 0},lT=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(lT||{}),_z="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Ez="ec2_metadata_service_endpoint_mode",Sz={environmentVariableSelector:e=>e[_z],configFileSelector:e=>e[Ez],default:"IPv4"},uT=me(async()=>(0,fz.parseUrl)(await vz()||await bz()),"getInstanceMetadataEndpoint"),vz=me(async()=>(0,$m.loadConfig)(yz)(),"getFromEndpointConfig"),bz=me(async()=>{let e=await(0,$m.loadConfig)(Sz)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(lT)}`)}},"getFromEndpointModeConfig"),wz=5*60,Cz=5*60,Tz="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",eT=me((e,t)=>{let r=wz+Math.floor(Math.random()*Cz),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Tz);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),xz=me((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=eT(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=eT(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),pT="/latest/meta-data/iam/security-credentials/",Iz="/latest/api/token",Bm="AWS_EC2_METADATA_V1_DISABLED",tT="ec2_metadata_v1_disabled",rT="x-aws-ec2-metadata-token",Pz=me((e={})=>xz(Az(e),{logger:e.logger}),"fromInstanceMetadata"),Az=me((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=jm(e),i=me(async(c,l)=>{if(t||l.headers?.[rT]==null){let m=!1,f=!1,h=await(0,$m.loadConfig)({environmentVariableSelector:g=>{let _=g[Bm];if(f=!!_&&_!=="false",_===void 0)throw new Bt.CredentialsProviderError(`${Bm} not set in env, checking config file next.`,{logger:e.logger});return f},configFileSelector:g=>{let _=g[tT];return m=!!_&&_!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&g.push(`config file profile (${tT})`),f&&g.push(`process environment variable (${Bm})`),new mz(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let p=(await Um(async()=>{let m;try{m=await Oz(l)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},c)).trim();return Um(async()=>{let m;try{m=await Nz(p,l,e)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},c)},"getCredentials");return async()=>{let c=await uT();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...c,timeout:o});{let l;try{l=(await Rz({...c,timeout:o})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...c,timeout:o})}return i(s,{...c,headers:{[rT]:l},timeout:o})}}},"getInstanceMetadataProvider"),Rz=me(async e=>oo({...e,path:Iz,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Oz=me(async e=>(await oo({...e,path:pT})).toString(),"getProfile"),Nz=me(async(e,t,r)=>{let n=JSON.parse((await oo({...t,path:pT+e})).toString());if(!oT(n))throw new Bt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return sT(n)},"getCredentialsFromProfile")});var fT=v($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.checkUrl=void 0;var Dz=Le(),kz="169.254.170.2",Mz="169.254.170.23",Lz="[fd00:ec2::23]",Bz=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===kz||e.hostname===Mz||e.hostname===Lz)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Dz.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};$c.checkUrl=Bz});var hT=v(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.createGetRequest=$z;Hc.getCredentials=Hz;var Hm=Le(),Uz=ee(),Fz=q(),jz=ma();function $z(e){return new Uz.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function Hz(e,t){let n=await(0,jz.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new Hm.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,Fz.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new Hm.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new Hm.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var gT=v(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.retryWrapper=void 0;var qz=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};qc.retryWrapper=qz});var ET=v(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.fromHttp=void 0;var Gz=(Lc(),j(Mc)),zz=(yt(),j(wr)),Vz=nn(),yT=Le(),Wz=Gz.__importDefault(require("fs/promises")),Kz=fT(),_T=hT(),Jz=gT(),Yz="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Xz="http://169.254.170.2",Qz="AWS_CONTAINER_CREDENTIALS_FULL_URI",Zz="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",eV="AWS_CONTAINER_AUTHORIZATION_TOKEN",tV=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Yz],n=e.awsContainerCredentialsFullUri??process.env[Qz],o=e.awsContainerAuthorizationToken??process.env[eV],s=e.awsContainerAuthorizationTokenFile??process.env[Zz],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${Xz}${r}`;else throw new yT.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(t);(0,Kz.checkUrl)(c,e.logger);let l=new Vz.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,Jz.retryWrapper)(async()=>{let u=(0,_T.createGetRequest)(c);o?u.headers.Authorization=o:s&&(u.headers.Authorization=(await Wz.default.readFile(s)).toString());try{let p=await l.handle(u);return(0,_T.getCredentials)(p.response).then(m=>(0,zz.setCredentialFeature)(m,"CREDENTIALS_HTTP","z"))}catch(p){throw new yT.CredentialsProviderError(String(p),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Gc.fromHttp=tV});var qm=v(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.fromHttp=void 0;var rV=ET();Object.defineProperty(zc,"fromHttp",{enumerable:!0,get:function(){return rV.fromHttp}})});var zm=v(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.resolveHttpAuthSchemeConfig=Mr.defaultSSOHttpAuthSchemeProvider=Mr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var nV=(Ee(),j(_t)),Gm=tt(),oV=async(e,t,r)=>({operation:(0,Gm.getSmithyContext)(t).operation,region:await(0,Gm.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Mr.defaultSSOHttpAuthSchemeParametersProvider=oV;function sV(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Vc(e){return{schemeId:"smithy.api#noAuth"}}var iV=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Vc(e));break}case"ListAccountRoles":{t.push(Vc(e));break}case"ListAccounts":{t.push(Vc(e));break}case"Logout":{t.push(Vc(e));break}default:t.push(sV(e))}return t};Mr.defaultSSOHttpAuthSchemeProvider=iV;var aV=e=>{let t=(0,nV.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Gm.normalizeProvider)(e.authSchemePreference??[])})};Mr.resolveHttpAuthSchemeConfig=aV});var ST=v((Wse,cV)=>{cV.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.873.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.873.0","@aws-sdk/middleware-host-header":"3.873.0","@aws-sdk/middleware-logger":"3.873.0","@aws-sdk/middleware-recursion-detection":"3.873.0","@aws-sdk/middleware-user-agent":"3.873.0","@aws-sdk/region-config-resolver":"3.873.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.873.0","@aws-sdk/util-user-agent-browser":"3.873.0","@aws-sdk/util-user-agent-node":"3.873.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Rs=v((Kse,IT)=>{"use strict";var Kc=Object.defineProperty,dV=Object.getOwnPropertyDescriptor,lV=Object.getOwnPropertyNames,uV=Object.prototype.hasOwnProperty,Wc=(e,t)=>Kc(e,"name",{value:t,configurable:!0}),pV=(e,t)=>{for(var r in t)Kc(e,r,{get:t[r],enumerable:!0})},mV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lV(t))!uV.call(e,o)&&o!==r&&Kc(e,o,{get:()=>t[o],enumerable:!(n=dV(t,o))||n.enumerable});return e},fV=e=>mV(Kc({},"__esModule",{value:!0}),e),bT={};pV(bT,{NODE_APP_ID_CONFIG_OPTIONS:()=>EV,UA_APP_ID_ENV_NAME:()=>TT,UA_APP_ID_INI_NAME:()=>xT,createDefaultUserAgentProvider:()=>CT,crtAvailability:()=>wT,defaultUserAgent:()=>gV});IT.exports=fV(bT);var vT=require("os"),Vm=require("process"),wT={isCrtAvailable:!1},hV=Wc(()=>wT.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),CT=Wc(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,vT.platform)()}`,(0,vT.release)()],["lang/js"],["md/nodejs",`${Vm.versions.node}`]],o=hV();o&&n.push(o),e&&n.push([`api/${e}`,t]),Vm.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Vm.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),gV=CT,yV=Qn(),TT="AWS_SDK_UA_APP_ID",xT="sdk_ua_app_id",_V="sdk-ua-app-id",EV={environmentVariableSelector:Wc(e=>e[TT],"environmentVariableSelector"),configFileSelector:Wc(e=>e[xT]??e[_V],"configFileSelector"),default:yV.DEFAULT_UA_APP_ID}});var Os=v((Jse,OT)=>{var Jc=Object.defineProperty,SV=Object.getOwnPropertyDescriptor,vV=Object.getOwnPropertyNames,bV=Object.prototype.hasOwnProperty,AT=(e,t)=>Jc(e,"name",{value:t,configurable:!0}),wV=(e,t)=>{for(var r in t)Jc(e,r,{get:t[r],enumerable:!0})},CV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vV(t))!bV.call(e,o)&&o!==r&&Jc(e,o,{get:()=>t[o],enumerable:!(n=SV(t,o))||n.enumerable});return e},TV=e=>CV(Jc({},"__esModule",{value:!0}),e),RT={};wV(RT,{Hash:()=>PV});OT.exports=TV(RT);var Wm=Bn(),xV=we(),IV=require("buffer"),PT=require("crypto"),PV=class{static{AT(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,xV.toUint8Array)(Km(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,PT.createHmac)(this.algorithmIdentifier,Km(this.secret)):(0,PT.createHash)(this.algorithmIdentifier)}};function Km(e,t){return IV.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Wm.fromString)(e,t):ArrayBuffer.isView(e)?(0,Wm.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Wm.fromArrayBuffer)(e)}AT(Km,"castSourceData")});var Ns=v((Xse,kT)=>{var Yc=Object.defineProperty,AV=Object.getOwnPropertyDescriptor,RV=Object.getOwnPropertyNames,OV=Object.prototype.hasOwnProperty,NV=(e,t)=>Yc(e,"name",{value:t,configurable:!0}),DV=(e,t)=>{for(var r in t)Yc(e,r,{get:t[r],enumerable:!0})},kV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RV(t))!OV.call(e,o)&&o!==r&&Yc(e,o,{get:()=>t[o],enumerable:!(n=AV(t,o))||n.enumerable});return e},MV=e=>kV(Yc({},"__esModule",{value:!0}),e),DT={};DV(DT,{calculateBodyLength:()=>LV});kT.exports=MV(DT);var NT=require("fs"),LV=NV(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,NT.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,NT.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var JT=v(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.ruleSet=void 0;var zT="required",at="fn",ct="argv",ao="ref",MT=!0,LT="isSet",Ds="booleanEquals",so="error",io="endpoint",nr="tree",Jm="PartitionResult",Ym="getAttr",BT={[zT]:!1,type:"String"},UT={[zT]:!0,default:!1,type:"Boolean"},FT={[ao]:"Endpoint"},VT={[at]:Ds,[ct]:[{[ao]:"UseFIPS"},!0]},WT={[at]:Ds,[ct]:[{[ao]:"UseDualStack"},!0]},it={},jT={[at]:Ym,[ct]:[{[ao]:Jm},"supportsFIPS"]},KT={[ao]:Jm},$T={[at]:Ds,[ct]:[!0,{[at]:Ym,[ct]:[KT,"supportsDualStack"]}]},HT=[VT],qT=[WT],GT=[{[ao]:"Region"}],BV={version:"1.0",parameters:{Region:BT,UseDualStack:UT,UseFIPS:UT,Endpoint:BT},rules:[{conditions:[{[at]:LT,[ct]:[FT]}],rules:[{conditions:HT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:so},{conditions:qT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:so},{endpoint:{url:FT,properties:it,headers:it},type:io}],type:nr},{conditions:[{[at]:LT,[ct]:GT}],rules:[{conditions:[{[at]:"aws.partition",[ct]:GT,assign:Jm}],rules:[{conditions:[VT,WT],rules:[{conditions:[{[at]:Ds,[ct]:[MT,jT]},$T],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:it,headers:it},type:io}],type:nr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:so}],type:nr},{conditions:HT,rules:[{conditions:[{[at]:Ds,[ct]:[jT,MT]}],rules:[{conditions:[{[at]:"stringEquals",[ct]:[{[at]:Ym,[ct]:[KT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:it,headers:it},type:io},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:it,headers:it},type:io}],type:nr},{error:"FIPS is enabled but this partition does not support FIPS",type:so}],type:nr},{conditions:qT,rules:[{conditions:[$T],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:it,headers:it},type:io}],type:nr},{error:"DualStack is enabled but this partition does not support DualStack",type:so}],type:nr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:it,headers:it},type:io}],type:nr}],type:nr},{error:"Invalid Configuration: Missing Region",type:so}]};Xc.ruleSet=BV});var YT=v(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.defaultEndpointResolver=void 0;var UV=zn(),Xm=Gn(),FV=JT(),jV=new Xm.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),$V=(e,t={})=>jV.get(e,()=>(0,Xm.resolveEndpoint)(FV.ruleSet,{endpointParams:e,logger:t.logger}));Qc.defaultEndpointResolver=$V;Xm.customEndpointFunctions.aws=UV.awsEndpointFunctions});var ZT=v(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.getRuntimeConfig=void 0;var HV=(Ee(),j(_t)),qV=(ae(),j(He)),GV=q(),zV=Sr(),XT=De(),QT=we(),VV=zm(),WV=YT(),KV=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??XT.fromBase64,base64Encoder:e?.base64Encoder??XT.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??WV.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??VV.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new HV.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new qV.NoAuthSigner}],logger:e?.logger??new GV.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??zV.parseUrl,utf8Decoder:e?.utf8Decoder??QT.fromUtf8,utf8Encoder:e?.utf8Encoder??QT.toUtf8});Zc.getRuntimeConfig=KV});var Ms=v((tie,sx)=>{var JV=Object.create,ks=Object.defineProperty,YV=Object.getOwnPropertyDescriptor,XV=Object.getOwnPropertyNames,QV=Object.getPrototypeOf,ZV=Object.prototype.hasOwnProperty,Qm=(e,t)=>ks(e,"name",{value:t,configurable:!0}),e2=(e,t)=>{for(var r in t)ks(e,r,{get:t[r],enumerable:!0})},nx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of XV(t))!ZV.call(e,o)&&o!==r&&ks(e,o,{get:()=>t[o],enumerable:!(n=YV(t,o))||n.enumerable});return e},t2=(e,t,r)=>(r=e!=null?JV(QV(e)):{},nx(t||!e||!e.__esModule?ks(r,"default",{value:e,enumerable:!0}):r,e)),r2=e=>nx(ks({},"__esModule",{value:!0}),e),ox={};e2(ox,{resolveDefaultsModeConfig:()=>p2});sx.exports=r2(ox);var n2=Lt(),ex=Dr(),o2=Le(),s2="AWS_EXECUTION_ENV",tx="AWS_REGION",rx="AWS_DEFAULT_REGION",i2="AWS_EC2_METADATA_DISABLED",a2=["in-region","cross-region","mobile","standard","legacy"],c2="/latest/meta-data/placement/region",d2="AWS_DEFAULTS_MODE",l2="defaults_mode",u2={environmentVariableSelector:e=>e[d2],configFileSelector:e=>e[l2],default:"legacy"},p2=Qm(({region:e=(0,ex.loadConfig)(n2.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,ex.loadConfig)(u2)}={})=>(0,o2.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return m2(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${a2.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),m2=Qm(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await f2();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),f2=Qm(async()=>{if(process.env[s2]&&(process.env[tx]||process.env[rx]))return process.env[tx]??process.env[rx];if(!process.env[i2])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>t2(As())),r=await e();return(await t({...r,path:c2})).toString()}catch{}},"inferPhysicalRegion")});var lx=v(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.getRuntimeConfig=void 0;var h2=(Lc(),j(Mc)),g2=h2.__importDefault(ST()),ix=(Ee(),j(_t)),ax=Rs(),ed=Lt(),y2=Os(),cx=rr(),xn=Dr(),dx=nn(),_2=Ns(),E2=Zn(),S2=ZT(),v2=q(),b2=Ms(),w2=q(),C2=e=>{(0,w2.emitWarningIfUnsupportedVersion)(process.version);let t=(0,b2.resolveDefaultsModeConfig)(e),r=()=>t().then(v2.loadConfigsForDefaultMode),n=(0,S2.getRuntimeConfig)(e);(0,ix.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,xn.loadConfig)(ix.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??_2.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ax.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:g2.default.version}),maxAttempts:e?.maxAttempts??(0,xn.loadConfig)(cx.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xn.loadConfig)(ed.NODE_REGION_CONFIG_OPTIONS,{...ed.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:dx.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,xn.loadConfig)({...cx.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||E2.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??y2.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??dx.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xn.loadConfig)(ed.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,xn.loadConfig)(ed.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,xn.loadConfig)(ax.NODE_APP_ID_CONFIG_OPTIONS,o)}};td.getRuntimeConfig=C2});var Ls=v((nie,gx)=>{"use strict";var rd=Object.defineProperty,T2=Object.getOwnPropertyDescriptor,x2=Object.getOwnPropertyNames,I2=Object.prototype.hasOwnProperty,Ut=(e,t)=>rd(e,"name",{value:t,configurable:!0}),P2=(e,t)=>{for(var r in t)rd(e,r,{get:t[r],enumerable:!0})},A2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x2(t))!I2.call(e,o)&&o!==r&&rd(e,o,{get:()=>t[o],enumerable:!(n=T2(t,o))||n.enumerable});return e},R2=e=>A2(rd({},"__esModule",{value:!0}),e),px={};P2(px,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>k2,NODE_REGION_CONFIG_OPTIONS:()=>D2,REGION_ENV_NAME:()=>mx,REGION_INI_NAME:()=>fx,getAwsRegionExtensionConfiguration:()=>O2,resolveAwsRegionExtensionConfiguration:()=>N2,resolveRegionConfig:()=>M2});gx.exports=R2(px);var O2=Ut(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),N2=Ut(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),mx="AWS_REGION",fx="region",D2={environmentVariableSelector:Ut(e=>e[mx],"environmentVariableSelector"),configFileSelector:Ut(e=>e[fx],"configFileSelector"),default:Ut(()=>{throw new Error("Region is missing")},"default")},k2={preferredFile:"credentials"},hx=Ut(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),ux=Ut(e=>hx(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),M2=Ut(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Ut(async()=>{if(typeof t=="string")return ux(t);let n=await t();return ux(n)},"region"),useFipsEndpoint:Ut(async()=>{let n=typeof t=="string"?t:await t();return hx(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var Jx=v((oie,Kx)=>{"use strict";var nd=Object.defineProperty,L2=Object.getOwnPropertyDescriptor,B2=Object.getOwnPropertyNames,U2=Object.prototype.hasOwnProperty,V=(e,t)=>nd(e,"name",{value:t,configurable:!0}),F2=(e,t)=>{for(var r in t)nd(e,r,{get:t[r],enumerable:!0})},j2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of B2(t))!U2.call(e,o)&&o!==r&&nd(e,o,{get:()=>t[o],enumerable:!(n=L2(t,o))||n.enumerable});return e},$2=e=>j2(nd({},"__esModule",{value:!0}),e),wx={};F2(wx,{GetRoleCredentialsCommand:()=>zx,GetRoleCredentialsRequestFilterSensitiveLog:()=>Dx,GetRoleCredentialsResponseFilterSensitiveLog:()=>Mx,InvalidRequestException:()=>Tx,ListAccountRolesCommand:()=>Zm,ListAccountRolesRequestFilterSensitiveLog:()=>Lx,ListAccountsCommand:()=>ef,ListAccountsRequestFilterSensitiveLog:()=>Bx,LogoutCommand:()=>Vx,LogoutRequestFilterSensitiveLog:()=>Ux,ResourceNotFoundException:()=>Ix,RoleCredentialsFilterSensitiveLog:()=>kx,SSO:()=>Wx,SSOClient:()=>sd,SSOServiceException:()=>co,TooManyRequestsException:()=>Ax,UnauthorizedException:()=>Ox,__Client:()=>I.Client,paginateListAccountRoles:()=>mW,paginateListAccounts:()=>fW});Kx.exports=$2(wx);var yx=Uo(),H2=Fo(),q2=jo(),_x=Qn(),G2=Lt(),or=(ae(),j(He)),z2=Cs(),Us=kr(),Ex=rr(),Sx=zm(),V2=V(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),od={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},W2=lx(),vx=Ls(),bx=ee(),I=q(),K2=V(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),J2=V(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Y2=V((e,t)=>{let r=Object.assign((0,vx.getAwsRegionExtensionConfiguration)(e),(0,I.getDefaultExtensionConfiguration)(e),(0,bx.getHttpHandlerExtensionConfiguration)(e),K2(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,vx.resolveAwsRegionExtensionConfiguration)(r),(0,I.resolveDefaultRuntimeConfig)(r),(0,bx.resolveHttpHandlerRuntimeConfig)(r),J2(r))},"resolveRuntimeExtensions"),sd=class extends I.Client{static{V(this,"SSOClient")}config;constructor(...[e]){let t=(0,W2.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=V2(t),n=(0,_x.resolveUserAgentConfig)(r),o=(0,Ex.resolveRetryConfig)(n),s=(0,G2.resolveRegionConfig)(o),i=(0,yx.resolveHostHeaderConfig)(s),c=(0,Us.resolveEndpointConfig)(i),l=(0,Sx.resolveHttpAuthSchemeConfig)(c),u=Y2(l,e?.extensions||[]);this.config=u,this.middlewareStack.use((0,_x.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ex.getRetryPlugin)(this.config)),this.middlewareStack.use((0,z2.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,yx.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,H2.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,q2.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,or.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Sx.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:V(async p=>new or.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,or.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},id=hr(),co=class Cx extends I.ServiceException{static{V(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Cx.prototype)}},Tx=class xx extends co{static{V(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,xx.prototype)}},Ix=class Px extends co{static{V(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Px.prototype)}},Ax=class Rx extends co{static{V(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,Rx.prototype)}},Ox=class Nx extends co{static{V(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,Nx.prototype)}},Dx=V(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),kx=V(e=>({...e,...e.secretAccessKey&&{secretAccessKey:I.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:I.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),Mx=V(e=>({...e,...e.roleCredentials&&{roleCredentials:kx(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),Lx=V(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),Bx=V(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),Ux=V(e=>({...e,...e.accessToken&&{accessToken:I.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Bs=(Ee(),j(_t)),X2=V(async(e,t)=>{let r=(0,or.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[dd]:e[cd]});r.bp("/federation/credentials");let o=(0,I.map)({[uW]:[,(0,I.expectNonNull)(e[lW],"roleName")],[jx]:[,(0,I.expectNonNull)(e[Fx],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Q2=V(async(e,t)=>{let r=(0,or.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[dd]:e[cd]});r.bp("/assignment/roles");let o=(0,I.map)({[Gx]:[,e[qx]],[Hx]:[()=>e.maxResults!==void 0,()=>e[$x].toString()],[jx]:[,(0,I.expectNonNull)(e[Fx],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),Z2=V(async(e,t)=>{let r=(0,or.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[dd]:e[cd]});r.bp("/assignment/accounts");let o=(0,I.map)({[Gx]:[,e[qx]],[Hx]:[()=>e.maxResults!==void 0,()=>e[$x].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),eW=V(async(e,t)=>{let r=(0,or.requestBuilder)(e,t),n=(0,I.map)({},I.isSerializableHeaderValue,{[dd]:e[cd]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),tW=V(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ad(e,t);let r=(0,I.map)({$metadata:Lr(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await(0,Bs.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(n,{roleCredentials:I._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),rW=V(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ad(e,t);let r=(0,I.map)({$metadata:Lr(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await(0,Bs.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(n,{nextToken:I.expectString,roleList:I._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),nW=V(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ad(e,t);let r=(0,I.map)({$metadata:Lr(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await(0,Bs.parseJsonBody)(e.body,t)),"body"),o=(0,I.take)(n,{accountList:I._json,nextToken:I.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),oW=V(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ad(e,t);let r=(0,I.map)({$metadata:Lr(e)});return await(0,I.collectBody)(e.body,t),r},"de_LogoutCommand"),ad=V(async(e,t)=>{let r={...e,body:await(0,Bs.parseJsonErrorBody)(e.body,t)},n=(0,Bs.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await iW(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await aW(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await cW(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await dW(r,t);default:let o=r.body;return sW({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),sW=(0,I.withBaseException)(co),iW=V(async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new Tx({$metadata:Lr(e),...r});return(0,I.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),aW=V(async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new Ix({$metadata:Lr(e),...r});return(0,I.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),cW=V(async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new Ax({$metadata:Lr(e),...r});return(0,I.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),dW=V(async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{message:I.expectString});Object.assign(r,o);let s=new Ox({$metadata:Lr(e),...r});return(0,I.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),Lr=V(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Fx="accountId",cd="accessToken",jx="account_id",$x="maxResults",Hx="max_result",qx="nextToken",Gx="next_token",lW="roleName",uW="role_name",dd="x-amz-sso_bearer_token",zx=class extends I.Command.classBuilder().ep(od).m(function(e,t,r,n){return[(0,id.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Us.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(Dx,Mx).ser(X2).de(tW).build(){static{V(this,"GetRoleCredentialsCommand")}},Zm=class extends I.Command.classBuilder().ep(od).m(function(e,t,r,n){return[(0,id.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Us.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(Lx,void 0).ser(Q2).de(rW).build(){static{V(this,"ListAccountRolesCommand")}},ef=class extends I.Command.classBuilder().ep(od).m(function(e,t,r,n){return[(0,id.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Us.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(Bx,void 0).ser(Z2).de(nW).build(){static{V(this,"ListAccountsCommand")}},Vx=class extends I.Command.classBuilder().ep(od).m(function(e,t,r,n){return[(0,id.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Us.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(Ux,void 0).ser(eW).de(oW).build(){static{V(this,"LogoutCommand")}},pW={GetRoleCredentialsCommand:zx,ListAccountRolesCommand:Zm,ListAccountsCommand:ef,LogoutCommand:Vx},Wx=class extends sd{static{V(this,"SSO")}};(0,I.createAggregatedClient)(pW,Wx);var mW=(0,or.createPaginator)(sd,Zm,"nextToken","nextToken","maxResults"),fW=(0,or.createPaginator)(sd,ef,"nextToken","nextToken","maxResults")});function hW(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function gW(e){return{schemeId:"smithy.api#noAuth"}}var Fs,Yx,Xx,Qx,tf=y(()=>{Ee();Fs=E(tt()),Yx=async(e,t,r)=>({operation:(0,Fs.getSmithyContext)(t).operation,region:await(0,Fs.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Xx=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(gW(e));break}default:t.push(hW(e))}return t},Qx=e=>{let t=gn(e);return Object.assign(t,{authSchemePreference:(0,Fs.normalizeProvider)(e.authSchemePreference??[])})}});var Zx,eI,rf=y(()=>{Zx=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),eI={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var ld,nf=y(()=>{ld={name:"@aws-sdk/nested-clients",version:"3.873.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.873.0","@aws-sdk/middleware-host-header":"3.873.0","@aws-sdk/middleware-logger":"3.873.0","@aws-sdk/middleware-recursion-detection":"3.873.0","@aws-sdk/middleware-user-agent":"3.873.0","@aws-sdk/region-config-resolver":"3.873.0","@aws-sdk/types":"3.862.0","@aws-sdk/util-endpoints":"3.873.0","@aws-sdk/util-user-agent-browser":"3.873.0","@aws-sdk/util-user-agent-node":"3.873.0","@smithy/config-resolver":"^4.1.5","@smithy/core":"^3.8.0","@smithy/fetch-http-handler":"^5.1.1","@smithy/hash-node":"^4.0.5","@smithy/invalid-dependency":"^4.0.5","@smithy/middleware-content-length":"^4.0.5","@smithy/middleware-endpoint":"^4.1.18","@smithy/middleware-retry":"^4.1.19","@smithy/middleware-serde":"^4.0.9","@smithy/middleware-stack":"^4.0.5","@smithy/node-config-provider":"^4.1.4","@smithy/node-http-handler":"^4.1.1","@smithy/protocol-http":"^5.1.3","@smithy/smithy-client":"^4.4.10","@smithy/types":"^4.3.2","@smithy/url-parser":"^4.0.5","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.26","@smithy/util-defaults-mode-node":"^4.0.26","@smithy/util-endpoints":"^3.0.7","@smithy/util-middleware":"^4.0.5","@smithy/util-retry":"^4.0.7","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var lI,lt,ut,po,tI,js,lo,uo,sr,of,sf,rI,nI,oI,uI,pI,dt,sI,mI,iI,aI,cI,dI,_W,fI,hI=y(()=>{lI="required",lt="fn",ut="argv",po="ref",tI="isSet",js="booleanEquals",lo="error",uo="endpoint",sr="tree",of="PartitionResult",sf="getAttr",rI={[lI]:!1,type:"String"},nI={[lI]:!0,default:!1,type:"Boolean"},oI={[po]:"Endpoint"},uI={[lt]:js,[ut]:[{[po]:"UseFIPS"},!0]},pI={[lt]:js,[ut]:[{[po]:"UseDualStack"},!0]},dt={},sI={[lt]:sf,[ut]:[{[po]:of},"supportsFIPS"]},mI={[po]:of},iI={[lt]:js,[ut]:[!0,{[lt]:sf,[ut]:[mI,"supportsDualStack"]}]},aI=[uI],cI=[pI],dI=[{[po]:"Region"}],_W={version:"1.0",parameters:{Region:rI,UseDualStack:nI,UseFIPS:nI,Endpoint:rI},rules:[{conditions:[{[lt]:tI,[ut]:[oI]}],rules:[{conditions:aI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:lo},{conditions:cI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:lo},{endpoint:{url:oI,properties:dt,headers:dt},type:uo}],type:sr},{conditions:[{[lt]:tI,[ut]:dI}],rules:[{conditions:[{[lt]:"aws.partition",[ut]:dI,assign:of}],rules:[{conditions:[uI,pI],rules:[{conditions:[{[lt]:js,[ut]:[!0,sI]},iI],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dt,headers:dt},type:uo}],type:sr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:lo}],type:sr},{conditions:aI,rules:[{conditions:[{[lt]:js,[ut]:[sI,!0]}],rules:[{conditions:[{[lt]:"stringEquals",[ut]:[{[lt]:sf,[ut]:[mI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:dt,headers:dt},type:uo},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:dt,headers:dt},type:uo}],type:sr},{error:"FIPS is enabled but this partition does not support FIPS",type:lo}],type:sr},{conditions:cI,rules:[{conditions:[iI],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dt,headers:dt},type:uo}],type:sr},{error:"DualStack is enabled but this partition does not support DualStack",type:lo}],type:sr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:dt,headers:dt},type:uo}],type:sr}],type:sr},{error:"Invalid Configuration: Missing Region",type:lo}]},fI=_W});var gI,mo,EW,yI,_I=y(()=>{gI=E(zn()),mo=E(Gn());hI();EW=new mo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),yI=(e,t={})=>EW.get(e,()=>(0,mo.resolveEndpoint)(fI,{endpointParams:e,logger:t.logger}));mo.customEndpointFunctions.aws=gI.awsEndpointFunctions});var EI,SI,ud,pd,vI,bI=y(()=>{Ee();ae();EI=E(q()),SI=E(Sr()),ud=E(De()),pd=E(we());tf();_I();vI=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??ud.fromBase64,base64Encoder:e?.base64Encoder??ud.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??yI,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Xx,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Ge},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Zt}],logger:e?.logger??new EI.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??SI.parseUrl,utf8Decoder:e?.utf8Decoder??pd.fromUtf8,utf8Encoder:e?.utf8Encoder??pd.toUtf8})});var md,Ur,wI,fd,Br,hd,CI,TI,xI,II,PI,AI,RI=y(()=>{nf();Ee();md=E(Rs()),Ur=E(Lt()),wI=E(Os()),fd=E(rr()),Br=E(Dr()),hd=E(nn()),CI=E(Ns()),TI=E(Zn());bI();xI=E(q()),II=E(Ms()),PI=E(q()),AI=e=>{(0,PI.emitWarningIfUnsupportedVersion)(process.version);let t=(0,II.resolveDefaultsModeConfig)(e),r=()=>t().then(xI.loadConfigsForDefaultMode),n=vI(e);Vn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Br.loadConfig)(Jn,o),bodyLengthChecker:e?.bodyLengthChecker??CI.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,md.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:ld.version}),maxAttempts:e?.maxAttempts??(0,Br.loadConfig)(fd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Br.loadConfig)(Ur.NODE_REGION_CONFIG_OPTIONS,{...Ur.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:hd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Br.loadConfig)({...fd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||TI.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??wI.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??hd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Br.loadConfig)(Ur.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Br.loadConfig)(Ur.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Br.loadConfig)(md.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var OI,NI,DI=y(()=>{OI=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},NI=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var gd,yd,_d,kI,MI=y(()=>{gd=E(Ls()),yd=E(ee()),_d=E(q());DI();kI=(e,t)=>{let r=Object.assign((0,gd.getAwsRegionExtensionConfiguration)(e),(0,_d.getDefaultExtensionConfiguration)(e),(0,yd.getHttpHandlerExtensionConfiguration)(e),OI(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,gd.resolveAwsRegionExtensionConfiguration)(r),(0,_d.resolveDefaultRuntimeConfig)(r),(0,yd.resolveHttpHandlerRuntimeConfig)(r),NI(r))}});var Ed,LI,BI,Sd,UI,FI,jI,vd,af,$s,cf=y(()=>{Ed=E(Uo()),LI=E(Fo()),BI=E(jo()),Sd=E(Qn()),UI=E(Lt());ae();FI=E(Cs()),jI=E(kr()),vd=E(rr()),af=E(q());tf();rf();RI();MI();$s=class extends af.Client{config;constructor(...[t]){let r=AI(t||{});super(r),this.initConfig=r;let n=Zx(r),o=(0,Sd.resolveUserAgentConfig)(n),s=(0,vd.resolveRetryConfig)(o),i=(0,UI.resolveRegionConfig)(s),c=(0,Ed.resolveHostHeaderConfig)(i),l=(0,jI.resolveEndpointConfig)(c),u=Qx(l),p=kI(u,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,Sd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,vd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,FI.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ed.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,LI.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,BI.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ho(this.config,{httpAuthSchemeParametersProvider:Yx,identityProviderConfigProvider:async m=>new fn({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(qo(this.config))}destroy(){super.destroy()}}});var $I,ve,bd=y(()=>{$I=E(q()),ve=class e extends $I.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var In,Hs,qs,df,lf,Gs,zs,Vs,Ws,Ks,Js,Ys,Xs,Qs,wd=y(()=>{In=E(q());bd();Hs=class e extends ve{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qs=class e extends ve{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},df=e=>({...e,...e.clientSecret&&{clientSecret:In.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:In.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:In.SENSITIVE_STRING}}),lf=e=>({...e,...e.accessToken&&{accessToken:In.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:In.SENSITIVE_STRING},...e.idToken&&{idToken:In.SENSITIVE_STRING}}),Gs=class e extends ve{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zs=class e extends ve{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vs=class e extends ve{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ws=class e extends ve{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ks=class e extends ve{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Js=class e extends ve{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ys=class e extends ve{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Xs=class e extends ve{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Qs=class e extends ve{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var T,HI,qI,SW,vW,bW,wW,CW,TW,xW,IW,PW,AW,RW,OW,NW,pt,GI=y(()=>{Ee();ae();T=E(q());wd();bd();HI=async(e,t)=>{let r=as(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,T.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,T._json)(s)})),r.m("POST").h(n).b(o),r.build()},qI=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return SW(e,t);let r=(0,T.map)({$metadata:pt(e)}),n=(0,T.expectNonNull)((0,T.expectObject)(await Xn(e.body,t)),"body"),o=(0,T.take)(n,{accessToken:T.expectString,expiresIn:T.expectInt32,idToken:T.expectString,refreshToken:T.expectString,tokenType:T.expectString});return Object.assign(r,o),r},SW=async(e,t)=>{let r={...e,body:await jp(e.body,t)},n=_n(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await bW(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await wW(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await CW(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await TW(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await xW(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await IW(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await PW(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await AW(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await RW(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await OW(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await NW(r,t);default:let o=r.body;return vW({output:e,parsedBody:o,errorCode:n})}},vW=(0,T.withBaseException)(ve),bW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Hs({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},wW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new qs({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},CW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Gs({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},TW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new zs({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},xW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Vs({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},IW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Ws({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},PW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Ks({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},AW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Js({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},RW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Ys({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},OW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Xs({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},NW=async(e,t)=>{let r=(0,T.map)({}),n=e.body,o=(0,T.take)(n,{error:T.expectString,error_description:T.expectString});Object.assign(r,o);let s=new Qs({$metadata:pt(e),...r});return(0,T.decorateServiceException)(s,e.body)},pt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var zI,VI,uf,Zs,pf=y(()=>{zI=E(kr()),VI=E(hr()),uf=E(q());rf();wd();GI();Zs=class extends uf.Command.classBuilder().ep(eI).m(function(t,r,n,o){return[(0,VI.getSerdePlugin)(n,this.serialize,this.deserialize),(0,zI.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(df,lf).ser(HI).de(qI).build(){}});var WI,DW,Cd,KI=y(()=>{WI=E(q());pf();cf();DW={CreateTokenCommand:Zs},Cd=class extends $s{};(0,WI.createAggregatedClient)(DW,Cd)});var JI=y(()=>{pf()});var YI=y(()=>{wd()});var mf={};et(mf,{$Command:()=>uf.Command,AccessDeniedException:()=>Hs,AuthorizationPendingException:()=>qs,CreateTokenCommand:()=>Zs,CreateTokenRequestFilterSensitiveLog:()=>df,CreateTokenResponseFilterSensitiveLog:()=>lf,ExpiredTokenException:()=>Gs,InternalServerException:()=>zs,InvalidClientException:()=>Vs,InvalidGrantException:()=>Ws,InvalidRequestException:()=>Ks,InvalidScopeException:()=>Js,SSOOIDC:()=>Cd,SSOOIDCClient:()=>$s,SSOOIDCServiceException:()=>ve,SlowDownException:()=>Ys,UnauthorizedClientException:()=>Xs,UnsupportedGrantTypeException:()=>Qs,__Client:()=>af.Client});var ff=y(()=>{cf();KI();JI();YI();bd()});var oP=v((iae,nP)=>{"use strict";var kW=Object.create,ti=Object.defineProperty,MW=Object.getOwnPropertyDescriptor,LW=Object.getOwnPropertyNames,BW=Object.getPrototypeOf,UW=Object.prototype.hasOwnProperty,ir=(e,t)=>ti(e,"name",{value:t,configurable:!0}),FW=(e,t)=>{for(var r in t)ti(e,r,{get:t[r],enumerable:!0})},ZI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LW(t))!UW.call(e,o)&&o!==r&&ti(e,o,{get:()=>t[o],enumerable:!(n=MW(t,o))||n.enumerable});return e},eP=(e,t,r)=>(r=e!=null?kW(BW(e)):{},ZI(t||!e||!e.__esModule?ti(r,"default",{value:e,enumerable:!0}):r,e)),jW=e=>ZI(ti({},"__esModule",{value:!0}),e),tP={};FW(tP,{fromEnvSigningName:()=>qW,fromSso:()=>rP,fromStatic:()=>YW,nodeProvider:()=>XW});nP.exports=jW(tP);var $W=(yt(),j(wr)),HW=(Rp(),j(Ov)),Je=Le(),qW=ir(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Je.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,HW.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new Je.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,$W.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),GW=5*60*1e3,hf="To refresh this SSO session run 'aws sso login' with the corresponding profile.",zW=ir(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>eP((ff(),j(mf))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),VW=ir(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>eP((ff(),j(mf))));return(await zW(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),XI=ir(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Je.TokenProviderError(`Token is expired. ${hf}`,!1)},"validateTokenExpiry"),Pn=ir((e,t,r=!1)=>{if(typeof t>"u")throw new Je.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${hf}`,!1)},"validateTokenKey"),ei=Nr(),WW=require("fs"),{writeFile:KW}=WW.promises,JW=ir((e,t)=>{let r=(0,ei.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return KW(r,n)},"writeSSOTokenToFile"),QI=new Date(0),rP=ir((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,ei.parseKnownFiles)(r),o=(0,ei.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new Je.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new Je.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,l=(await(0,ei.loadSsoSessionData)(r))[i];if(!l)throw new Je.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let _ of["sso_start_url","sso_region"])if(!l[_])throw new Je.TokenProviderError(`Sso session '${i}' is missing required property '${_}'.`,!1);let u=l.sso_start_url,p=l.sso_region,m;try{m=await(0,ei.getSSOTokenFromFile)(i)}catch{throw new Je.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${hf}`,!1)}Pn("accessToken",m.accessToken),Pn("expiresAt",m.expiresAt);let{accessToken:f,expiresAt:h}=m,g={token:f,expiration:new Date(h)};if(g.expiration.getTime()-Date.now()>GW)return g;if(Date.now()-QI.getTime()<30*1e3)return XI(g),g;Pn("clientId",m.clientId,!0),Pn("clientSecret",m.clientSecret,!0),Pn("refreshToken",m.refreshToken,!0);try{QI.setTime(Date.now());let _=await VW(m,p,r);Pn("accessToken",_.accessToken),Pn("expiresIn",_.expiresIn);let S=new Date(Date.now()+_.expiresIn*1e3);try{await JW(i,{...m,accessToken:_.accessToken,expiresAt:S.toISOString(),refreshToken:_.refreshToken})}catch{}return{token:_.accessToken,expiration:S}}catch{return XI(g),g}},"fromSso"),YW=ir(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Je.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),XW=ir((e={})=>(0,Je.memoize)((0,Je.chain)(rP(e),async()=>{throw new Je.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var yf=v((aae,mP)=>{"use strict";var xd=Object.defineProperty,QW=Object.getOwnPropertyDescriptor,aP=Object.getOwnPropertyNames,ZW=Object.prototype.hasOwnProperty,Id=(e,t)=>xd(e,"name",{value:t,configurable:!0}),eK=(e,t)=>function(){return e&&(t=(0,e[aP(e)[0]])(e=0)),t},cP=(e,t)=>{for(var r in t)xd(e,r,{get:t[r],enumerable:!0})},tK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aP(t))!ZW.call(e,o)&&o!==r&&xd(e,o,{get:()=>t[o],enumerable:!(n=QW(t,o))||n.enumerable});return e},rK=e=>tK(xd({},"__esModule",{value:!0}),e),dP={};cP(dP,{GetRoleCredentialsCommand:()=>gf.GetRoleCredentialsCommand,SSOClient:()=>gf.SSOClient});var gf,nK=eK({"src/loadSso.ts"(){"use strict";gf=Jx()}}),lP={};cP(lP,{fromSSO:()=>sK,isSsoProfile:()=>uP,validateSsoProfile:()=>pP});mP.exports=rK(lP);var uP=Id(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),sP=(yt(),j(wr)),oK=oP(),vt=Le(),Td=Nr(),ri=!1,iP=Id(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:c,profile:l,logger:u})=>{let p,m="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let be=await(0,oK.fromSso)({profile:l})();p={accessToken:be.token,expiresAt:new Date(be.expiration).toISOString()}}catch(be){throw new vt.CredentialsProviderError(be.message,{tryNextLink:ri,logger:u})}else try{p=await(0,Td.getSSOTokenFromFile)(e)}catch{throw new vt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${m}`,{tryNextLink:ri,logger:u})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new vt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${m}`,{tryNextLink:ri,logger:u});let{accessToken:f}=p,{SSOClient:h,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(nK(),dP)),_=s||new h(Object.assign({},i??{},{logger:i?.logger??c?.logger,region:i?.region??n})),S;try{S=await _.send(new g({accountId:r,roleName:o,accessToken:f}))}catch(be){throw new vt.CredentialsProviderError(be,{tryNextLink:ri,logger:u})}let{roleCredentials:{accessKeyId:b,secretAccessKey:C,sessionToken:$,expiration:F,credentialScope:M,accountId:Q}={}}=S;if(!b||!C||!$||!F)throw new vt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ri,logger:u});let Vt={accessKeyId:b,secretAccessKey:C,sessionToken:$,expiration:new Date(F),...M&&{credentialScope:M},...Q&&{accountId:Q}};return t?(0,sP.setCredentialFeature)(Vt,"CREDENTIALS_SSO","s"):(0,sP.setCredentialFeature)(Vt,"CREDENTIALS_SSO_LEGACY","u"),Vt},"resolveSSOCredentials"),pP=Id((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new vt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),sK=Id((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:c}=e,l=(0,Td.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let p=(await(0,Td.parseKnownFiles)(e))[l];if(!p)throw new vt.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!uP(p))throw new vt.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(p?.sso_session){let b=(await(0,Td.loadSsoSessionData)(e))[p.sso_session],C=` configurations in profile ${l} and sso-session ${p.sso_session}`;if(o&&o!==b.sso_region)throw new vt.CredentialsProviderError("Conflicting SSO region"+C,{tryNextLink:!1,logger:e.logger});if(r&&r!==b.sso_start_url)throw new vt.CredentialsProviderError("Conflicting SSO start_url"+C,{tryNextLink:!1,logger:e.logger});p.sso_region=b.sso_region,p.sso_start_url=b.sso_start_url}let{sso_start_url:m,sso_account_id:f,sso_region:h,sso_role_name:g,sso_session:_}=pP(p,e.logger);return iP({ssoStartUrl:m,ssoSession:_,ssoAccountId:f,ssoRegion:h,ssoRoleName:g,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l})}else{if(!r||!n||!o||!s)throw new vt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return iP({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l})}},"fromSSO")});function iK(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function aK(e){return{schemeId:"smithy.api#noAuth"}}var ni,fP,hP,cK,gP,_f=y(()=>{Ee();ni=E(tt());oi();fP=async(e,t,r)=>({operation:(0,ni.getSmithyContext)(t).operation,region:await(0,ni.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hP=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(aK(e));break}default:t.push(iK(e))}return t},cK=e=>Object.assign(e,{stsClientCtor:Ft}),gP=e=>{let t=cK(e),r=gn(t);return Object.assign(r,{authSchemePreference:(0,ni.normalizeProvider)(e.authSchemePreference??[])})}});var yP,Pd,Ad=y(()=>{yP=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Pd={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var PP,H,Y,X,jr,Fr,Ie,AP,RP,OP,ne,_P,jt,fo,Sf,EP,Ef,NP,SP,Pe,vP,DP,kP,Ne,Ye,bP,MP,LP,wP,BP,CP,TP,xP,IP,dK,UP,FP=y(()=>{PP="required",H="type",Y="fn",X="argv",jr="ref",Fr="booleanEquals",Ie="stringEquals",AP="sigv4",RP="sts",OP="us-east-1",ne="endpoint",_P="https://sts.{Region}.{PartitionResult#dnsSuffix}",jt="tree",fo="error",Sf="getAttr",EP={[PP]:!1,[H]:"String"},Ef={[PP]:!0,default:!1,[H]:"Boolean"},NP={[jr]:"Endpoint"},SP={[Y]:"isSet",[X]:[{[jr]:"Region"}]},Pe={[jr]:"Region"},vP={[Y]:"aws.partition",[X]:[Pe],assign:"PartitionResult"},DP={[jr]:"UseFIPS"},kP={[jr]:"UseDualStack"},Ne={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:AP,signingName:RP,signingRegion:OP}]},headers:{}},Ye={},bP={conditions:[{[Y]:Ie,[X]:[Pe,"aws-global"]}],[ne]:Ne,[H]:ne},MP={[Y]:Fr,[X]:[DP,!0]},LP={[Y]:Fr,[X]:[kP,!0]},wP={[Y]:Sf,[X]:[{[jr]:"PartitionResult"},"supportsFIPS"]},BP={[jr]:"PartitionResult"},CP={[Y]:Fr,[X]:[!0,{[Y]:Sf,[X]:[BP,"supportsDualStack"]}]},TP=[{[Y]:"isSet",[X]:[NP]}],xP=[MP],IP=[LP],dK={version:"1.0",parameters:{Region:EP,UseDualStack:Ef,UseFIPS:Ef,Endpoint:EP,UseGlobalEndpoint:Ef},rules:[{conditions:[{[Y]:Fr,[X]:[{[jr]:"UseGlobalEndpoint"},!0]},{[Y]:"not",[X]:TP},SP,vP,{[Y]:Fr,[X]:[DP,!1]},{[Y]:Fr,[X]:[kP,!1]}],rules:[{conditions:[{[Y]:Ie,[X]:[Pe,"ap-northeast-1"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"ap-south-1"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"ap-southeast-1"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"ap-southeast-2"]}],endpoint:Ne,[H]:ne},bP,{conditions:[{[Y]:Ie,[X]:[Pe,"ca-central-1"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"eu-central-1"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"eu-north-1"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"eu-west-1"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"eu-west-2"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"eu-west-3"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"sa-east-1"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,OP]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"us-east-2"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"us-west-1"]}],endpoint:Ne,[H]:ne},{conditions:[{[Y]:Ie,[X]:[Pe,"us-west-2"]}],endpoint:Ne,[H]:ne},{endpoint:{url:_P,properties:{authSchemes:[{name:AP,signingName:RP,signingRegion:"{Region}"}]},headers:Ye},[H]:ne}],[H]:jt},{conditions:TP,rules:[{conditions:xP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[H]:fo},{conditions:IP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[H]:fo},{endpoint:{url:NP,properties:Ye,headers:Ye},[H]:ne}],[H]:jt},{conditions:[SP],rules:[{conditions:[vP],rules:[{conditions:[MP,LP],rules:[{conditions:[{[Y]:Fr,[X]:[!0,wP]},CP],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},[H]:ne}],[H]:jt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[H]:fo}],[H]:jt},{conditions:xP,rules:[{conditions:[{[Y]:Fr,[X]:[wP,!0]}],rules:[{conditions:[{[Y]:Ie,[X]:[{[Y]:Sf,[X]:[BP,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ye,headers:Ye},[H]:ne},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},[H]:ne}],[H]:jt},{error:"FIPS is enabled but this partition does not support FIPS",[H]:fo}],[H]:jt},{conditions:IP,rules:[{conditions:[CP],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},[H]:ne}],[H]:jt},{error:"DualStack is enabled but this partition does not support DualStack",[H]:fo}],[H]:jt},bP,{endpoint:{url:_P,properties:Ye,headers:Ye},[H]:ne}],[H]:jt}],[H]:jt},{error:"Invalid Configuration: Missing Region",[H]:fo}]},UP=dK});var jP,ho,lK,$P,HP=y(()=>{jP=E(zn()),ho=E(Gn());FP();lK=new ho.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),$P=(e,t={})=>lK.get(e,()=>(0,ho.resolveEndpoint)(UP,{endpointParams:e,logger:t.logger}));ho.customEndpointFunctions.aws=jP.awsEndpointFunctions});var qP,GP,Rd,Od,zP,VP=y(()=>{Ee();ae();qP=E(q()),GP=E(Sr()),Rd=E(De()),Od=E(we());_f();HP();zP=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Rd.fromBase64,base64Encoder:e?.base64Encoder??Rd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??$P,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??hP,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Ge},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Zt}],logger:e?.logger??new qP.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??GP.parseUrl,utf8Decoder:e?.utf8Decoder??Od.fromUtf8,utf8Encoder:e?.utf8Encoder??Od.toUtf8})});var Nd,Hr,WP,Dd,$r,kd,KP,JP,YP,XP,QP,ZP,eA=y(()=>{nf();Ee();Nd=E(Rs()),Hr=E(Lt());ae();WP=E(Os()),Dd=E(rr()),$r=E(Dr()),kd=E(nn()),KP=E(Ns()),JP=E(Zn());VP();YP=E(q()),XP=E(Ms()),QP=E(q()),ZP=e=>{(0,QP.emitWarningIfUnsupportedVersion)(process.version);let t=(0,XP.resolveDefaultsModeConfig)(e),r=()=>t().then(YP.loadConfigsForDefaultMode),n=zP(e);Vn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,$r.loadConfig)(Jn,o),bodyLengthChecker:e?.bodyLengthChecker??KP.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Nd.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:ld.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new Ge},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Zt}],maxAttempts:e?.maxAttempts??(0,$r.loadConfig)(Dd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,$r.loadConfig)(Hr.NODE_REGION_CONFIG_OPTIONS,{...Hr.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:kd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,$r.loadConfig)({...Dd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||JP.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??WP.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??kd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,$r.loadConfig)(Hr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,$r.loadConfig)(Hr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,$r.loadConfig)(Nd.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var tA,rA,nA=y(()=>{tA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},rA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Md,Ld,Bd,oA,sA=y(()=>{Md=E(Ls()),Ld=E(ee()),Bd=E(q());nA();oA=(e,t)=>{let r=Object.assign((0,Md.getAwsRegionExtensionConfiguration)(e),(0,Bd.getDefaultExtensionConfiguration)(e),(0,Ld.getHttpHandlerExtensionConfiguration)(e),tA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Md.resolveAwsRegionExtensionConfiguration)(r),(0,Bd.resolveDefaultRuntimeConfig)(r),(0,Ld.resolveHttpHandlerRuntimeConfig)(r),rA(r))}});var Ud,iA,aA,Fd,cA,dA,lA,jd,vf,Ft,oi=y(()=>{Ud=E(Uo()),iA=E(Fo()),aA=E(jo()),Fd=E(Qn()),cA=E(Lt());ae();dA=E(Cs()),lA=E(kr()),jd=E(rr()),vf=E(q());_f();Ad();eA();sA();Ft=class extends vf.Client{config;constructor(...[t]){let r=ZP(t||{});super(r),this.initConfig=r;let n=yP(r),o=(0,Fd.resolveUserAgentConfig)(n),s=(0,jd.resolveRetryConfig)(o),i=(0,cA.resolveRegionConfig)(s),c=(0,Ud.resolveHostHeaderConfig)(i),l=(0,lA.resolveEndpointConfig)(c),u=gP(l),p=oA(u,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,Fd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,jd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,dA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ud.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,iA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,aA.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ho(this.config,{httpAuthSchemeParametersProvider:fP,identityProviderConfigProvider:async m=>new fn({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(qo(this.config))}destroy(){super.destroy()}}});var uA,ze,$d=y(()=>{uA=E(q()),ze=class e extends uA.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var bf,wf,Cf,si,ii,ai,ci,di,li,Tf,xf,ui,pi=y(()=>{bf=E(q());$d();wf=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:bf.SENSITIVE_STRING}}),Cf=e=>({...e,...e.Credentials&&{Credentials:wf(e.Credentials)}}),si=class e extends ze{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ii=class e extends ze{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ai=class e extends ze{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ci=class e extends ze{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},di=class e extends ze{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},li=class e extends ze{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Tf=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:bf.SENSITIVE_STRING}}),xf=e=>({...e,...e.Credentials&&{Credentials:wf(e.Credentials)}}),ui=class e extends ze{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var pA,G,mA,fA,hA,gA,yA,uK,pK,mK,fK,hK,gK,yK,_K,EK,_A,SK,vK,bK,wK,CK,TK,EA,xK,IK,SA,PK,AK,RK,OK,NK,DK,kK,cr,MK,vA,bA,wA,CA,If,LK,Pf,go,BK,Af,Rf,yo,Of,_o,Nf,Df,kf,Eo,So,Mf,Lf,Bf,vo,Uf,bo,wo,Ff,jf,ar,$f,Hf,qf,Gf,zf,TA,Vf,Wf,Kf,de,xA,UK,Jf=y(()=>{Ee();pA=E(ee()),G=E(q());pi();$d();mA=async(e,t)=>{let r=bA,n;return n=xA({..._K(e,t),[CA]:LK,[TA]:wA}),vA(t,r,"/",void 0,n)},fA=async(e,t)=>{let r=bA,n;return n=xA({...EK(e,t),[CA]:BK,[TA]:wA}),vA(t,r,"/",void 0,n)},hA=async(e,t)=>{if(e.statusCode>=300)return yA(e,t);let r=await vs(e.body,t),n={};return n=xK(r.AssumeRoleResult,t),{$metadata:cr(e),...n}},gA=async(e,t)=>{if(e.statusCode>=300)return yA(e,t);let r=await vs(e.body,t),n={};return n=IK(r.AssumeRoleWithWebIdentityResult,t),{$metadata:cr(e),...n}},yA=async(e,t)=>{let r={...e,body:await nm(e.body,t)},n=UK(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await uK(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await hK(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await gK(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await yK(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await pK(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await mK(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await fK(r,t);default:let o=r.body;return MK({output:e,parsedBody:o.Error,errorCode:n})}},uK=async(e,t)=>{let r=e.body,n=PK(r.Error,t),o=new si({$metadata:cr(e),...n});return(0,G.decorateServiceException)(o,r)},pK=async(e,t)=>{let r=e.body,n=AK(r.Error,t),o=new ui({$metadata:cr(e),...n});return(0,G.decorateServiceException)(o,r)},mK=async(e,t)=>{let r=e.body,n=RK(r.Error,t),o=new di({$metadata:cr(e),...n});return(0,G.decorateServiceException)(o,r)},fK=async(e,t)=>{let r=e.body,n=OK(r.Error,t),o=new li({$metadata:cr(e),...n});return(0,G.decorateServiceException)(o,r)},hK=async(e,t)=>{let r=e.body,n=NK(r.Error,t),o=new ii({$metadata:cr(e),...n});return(0,G.decorateServiceException)(o,r)},gK=async(e,t)=>{let r=e.body,n=DK(r.Error,t),o=new ai({$metadata:cr(e),...n});return(0,G.decorateServiceException)(o,r)},yK=async(e,t)=>{let r=e.body,n=kK(r.Error,t),o=new ci({$metadata:cr(e),...n});return(0,G.decorateServiceException)(o,r)},_K=(e,t)=>{let r={};if(e[bo]!=null&&(r[bo]=e[bo]),e[wo]!=null&&(r[wo]=e[wo]),e[So]!=null){let n=_A(e[So],t);e[So]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[Eo]!=null&&(r[Eo]=e[Eo]),e[_o]!=null&&(r[_o]=e[_o]),e[qf]!=null){let n=TK(e[qf],t);e[qf]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[zf]!=null){let n=CK(e[zf],t);e[zf]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[Df]!=null&&(r[Df]=e[Df]),e[$f]!=null&&(r[$f]=e[$f]),e[Gf]!=null&&(r[Gf]=e[Gf]),e[ar]!=null&&(r[ar]=e[ar]),e[Lf]!=null){let n=bK(e[Lf],t);e[Lf]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},EK=(e,t)=>{let r={};if(e[bo]!=null&&(r[bo]=e[bo]),e[wo]!=null&&(r[wo]=e[wo]),e[Wf]!=null&&(r[Wf]=e[Wf]),e[Bf]!=null&&(r[Bf]=e[Bf]),e[So]!=null){let n=_A(e[So],t);e[So]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[Eo]!=null&&(r[Eo]=e[Eo]),e[_o]!=null&&(r[_o]=e[_o]),r},_A=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=SK(o,t);Object.entries(s).forEach(([i,c])=>{r[`member.${n}.${i}`]=c}),n++}return r},SK=(e,t)=>{let r={};return e[Kf]!=null&&(r[Kf]=e[Kf]),r},vK=(e,t)=>{let r={};return e[Mf]!=null&&(r[Mf]=e[Mf]),e[Of]!=null&&(r[Of]=e[Of]),r},bK=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=vK(o,t);Object.entries(s).forEach(([i,c])=>{r[`member.${n}.${i}`]=c}),n++}return r},wK=(e,t)=>{let r={};return e[kf]!=null&&(r[kf]=e[kf]),e[Vf]!=null&&(r[Vf]=e[Vf]),r},CK=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},TK=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=wK(o,t);Object.entries(s).forEach(([i,c])=>{r[`member.${n}.${i}`]=c}),n++}return r},EA=(e,t)=>{let r={};return e[Pf]!=null&&(r[Pf]=(0,G.expectString)(e[Pf])),e[Af]!=null&&(r[Af]=(0,G.expectString)(e[Af])),r},xK=(e,t)=>{let r={};return e[yo]!=null&&(r[yo]=SA(e[yo],t)),e[go]!=null&&(r[go]=EA(e[go],t)),e[vo]!=null&&(r[vo]=(0,G.strictParseInt32)(e[vo])),e[ar]!=null&&(r[ar]=(0,G.expectString)(e[ar])),r},IK=(e,t)=>{let r={};return e[yo]!=null&&(r[yo]=SA(e[yo],t)),e[jf]!=null&&(r[jf]=(0,G.expectString)(e[jf])),e[go]!=null&&(r[go]=EA(e[go],t)),e[vo]!=null&&(r[vo]=(0,G.strictParseInt32)(e[vo])),e[Uf]!=null&&(r[Uf]=(0,G.expectString)(e[Uf])),e[Rf]!=null&&(r[Rf]=(0,G.expectString)(e[Rf])),e[ar]!=null&&(r[ar]=(0,G.expectString)(e[ar])),r},SA=(e,t)=>{let r={};return e[If]!=null&&(r[If]=(0,G.expectString)(e[If])),e[Ff]!=null&&(r[Ff]=(0,G.expectString)(e[Ff])),e[Hf]!=null&&(r[Hf]=(0,G.expectString)(e[Hf])),e[Nf]!=null&&(r[Nf]=(0,G.expectNonNull)((0,G.parseRfc3339DateTimeWithOffset)(e[Nf]))),r},PK=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,G.expectString)(e[de])),r},AK=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,G.expectString)(e[de])),r},RK=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,G.expectString)(e[de])),r},OK=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,G.expectString)(e[de])),r},NK=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,G.expectString)(e[de])),r},DK=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,G.expectString)(e[de])),r},kK=(e,t)=>{let r={};return e[de]!=null&&(r[de]=(0,G.expectString)(e[de])),r},cr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),MK=(0,G.withBaseException)(ze),vA=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:c,path:l}=await e.endpoint(),u={protocol:i,hostname:s,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return n!==void 0&&(u.hostname=n),o!==void 0&&(u.body=o),new pA.HttpRequest(u)},bA={"content-type":"application/x-www-form-urlencoded"},wA="2011-06-15",CA="Action",If="AccessKeyId",LK="AssumeRole",Pf="AssumedRoleId",go="AssumedRoleUser",BK="AssumeRoleWithWebIdentity",Af="Arn",Rf="Audience",yo="Credentials",Of="ContextAssertion",_o="DurationSeconds",Nf="Expiration",Df="ExternalId",kf="Key",Eo="Policy",So="PolicyArns",Mf="ProviderArn",Lf="ProvidedContexts",Bf="ProviderId",vo="PackedPolicySize",Uf="Provider",bo="RoleArn",wo="RoleSessionName",Ff="SecretAccessKey",jf="SubjectFromWebIdentityToken",ar="SourceIdentity",$f="SerialNumber",Hf="SessionToken",qf="Tags",Gf="TokenCode",zf="TransitiveTagKeys",TA="Version",Vf="Value",Wf="WebIdentityToken",Kf="arn",de="message",xA=e=>Object.entries(e).map(([t,r])=>(0,G.extendedEncodeURIComponent)(t)+"="+(0,G.extendedEncodeURIComponent)(r)).join("&"),UK=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var IA,PA,AA,An,Hd=y(()=>{IA=E(kr()),PA=E(hr()),AA=E(q());Ad();pi();Jf();An=class extends AA.Command.classBuilder().ep(Pd).m(function(t,r,n,o){return[(0,PA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,IA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Cf).ser(mA).de(hA).build(){}});var RA,OA,NA,Rn,qd=y(()=>{RA=E(kr()),OA=E(hr()),NA=E(q());Ad();pi();Jf();Rn=class extends NA.Command.classBuilder().ep(Pd).m(function(t,r,n,o){return[(0,OA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,RA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Tf,xf).ser(fA).de(gA).build(){}});var DA,FK,Gd,kA=y(()=>{DA=E(q());Hd();qd();oi();FK={AssumeRoleCommand:An,AssumeRoleWithWebIdentityCommand:Rn},Gd=class extends Ft{};(0,DA.createAggregatedClient)(FK,Gd)});var MA=y(()=>{Hd();qd()});var LA=y(()=>{pi()});var BA,UA,FA,jA,$A,HA,qA=y(()=>{yt();Hd();qd();BA="us-east-1",UA=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},FA=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${BA} (STS default)`),n??o??BA},jA=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:p=e?.parentClientConfig?.logger,region:m,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,g=await FA(m,e?.parentClientConfig?.region,h),_=!HA(f);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:_?f:void 0,logger:p})}let{Credentials:i,AssumedRoleUser:c}=await r.send(new An(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let l=UA(c),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return br(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},$A=(e,t)=>{let r;return async n=>{if(!r){let{logger:l=e?.parentClientConfig?.logger,region:u,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:m}=e,f=await FA(u,e?.parentClientConfig?.region,m),h=!HA(p);r=new t({profile:e?.parentClientConfig?.profile,region:f,requestHandler:h?p:void 0,logger:l})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new Rn(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=UA(s),c={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&br(c,"RESOLVED_ACCOUNT_ID","T"),br(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},HA=e=>e?.metadata?.handlerProtocol==="h2"});var GA,zA,VA,jK,WA=y(()=>{qA();oi();GA=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,zA=(e={},t)=>jA(e,GA(Ft,t)),VA=(e={},t)=>$A(e,GA(Ft,t)),jK=e=>t=>e({roleAssumer:zA(t),roleAssumerWithWebIdentity:VA(t),...t})});var Yf={};et(Yf,{AssumeRoleCommand:()=>An,AssumeRoleResponseFilterSensitiveLog:()=>Cf,AssumeRoleWithWebIdentityCommand:()=>Rn,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Tf,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>xf,CredentialsFilterSensitiveLog:()=>wf,ExpiredTokenException:()=>si,IDPCommunicationErrorException:()=>ui,IDPRejectedClaimException:()=>di,InvalidIdentityTokenException:()=>li,MalformedPolicyDocumentException:()=>ii,PackedPolicyTooLargeException:()=>ai,RegionDisabledException:()=>ci,STS:()=>Gd,STSClient:()=>Ft,STSServiceException:()=>ze,__Client:()=>vf.Client,decorateDefaultCredentialProvider:()=>jK,getDefaultRoleAssumer:()=>zA,getDefaultRoleAssumerWithWebIdentity:()=>VA});var Xf=y(()=>{oi();kA();MA();LA();WA();$d()});var eh=v((_ce,YA)=>{"use strict";var zd=Object.defineProperty,$K=Object.getOwnPropertyDescriptor,HK=Object.getOwnPropertyNames,qK=Object.prototype.hasOwnProperty,Zf=(e,t)=>zd(e,"name",{value:t,configurable:!0}),GK=(e,t)=>{for(var r in t)zd(e,r,{get:t[r],enumerable:!0})},zK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HK(t))!qK.call(e,o)&&o!==r&&zd(e,o,{get:()=>t[o],enumerable:!(n=$K(t,o))||n.enumerable});return e},VK=e=>zK(zd({},"__esModule",{value:!0}),e),JA={};GK(JA,{fromProcess:()=>QK});YA.exports=VK(JA);var KA=Nr(),Qf=Le(),WK=require("child_process"),KK=require("util"),JK=(yt(),j(wr)),YK=Zf((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,JK.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),XK=Zf(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,KK.promisify)(WK.exec);try{let{stdout:i}=await s(o),c;try{c=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return YK(e,c,t)}catch(i){throw new Qf.CredentialsProviderError(i.message,{logger:r})}}else throw new Qf.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Qf.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),QK=Zf((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,KA.parseKnownFiles)(e);return XK((0,KA.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var th=v($t=>{"use strict";var ZK=$t&&$t.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),e3=$t&&$t.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t3=$t&&$t.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&ZK(r,t,n[o]);return e3(r,t),r}}();Object.defineProperty($t,"__esModule",{value:!0});$t.fromWebToken=void 0;var r3=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:c,durationSeconds:l}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>t3((Xf(),j(Yf))));u=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:c,DurationSeconds:l})};$t.fromWebToken=r3});var QA=v(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.fromTokenFile=void 0;var n3=(yt(),j(wr)),o3=Le(),s3=require("fs"),i3=th(),XA="AWS_WEB_IDENTITY_TOKEN_FILE",a3="AWS_ROLE_ARN",c3="AWS_ROLE_SESSION_NAME",d3=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[XA],r=e?.roleArn??process.env[a3],n=e?.roleSessionName??process.env[c3];if(!t||!r)throw new o3.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,i3.fromWebToken)({...e,webIdentityToken:(0,s3.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[XA]&&(0,n3.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};Vd.fromTokenFile=d3});var oh=v((vce,Wd)=>{"use strict";var ZA=Object.defineProperty,l3=Object.getOwnPropertyDescriptor,u3=Object.getOwnPropertyNames,p3=Object.prototype.hasOwnProperty,rh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of u3(t))!p3.call(e,o)&&o!==r&&ZA(e,o,{get:()=>t[o],enumerable:!(n=l3(t,o))||n.enumerable});return e},e0=(e,t,r)=>(rh(e,t,"default"),r&&rh(r,t,"default")),m3=e=>rh(ZA({},"__esModule",{value:!0}),e),nh={};Wd.exports=m3(nh);e0(nh,QA(),Wd.exports);e0(nh,th(),Wd.exports)});var c0=v((bce,a0)=>{"use strict";var f3=Object.create,fi=Object.defineProperty,h3=Object.getOwnPropertyDescriptor,g3=Object.getOwnPropertyNames,y3=Object.getPrototypeOf,_3=Object.prototype.hasOwnProperty,fe=(e,t)=>fi(e,"name",{value:t,configurable:!0}),E3=(e,t)=>{for(var r in t)fi(e,r,{get:t[r],enumerable:!0})},o0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of g3(t))!_3.call(e,o)&&o!==r&&fi(e,o,{get:()=>t[o],enumerable:!(n=h3(t,o))||n.enumerable});return e},qr=(e,t,r)=>(r=e!=null?f3(y3(e)):{},o0(t||!e||!e.__esModule?fi(r,"default",{value:e,enumerable:!0}):r,e)),S3=e=>o0(fi({},"__esModule",{value:!0}),e),s0={};E3(s0,{fromIni:()=>N3});a0.exports=S3(s0);var ih=Nr(),Gr=(yt(),j(wr)),mi=Le(),v3=fe((e,t,r)=>{let n={EcsContainer:fe(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>qr(qm())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>qr(As()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,mi.chain)(s(o??{}),i(o))().then(sh)},"EcsContainer"),Ec2InstanceMetadata:fe(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>qr(As()));return async()=>s(o)().then(sh)},"Ec2InstanceMetadata"),Environment:fe(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>qr(Lm()));return async()=>s(o)().then(sh)},"Environment")};if(e in n)return n[e];throw new mi.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),sh=fe(e=>(0,Gr.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),b3=fe((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(w3(e,{profile:t,logger:r})||C3(e,{profile:t,logger:r})),"isAssumeRoleProfile"),w3=fe((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),C3=fe((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),T3=fe(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:l}=await Promise.resolve().then(()=>qr((Xf(),j(Yf))));r.roleAssumer=l({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new mi.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,ih.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let c=s?i0(s,t,r,{...n,[s]:!0},t0(t[s]??{})):(await v3(o.credential_source,e,r.logger)(r))();if(t0(o))return c.then(l=>(0,Gr.setCredentialFeature)(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let l={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:u}=o;if(u){if(!r.mfaCodeProvider)throw new mi.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});l.SerialNumber=u,l.TokenCode=await r.mfaCodeProvider(u)}let p=await c;return r.roleAssumer(p,l).then(m=>(0,Gr.setCredentialFeature)(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),t0=fe(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),x3=fe(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),I3=fe(async(e,t)=>Promise.resolve().then(()=>qr(eh())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Gr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),P3=fe(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>qr(yf()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,Gr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,Gr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),A3=fe(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),r0=fe(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),n0=fe(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Gr.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),R3=fe(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),O3=fe(async(e,t)=>Promise.resolve().then(()=>qr(oh())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Gr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),i0=fe(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&r0(s))return n0(s,r);if(o||b3(s,{profile:e,logger:r.logger}))return T3(e,t,r,n);if(r0(s))return n0(s,r);if(R3(s))return O3(s,r);if(x3(s))return I3(r,e);if(A3(s))return await P3(e,s,r);throw new mi.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),N3=fe((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,ih.parseKnownFiles)(r);return i0((0,ih.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var g0=v((wce,h0)=>{"use strict";var D3=Object.create,hi=Object.defineProperty,k3=Object.getOwnPropertyDescriptor,M3=Object.getOwnPropertyNames,L3=Object.getPrototypeOf,B3=Object.prototype.hasOwnProperty,Kd=(e,t)=>hi(e,"name",{value:t,configurable:!0}),U3=(e,t)=>{for(var r in t)hi(e,r,{get:t[r],enumerable:!0})},u0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of M3(t))!B3.call(e,o)&&o!==r&&hi(e,o,{get:()=>t[o],enumerable:!(n=k3(t,o))||n.enumerable});return e},Co=(e,t,r)=>(r=e!=null?D3(L3(e)):{},u0(t||!e||!e.__esModule?hi(r,"default",{value:e,enumerable:!0}):r,e)),F3=e=>u0(hi({},"__esModule",{value:!0}),e),p0={};U3(p0,{credentialsTreatedAsExpired:()=>f0,credentialsWillNeedRefresh:()=>m0,defaultProvider:()=>H3});h0.exports=F3(p0);var ah=Lm(),j3=Nr(),On=Le(),d0="AWS_EC2_METADATA_DISABLED",$3=Kd(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>Co(As()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>Co(qm()));return(0,On.chain)(s(e),n(e))}return process.env[d0]&&process.env[d0]!=="false"?async()=>{throw new On.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),l0=!1,H3=Kd((e={})=>(0,On.memoize)((0,On.chain)(async()=>{if(e.profile??process.env[j3.ENV_PROFILE])throw process.env[ah.ENV_KEY]&&process.env[ah.ENV_SECRET]&&(l0||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),l0=!0)),new On.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,ah.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new On.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>Co(yf()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Co(c0()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Co(eh()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Co(oh()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await $3(e))()),async()=>{throw new On.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),f0,m0),"defaultProvider"),m0=Kd(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),f0=Kd(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var j0=v(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.ruleSet=void 0;var ph="required",B="type",W="fn",K="argv",ge="ref",zr="properties",Vr="headers",y0=!1,Nn="isSet",Ae="error",Ht="endpoint",he="tree",Zd="PartitionResult",Wr="stringEquals",B0="dynamodb",Kr="getAttr",_0="aws.parseArn",To="ParsedArn",mh="isValidHostLabel",E0="FirstArn",gi={[ph]:!1,[B]:"String"},S0={[ph]:!0,default:!1,[B]:"Boolean"},fh={[W]:"booleanEquals",[K]:[{[ge]:"UseFIPS"},!0]},hh={[W]:"booleanEquals",[K]:[{[ge]:"UseDualStack"},!0]},bt={},U0={[ge]:"Region"},v0={[W]:"booleanEquals",[K]:[{[W]:Kr,[K]:[{[ge]:Zd},"supportsFIPS"]},!0]},b0={[W]:"booleanEquals",[K]:[{[W]:Kr,[K]:[{[ge]:Zd},"supportsDualStack"]},!0]},ch={conditions:[{[W]:Nn,[K]:[{[ge]:"AccountIdEndpointMode"}]},{[W]:Wr,[K]:[{[ge]:"AccountIdEndpointMode"},"required"]}],rules:[{[Ae]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[B]:Ae}],[B]:he},Xd={[W]:Nn,[K]:[{[ge]:"AccountIdEndpointMode"}]},w0={[Ae]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[B]:Ae},F0={[W]:Kr,[K]:[{[ge]:Zd},"name"]},C0={[Ht]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[zr]:{},[Vr]:{}},[B]:Ht},Qd={[W]:"not",[K]:[fh]},T0={[Ae]:"Invalid Configuration: AccountIdEndpointMode is required and DualStack is enabled, but DualStack account endpoints are not supported",[B]:Ae},dh={[W]:"not",[K]:[{[W]:Wr,[K]:[{[ge]:"AccountIdEndpointMode"},"disabled"]}]},Jd={[W]:Wr,[K]:[F0,"aws"]},Yd={[W]:"not",[K]:[hh]},x0={[W]:Wr,[K]:[{[W]:Kr,[K]:[{[ge]:To},"service"]},B0]},I0={[W]:mh,[K]:[{[W]:Kr,[K]:[{[ge]:To},"region"]},!1]},P0={[W]:Wr,[K]:[{[W]:Kr,[K]:[{[ge]:To},"region"]},"{Region}"]},A0={[W]:mh,[K]:[{[W]:Kr,[K]:[{[ge]:To},"accountId"]},!1]},R0={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[zr]:{},[Vr]:{}},O0={[ge]:"ResourceArnList"},N0={[ge]:"AccountId"},lh=[fh],uh=[hh],D0=[U0],k0=[Xd,{[W]:Wr,[K]:[{[ge]:"AccountIdEndpointMode"},"required"]}],M0=[Qd],L0=[{[ge]:"ResourceArn"}],q3={version:"1.0",parameters:{Region:gi,UseDualStack:S0,UseFIPS:S0,Endpoint:gi,AccountId:gi,AccountIdEndpointMode:gi,ResourceArn:gi,ResourceArnList:{[ph]:y0,[B]:"stringArray"}},rules:[{conditions:[{[W]:Nn,[K]:[{[ge]:"Endpoint"}]}],rules:[{conditions:lh,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[B]:Ae},{conditions:uh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[B]:Ae},{endpoint:{url:"{Endpoint}",[zr]:bt,[Vr]:bt},[B]:Ht}],[B]:he},{conditions:[{[W]:Nn,[K]:D0}],rules:[{conditions:[{[W]:"aws.partition",[K]:D0,assign:Zd}],rules:[{conditions:[{[W]:Wr,[K]:[U0,"local"]}],rules:[{conditions:lh,error:"Invalid Configuration: FIPS and local endpoint are not supported",[B]:Ae},{conditions:uh,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[B]:Ae},{endpoint:{url:"http://localhost:8000",[zr]:{authSchemes:[{name:"sigv4",signingName:B0,signingRegion:"us-east-1"}]},[Vr]:bt},[B]:Ht}],[B]:he},{conditions:[fh,hh],rules:[{conditions:[v0,b0],rules:[ch,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[zr]:bt,[Vr]:bt},[B]:Ht}],[B]:he},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[B]:Ae}],[B]:he},{conditions:lh,rules:[{conditions:[v0],rules:[{conditions:[{[W]:Wr,[K]:[F0,"aws-us-gov"]}],rules:[ch,C0],[B]:he},ch,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[zr]:bt,[Vr]:bt},[B]:Ht}],[B]:he},{error:"FIPS is enabled but this partition does not support FIPS",[B]:Ae}],[B]:he},{conditions:uh,rules:[{conditions:[b0],rules:[{conditions:k0,rules:[{conditions:M0,rules:[T0],[B]:he},w0],[B]:he},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",[zr]:bt,[Vr]:bt},[B]:Ht}],[B]:he},{error:"DualStack is enabled but this partition does not support DualStack",[B]:Ae}],[B]:he},{conditions:[Xd,dh,Jd,Qd,Yd,{[W]:Nn,[K]:L0},{[W]:_0,[K]:L0,assign:To},x0,I0,P0,A0],endpoint:R0,[B]:Ht},{conditions:[Xd,dh,Jd,Qd,Yd,{[W]:Nn,[K]:[O0]},{[W]:Kr,[K]:[O0,"[0]"],assign:E0},{[W]:_0,[K]:[{[ge]:E0}],assign:To},x0,I0,P0,A0],endpoint:R0,[B]:Ht},{conditions:[Xd,dh,Jd,Qd,Yd,{[W]:Nn,[K]:[N0]}],rules:[{conditions:[{[W]:mh,[K]:[N0,y0]}],rules:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[zr]:bt,[Vr]:bt},[B]:Ht}],[B]:he},{error:"Credentials-sourced account ID parameter is invalid",[B]:Ae}],[B]:he},{conditions:k0,rules:[{conditions:M0,rules:[{conditions:[Yd],rules:[{conditions:[Jd],rules:[{error:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[B]:Ae}],[B]:he},{error:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[B]:Ae}],[B]:he},T0],[B]:he},w0],[B]:he},C0],[B]:he}],[B]:he},{error:"Invalid Configuration: Missing Region",[B]:Ae}]};el.ruleSet=q3});var $0=v(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.defaultEndpointResolver=void 0;var G3=zn(),gh=Gn(),z3=j0(),V3=new gh.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),W3=(e,t={})=>V3.get(e,()=>(0,gh.resolveEndpoint)(z3.ruleSet,{endpointParams:e,logger:t.logger}));tl.defaultEndpointResolver=W3;gh.customEndpointFunctions.aws=G3.awsEndpointFunctions});var G0=v(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.getRuntimeConfig=void 0;var K3=(Ee(),j(_t)),J3=q(),Y3=Sr(),H0=De(),q0=we(),X3=bm(),Q3=$0(),Z3=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??H0.fromBase64,base64Encoder:e?.base64Encoder??H0.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Q3.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??X3.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new K3.AwsSdkSigV4Signer}],logger:e?.logger??new J3.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??Y3.parseUrl,utf8Decoder:e?.utf8Decoder??q0.fromUtf8,utf8Encoder:e?.utf8Encoder??q0.toUtf8});rl.getRuntimeConfig=Z3});var J0=v(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.getRuntimeConfig=void 0;var eJ=(Lc(),j(Mc)),tJ=eJ.__importDefault(zC()),z0=(Ee(),j(_t)),rJ=(Rl(),j(Al)),nJ=g0(),oJ=Ul(),V0=Rs(),nl=Lt(),sJ=Os(),W0=rr(),dr=Dr(),K0=nn(),iJ=Ns(),aJ=Zn(),cJ=G0(),dJ=q(),lJ=Ms(),uJ=q(),pJ=e=>{(0,uJ.emitWarningIfUnsupportedVersion)(process.version);let t=(0,lJ.resolveDefaultsModeConfig)(e),r=()=>t().then(dJ.loadConfigsForDefaultMode),n=(0,cJ.getRuntimeConfig)(e);(0,z0.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,dr.loadConfig)(rJ.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,dr.loadConfig)(z0.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??iJ.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??nJ.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,V0.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:tJ.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,dr.loadConfig)(oJ.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,dr.loadConfig)(W0.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,dr.loadConfig)(nl.NODE_REGION_CONFIG_OPTIONS,{...nl.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:K0.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,dr.loadConfig)({...W0.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||aJ.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??sJ.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??K0.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,dr.loadConfig)(nl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,dr.loadConfig)(nl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,dr.loadConfig)(V0.NODE_APP_ID_CONFIG_OPTIONS,o)}};ol.getRuntimeConfig=pJ});var rR=v((Pce,tR)=>{var sl=Object.defineProperty,mJ=Object.getOwnPropertyDescriptor,fJ=Object.getOwnPropertyNames,hJ=Object.prototype.hasOwnProperty,qt=(e,t)=>sl(e,"name",{value:t,configurable:!0}),gJ=(e,t)=>{for(var r in t)sl(e,r,{get:t[r],enumerable:!0})},yJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fJ(t))!hJ.call(e,o)&&o!==r&&sl(e,o,{get:()=>t[o],enumerable:!(n=mJ(t,o))||n.enumerable});return e},_J=e=>yJ(sl({},"__esModule",{value:!0}),e),Q0={};gJ(Q0,{WaiterState:()=>eR,checkExceptions:()=>SJ,createWaiter:()=>TJ,waiterServiceDefaults:()=>Z0});tR.exports=_J(Q0);var EJ=qt(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),Z0={minDelay:2,maxDelay:120},eR=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(eR||{}),SJ=qt(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),vJ=qt((e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return bJ(e,o)},"exponentialBackoffWithJitter"),bJ=qt((e,t)=>e+Math.random()*(t-e),"randomInRange"),wJ=qt(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,c)=>{let l={},{state:u,reason:p}=await c(o,i);if(p){let g=Y0(p);l[g]|=0,l[g]+=1}if(u!=="RETRY")return{state:u,reason:p,observedResponses:l};let m=1,f=Date.now()+r*1e3,h=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let b="AbortController signal aborted.";return l[b]|=0,l[b]+=1,{state:"ABORTED",observedResponses:l}}let g=vJ(e,t,h,m);if(Date.now()+g*1e3>f)return{state:"TIMEOUT",observedResponses:l};await EJ(g);let{state:_,reason:S}=await c(o,i);if(S){let b=Y0(S);l[b]|=0,l[b]+=1}if(_!=="RETRY")return{state:_,reason:S,observedResponses:l};m+=1}},"runPolling"),Y0=qt(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),CJ=qt(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),X0=qt(e=>{let t,r=new Promise(n=>{t=qt(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),TJ=qt(async(e,t,r)=>{let n={...Z0,...e};CJ(n);let o=[wJ(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:c}=X0(e.abortSignal);s.push(c),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:c}=X0(e.abortController.signal);s.push(c),o.push(i)}return Promise.race(o).then(i=>{for(let c of s)c();return i})},"createWaiter")});var pl=v((Ace,HN)=>{"use strict";var al=Object.defineProperty,xJ=Object.getOwnPropertyDescriptor,IJ=Object.getOwnPropertyNames,PJ=Object.prototype.hasOwnProperty,a=(e,t)=>al(e,"name",{value:t,configurable:!0}),AJ=(e,t)=>{for(var r in t)al(e,r,{get:t[r],enumerable:!0})},RJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IJ(t))!PJ.call(e,o)&&o!==r&&al(e,o,{get:()=>t[o],enumerable:!(n=xJ(t,o))||n.enumerable});return e},OJ=e=>RJ(al({},"__esModule",{value:!0}),e),dR={};AJ(dR,{ApproximateCreationDateTimePrecision:()=>FJ,AttributeAction:()=>jJ,AttributeValue:()=>il,BackupInUseException:()=>uR,BackupNotFoundException:()=>mR,BackupStatus:()=>HJ,BackupType:()=>qJ,BackupTypeFilter:()=>XJ,BatchExecuteStatementCommand:()=>GO,BatchGetItemCommand:()=>zO,BatchStatementErrorCodeEnum:()=>e4,BatchWriteItemCommand:()=>VO,BillingMode:()=>GJ,ComparisonOperator:()=>r4,ConditionalCheckFailedException:()=>wO,ConditionalOperator:()=>n4,ContinuousBackupsStatus:()=>o4,ContinuousBackupsUnavailableException:()=>OR,ContributorInsightsAction:()=>i4,ContributorInsightsMode:()=>a4,ContributorInsightsStatus:()=>c4,CreateBackupCommand:()=>WO,CreateGlobalTableCommand:()=>KO,CreateTableCommand:()=>JO,DeleteBackupCommand:()=>YO,DeleteItemCommand:()=>XO,DeleteResourcePolicyCommand:()=>QO,DeleteTableCommand:()=>ZO,DescribeBackupCommand:()=>eN,DescribeContinuousBackupsCommand:()=>tN,DescribeContributorInsightsCommand:()=>rN,DescribeEndpointsCommand:()=>Ch,DescribeExportCommand:()=>nN,DescribeGlobalTableCommand:()=>oN,DescribeGlobalTableSettingsCommand:()=>sN,DescribeImportCommand:()=>iN,DescribeKinesisStreamingDestinationCommand:()=>aN,DescribeLimitsCommand:()=>cN,DescribeTableCommand:()=>ul,DescribeTableReplicaAutoScalingCommand:()=>dN,DescribeTimeToLiveCommand:()=>lN,DestinationStatus:()=>T4,DisableKinesisStreamingDestinationCommand:()=>uN,DuplicateItemException:()=>ZR,DynamoDB:()=>FN,DynamoDBClient:()=>Qr,DynamoDBServiceException:()=>z,EnableKinesisStreamingDestinationCommand:()=>pN,ExecuteStatementCommand:()=>mN,ExecuteTransactionCommand:()=>fN,ExportConflictException:()=>sO,ExportFormat:()=>y4,ExportNotFoundException:()=>WR,ExportStatus:()=>_4,ExportTableToPointInTimeCommand:()=>hN,ExportType:()=>E4,ExportViewType:()=>S4,GetItemCommand:()=>gN,GetResourcePolicyCommand:()=>yN,GlobalTableAlreadyExistsException:()=>FR,GlobalTableNotFoundException:()=>JR,GlobalTableStatus:()=>d4,IdempotentParameterMismatchException:()=>tO,ImportConflictException:()=>uO,ImportNotFoundException:()=>XR,ImportStatus:()=>b4,ImportTableCommand:()=>_N,IndexNotFoundException:()=>vO,IndexStatus:()=>l4,InputCompressionType:()=>w4,InputFormat:()=>C4,InternalServerError:()=>hR,InvalidEndpointException:()=>vR,InvalidExportTimeException:()=>aO,InvalidRestoreTimeException:()=>hO,ItemCollectionSizeLimitExceededException:()=>IR,KeyType:()=>zJ,LimitExceededException:()=>DR,ListBackupsCommand:()=>EN,ListContributorInsightsCommand:()=>Th,ListExportsCommand:()=>xh,ListGlobalTablesCommand:()=>SN,ListImportsCommand:()=>Ih,ListTablesCommand:()=>Ph,ListTagsOfResourceCommand:()=>vN,MultiRegionConsistency:()=>h4,PointInTimeRecoveryStatus:()=>s4,PointInTimeRecoveryUnavailableException:()=>dO,PolicyNotFoundException:()=>zR,ProjectionType:()=>VJ,ProvisionedThroughputExceededException:()=>wR,PutItemCommand:()=>bN,PutResourcePolicyCommand:()=>wN,QueryCommand:()=>Ah,ReplicaAlreadyExistsException:()=>yO,ReplicaNotFoundException:()=>EO,ReplicaStatus:()=>u4,ReplicatedWriteConflictException:()=>AR,RequestLimitExceeded:()=>yR,ResourceInUseException:()=>$R,ResourceNotFoundException:()=>TR,RestoreTableFromBackupCommand:()=>CN,RestoreTableToPointInTimeCommand:()=>TN,ReturnConsumedCapacity:()=>QJ,ReturnItemCollectionMetrics:()=>t4,ReturnValue:()=>g4,ReturnValuesOnConditionCheckFailure:()=>ZJ,S3SseAlgorithm:()=>v4,SSEStatus:()=>KJ,SSEType:()=>WJ,ScalarAttributeType:()=>$J,ScanCommand:()=>Rh,Select:()=>x4,StreamViewType:()=>JJ,TableAlreadyExistsException:()=>mO,TableClass:()=>p4,TableInUseException:()=>MR,TableNotFoundException:()=>BR,TableStatus:()=>m4,TagResourceCommand:()=>xN,ThrottlingException:()=>ER,TimeToLiveStatus:()=>YJ,TransactGetItemsCommand:()=>IN,TransactWriteItemsCommand:()=>PN,TransactionCanceledException:()=>TO,TransactionConflictException:()=>qR,TransactionInProgressException:()=>nO,UntagResourceCommand:()=>AN,UpdateContinuousBackupsCommand:()=>RN,UpdateContributorInsightsCommand:()=>ON,UpdateGlobalTableCommand:()=>NN,UpdateGlobalTableSettingsCommand:()=>DN,UpdateItemCommand:()=>kN,UpdateKinesisStreamingDestinationCommand:()=>MN,UpdateTableCommand:()=>LN,UpdateTableReplicaAutoScalingCommand:()=>BN,UpdateTimeToLiveCommand:()=>UN,WitnessStatus:()=>f4,__Client:()=>d.Client,paginateListContributorInsights:()=>iQ,paginateListExports:()=>cQ,paginateListImports:()=>lQ,paginateListTables:()=>pQ,paginateQuery:()=>fQ,paginateScan:()=>gQ,waitForTableExists:()=>yQ,waitForTableNotExists:()=>EQ,waitUntilTableExists:()=>_Q,waitUntilTableNotExists:()=>SQ});HN.exports=OJ(dR);var NJ=(Rl(),j(Al)),DJ=Ul(),nR=Uo(),kJ=Fo(),MJ=jo(),oR=Qn(),LJ=Lt(),yh=(ae(),j(He)),BJ=Cs(),sR=rr(),iR=bm(),A=kr(),O=hr(),UJ=a(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),N={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},P=(Ee(),j(_t)),_h=ee(),cl=(Ca(),j(zu)),d=q(),z=class lR extends d.ServiceException{static{a(this,"DynamoDBServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,lR.prototype)}},FJ={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},jJ={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},$J={B:"B",N:"N",S:"S"},HJ={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},qJ={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},GJ={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},zJ={HASH:"HASH",RANGE:"RANGE"},VJ={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},WJ={AES256:"AES256",KMS:"KMS"},KJ={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},JJ={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},YJ={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},uR=class pR extends z{static{a(this,"BackupInUseException")}name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,pR.prototype)}},mR=class fR extends z{static{a(this,"BackupNotFoundException")}name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,fR.prototype)}},XJ={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},QJ={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},ZJ={ALL_OLD:"ALL_OLD",NONE:"NONE"},e4={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},hR=class gR extends z{static{a(this,"InternalServerError")}name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,gR.prototype)}},yR=class _R extends z{static{a(this,"RequestLimitExceeded")}name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,_R.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},ER=class SR extends z{static{a(this,"ThrottlingException")}name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,SR.prototype),this.throttlingReasons=t.throttlingReasons}},vR=class bR extends z{static{a(this,"InvalidEndpointException")}name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,bR.prototype),this.Message=t.Message}},wR=class CR extends z{static{a(this,"ProvisionedThroughputExceededException")}name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,CR.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},TR=class xR extends z{static{a(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,xR.prototype)}},t4={NONE:"NONE",SIZE:"SIZE"},IR=class PR extends z{static{a(this,"ItemCollectionSizeLimitExceededException")}name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,PR.prototype)}},AR=class RR extends z{static{a(this,"ReplicatedWriteConflictException")}name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,RR.prototype)}},r4={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},n4={AND:"AND",OR:"OR"},o4={DISABLED:"DISABLED",ENABLED:"ENABLED"},s4={DISABLED:"DISABLED",ENABLED:"ENABLED"},OR=class NR extends z{static{a(this,"ContinuousBackupsUnavailableException")}name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,NR.prototype)}},i4={DISABLE:"DISABLE",ENABLE:"ENABLE"},a4={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},c4={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},DR=class kR extends z{static{a(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,kR.prototype)}},MR=class LR extends z{static{a(this,"TableInUseException")}name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,LR.prototype)}},BR=class UR extends z{static{a(this,"TableNotFoundException")}name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,UR.prototype)}},d4={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},l4={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},u4={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},p4={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},m4={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},FR=class jR extends z{static{a(this,"GlobalTableAlreadyExistsException")}name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,jR.prototype)}},f4={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},h4={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},$R=class HR extends z{static{a(this,"ResourceInUseException")}name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,HR.prototype)}},g4={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},qR=class GR extends z{static{a(this,"TransactionConflictException")}name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,GR.prototype)}},zR=class VR extends z{static{a(this,"PolicyNotFoundException")}name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,VR.prototype)}},y4={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},_4={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},E4={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},S4={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},v4={AES256:"AES256",KMS:"KMS"},WR=class KR extends z{static{a(this,"ExportNotFoundException")}name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,KR.prototype)}},JR=class YR extends z{static{a(this,"GlobalTableNotFoundException")}name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,YR.prototype)}},b4={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},w4={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},C4={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},XR=class QR extends z{static{a(this,"ImportNotFoundException")}name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,QR.prototype)}},T4={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},ZR=class eO extends z{static{a(this,"DuplicateItemException")}name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,eO.prototype)}},tO=class rO extends z{static{a(this,"IdempotentParameterMismatchException")}name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,rO.prototype),this.Message=t.Message}},nO=class oO extends z{static{a(this,"TransactionInProgressException")}name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,oO.prototype),this.Message=t.Message}},sO=class iO extends z{static{a(this,"ExportConflictException")}name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,iO.prototype)}},aO=class cO extends z{static{a(this,"InvalidExportTimeException")}name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,cO.prototype)}},dO=class lO extends z{static{a(this,"PointInTimeRecoveryUnavailableException")}name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,lO.prototype)}},uO=class pO extends z{static{a(this,"ImportConflictException")}name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,pO.prototype)}},x4={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},mO=class fO extends z{static{a(this,"TableAlreadyExistsException")}name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,fO.prototype)}},hO=class gO extends z{static{a(this,"InvalidRestoreTimeException")}name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,gO.prototype)}},yO=class _O extends z{static{a(this,"ReplicaAlreadyExistsException")}name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,_O.prototype)}},EO=class SO extends z{static{a(this,"ReplicaNotFoundException")}name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,SO.prototype)}},vO=class bO extends z{static{a(this,"IndexNotFoundException")}name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,bO.prototype)}},il;(e=>{e.visit=a((t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1]),"visit")})(il||(il={}));var wO=class CO extends z{static{a(this,"ConditionalCheckFailedException")}name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,CO.prototype),this.Item=t.Item}},TO=class xO extends z{static{a(this,"TransactionCanceledException")}name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,xO.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},I4=a(async(e,t)=>{let r=R("BatchExecuteStatement"),n;return n=JSON.stringify(_5(e,t)),k(t,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),P4=a(async(e,t)=>{let r=R("BatchGetItem"),n;return n=JSON.stringify(E5(e,t)),k(t,r,"/",void 0,n)},"se_BatchGetItemCommand"),A4=a(async(e,t)=>{let r=R("BatchWriteItem"),n;return n=JSON.stringify(b5(e,t)),k(t,r,"/",void 0,n)},"se_BatchWriteItemCommand"),R4=a(async(e,t)=>{let r=R("CreateBackup"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_CreateBackupCommand"),O4=a(async(e,t)=>{let r=R("CreateGlobalTable"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),N4=a(async(e,t)=>{let r=R("CreateTable"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_CreateTableCommand"),D4=a(async(e,t)=>{let r=R("DeleteBackup"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DeleteBackupCommand"),k4=a(async(e,t)=>{let r=R("DeleteItem"),n;return n=JSON.stringify(I5(e,t)),k(t,r,"/",void 0,n)},"se_DeleteItemCommand"),M4=a(async(e,t)=>{let r=R("DeleteResourcePolicy"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),L4=a(async(e,t)=>{let r=R("DeleteTable"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DeleteTableCommand"),B4=a(async(e,t)=>{let r=R("DescribeBackup"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeBackupCommand"),U4=a(async(e,t)=>{let r=R("DescribeContinuousBackups"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),F4=a(async(e,t)=>{let r=R("DescribeContributorInsights"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),j4=a(async(e,t)=>{let r=R("DescribeEndpoints"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),$4=a(async(e,t)=>{let r=R("DescribeExport"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeExportCommand"),H4=a(async(e,t)=>{let r=R("DescribeGlobalTable"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),q4=a(async(e,t)=>{let r=R("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),G4=a(async(e,t)=>{let r=R("DescribeImport"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeImportCommand"),z4=a(async(e,t)=>{let r=R("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),V4=a(async(e,t)=>{let r=R("DescribeLimits"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeLimitsCommand"),W4=a(async(e,t)=>{let r=R("DescribeTable"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeTableCommand"),K4=a(async(e,t)=>{let r=R("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),J4=a(async(e,t)=>{let r=R("DescribeTimeToLive"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),Y4=a(async(e,t)=>{let r=R("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),X4=a(async(e,t)=>{let r=R("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),Q4=a(async(e,t)=>{let r=R("ExecuteStatement"),n;return n=JSON.stringify(A5(e,t)),k(t,r,"/",void 0,n)},"se_ExecuteStatementCommand"),Z4=a(async(e,t)=>{let r=R("ExecuteTransaction"),n;return n=JSON.stringify(R5(e,t)),k(t,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),e8=a(async(e,t)=>{let r=R("ExportTableToPointInTime"),n;return n=JSON.stringify(N5(e,t)),k(t,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),t8=a(async(e,t)=>{let r=R("GetItem"),n;return n=JSON.stringify(k5(e,t)),k(t,r,"/",void 0,n)},"se_GetItemCommand"),r8=a(async(e,t)=>{let r=R("GetResourcePolicy"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),n8=a(async(e,t)=>{let r=R("ImportTable"),n;return n=JSON.stringify(F5(e,t)),k(t,r,"/",void 0,n)},"se_ImportTableCommand"),o8=a(async(e,t)=>{let r=R("ListBackups"),n;return n=JSON.stringify(z5(e,t)),k(t,r,"/",void 0,n)},"se_ListBackupsCommand"),s8=a(async(e,t)=>{let r=R("ListContributorInsights"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),i8=a(async(e,t)=>{let r=R("ListExports"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_ListExportsCommand"),a8=a(async(e,t)=>{let r=R("ListGlobalTables"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),c8=a(async(e,t)=>{let r=R("ListImports"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_ListImportsCommand"),d8=a(async(e,t)=>{let r=R("ListTables"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_ListTablesCommand"),l8=a(async(e,t)=>{let r=R("ListTagsOfResource"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),u8=a(async(e,t)=>{let r=R("PutItem"),n;return n=JSON.stringify(X5(e,t)),k(t,r,"/",void 0,n)},"se_PutItemCommand"),p8=a(async(e,t)=>{let r=R("PutResourcePolicy"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),m8=a(async(e,t)=>{let r=R("Query"),n;return n=JSON.stringify(Z5(e,t)),k(t,r,"/",void 0,n)},"se_QueryCommand"),f8=a(async(e,t)=>{let r=R("RestoreTableFromBackup"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),h8=a(async(e,t)=>{let r=R("RestoreTableToPointInTime"),n;return n=JSON.stringify(cY(e,t)),k(t,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),g8=a(async(e,t)=>{let r=R("Scan"),n;return n=JSON.stringify(dY(e,t)),k(t,r,"/",void 0,n)},"se_ScanCommand"),y8=a(async(e,t)=>{let r=R("TagResource"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_TagResourceCommand"),_8=a(async(e,t)=>{let r=R("TransactGetItems"),n;return n=JSON.stringify(pY(e,t)),k(t,r,"/",void 0,n)},"se_TransactGetItemsCommand"),E8=a(async(e,t)=>{let r=R("TransactWriteItems"),n;return n=JSON.stringify(hY(e,t)),k(t,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),S8=a(async(e,t)=>{let r=R("UntagResource"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_UntagResourceCommand"),v8=a(async(e,t)=>{let r=R("UpdateContinuousBackups"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),b8=a(async(e,t)=>{let r=R("UpdateContributorInsights"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),w8=a(async(e,t)=>{let r=R("UpdateGlobalTable"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),C8=a(async(e,t)=>{let r=R("UpdateGlobalTableSettings"),n;return n=JSON.stringify(yY(e,t)),k(t,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),T8=a(async(e,t)=>{let r=R("UpdateItem"),n;return n=JSON.stringify(_Y(e,t)),k(t,r,"/",void 0,n)},"se_UpdateItemCommand"),x8=a(async(e,t)=>{let r=R("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),I8=a(async(e,t)=>{let r=R("UpdateTable"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_UpdateTableCommand"),P8=a(async(e,t)=>{let r=R("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(EY(e,t)),k(t,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),A8=a(async(e,t)=>{let r=R("UpdateTimeToLive"),n;return n=JSON.stringify((0,d._json)(e)),k(t,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),R8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=PY(r,t),{$metadata:w(e),...n}},"de_BatchExecuteStatementCommand"),O8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=AY(r,t),{$metadata:w(e),...n}},"de_BatchGetItemCommand"),N8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=kY(r,t),{$metadata:w(e),...n}},"de_BatchWriteItemCommand"),D8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=jY(r,t),{$metadata:w(e),...n}},"de_CreateBackupCommand"),k8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=$Y(r,t),{$metadata:w(e),...n}},"de_CreateGlobalTableCommand"),M8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=HY(r,t),{$metadata:w(e),...n}},"de_CreateTableCommand"),L8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=qY(r,t),{$metadata:w(e),...n}},"de_DeleteBackupCommand"),B8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=GY(r,t),{$metadata:w(e),...n}},"de_DeleteItemCommand"),U8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_DeleteResourcePolicyCommand"),F8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=VY(r,t),{$metadata:w(e),...n}},"de_DeleteTableCommand"),j8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=WY(r,t),{$metadata:w(e),...n}},"de_DescribeBackupCommand"),$8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=KY(r,t),{$metadata:w(e),...n}},"de_DescribeContinuousBackupsCommand"),H8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=JY(r,t),{$metadata:w(e),...n}},"de_DescribeContributorInsightsCommand"),q8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_DescribeEndpointsCommand"),G8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=YY(r,t),{$metadata:w(e),...n}},"de_DescribeExportCommand"),z8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=XY(r,t),{$metadata:w(e),...n}},"de_DescribeGlobalTableCommand"),V8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=QY(r,t),{$metadata:w(e),...n}},"de_DescribeGlobalTableSettingsCommand"),W8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=ZY(r,t),{$metadata:w(e),...n}},"de_DescribeImportCommand"),K8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_DescribeKinesisStreamingDestinationCommand"),J8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_DescribeLimitsCommand"),Y8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=eX(r,t),{$metadata:w(e),...n}},"de_DescribeTableCommand"),X8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=tX(r,t),{$metadata:w(e),...n}},"de_DescribeTableReplicaAutoScalingCommand"),Q8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_DescribeTimeToLiveCommand"),Z8=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_DisableKinesisStreamingDestinationCommand"),e6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_EnableKinesisStreamingDestinationCommand"),t6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=rX(r,t),{$metadata:w(e),...n}},"de_ExecuteStatementCommand"),r6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=nX(r,t),{$metadata:w(e),...n}},"de_ExecuteTransactionCommand"),n6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=oX(r,t),{$metadata:w(e),...n}},"de_ExportTableToPointInTimeCommand"),o6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=sX(r,t),{$metadata:w(e),...n}},"de_GetItemCommand"),s6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_GetResourcePolicyCommand"),i6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=lX(r,t),{$metadata:w(e),...n}},"de_ImportTableCommand"),a6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=EX(r,t),{$metadata:w(e),...n}},"de_ListBackupsCommand"),c6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_ListContributorInsightsCommand"),d6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_ListExportsCommand"),l6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_ListGlobalTablesCommand"),u6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=SX(r,t),{$metadata:w(e),...n}},"de_ListImportsCommand"),p6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_ListTablesCommand"),m6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_ListTagsOfResourceCommand"),f6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=TX(r,t),{$metadata:w(e),...n}},"de_PutItemCommand"),h6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_PutResourcePolicyCommand"),g6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=IX(r,t),{$metadata:w(e),...n}},"de_QueryCommand"),y6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=BX(r,t),{$metadata:w(e),...n}},"de_RestoreTableFromBackupCommand"),_6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=UX(r,t),{$metadata:w(e),...n}},"de_RestoreTableToPointInTimeCommand"),E6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=FX(r,t),{$metadata:w(e),...n}},"de_ScanCommand"),S6=a(async(e,t)=>e.statusCode>=300?D(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:w(e)}),"de_TagResourceCommand"),v6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=HX(r,t),{$metadata:w(e),...n}},"de_TransactGetItemsCommand"),b6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=GX(r,t),{$metadata:w(e),...n}},"de_TransactWriteItemsCommand"),w6=a(async(e,t)=>e.statusCode>=300?D(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:w(e)}),"de_UntagResourceCommand"),C6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=zX(r,t),{$metadata:w(e),...n}},"de_UpdateContinuousBackupsCommand"),T6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_UpdateContributorInsightsCommand"),x6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=VX(r,t),{$metadata:w(e),...n}},"de_UpdateGlobalTableCommand"),I6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=WX(r,t),{$metadata:w(e),...n}},"de_UpdateGlobalTableSettingsCommand"),P6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=KX(r,t),{$metadata:w(e),...n}},"de_UpdateItemCommand"),A6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_UpdateKinesisStreamingDestinationCommand"),R6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=JX(r,t),{$metadata:w(e),...n}},"de_UpdateTableCommand"),O6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=YX(r,t),{$metadata:w(e),...n}},"de_UpdateTableReplicaAutoScalingCommand"),N6=a(async(e,t)=>{if(e.statusCode>=300)return D(e,t);let r=await(0,P.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:w(e),...n}},"de_UpdateTimeToLiveCommand"),D=a(async(e,t)=>{let r={...e,body:await(0,P.parseJsonErrorBody)(e.body,t)},n=(0,P.loadRestJsonErrorCode)(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await V6(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await o5(r,t);case"ThrottlingException":case"com.amazonaws.dynamodb#ThrottlingException":throw await l5(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await W6(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await e5(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await i5(r,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await Y6(r,t);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await n5(r,t);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await D6(r,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await L6(r,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await X6(r,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await c5(r,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await d5(r,t);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await j6(r,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await s5(r,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await k6(r,t);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await M6(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await p5(r,t);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await Z6(r,t);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await F6(r,t);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await $6(r,t);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await G6(r,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await B6(r,t);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await H6(r,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await u5(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await m5(r,t);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await U6(r,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await K6(r,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await Q6(r,t);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await q6(r,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await a5(r,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await J6(r,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await t5(r,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await r5(r,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await z6(r,t);default:let o=r.body;return ZX({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),D6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_BackupInUseExceptionRes"),k6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new mR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_BackupNotFoundExceptionRes"),M6=a(async(e,t)=>{let r=e.body,n=FY(r,t),o=new wO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ConditionalCheckFailedExceptionRes"),L6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new OR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ContinuousBackupsUnavailableExceptionRes"),B6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ZR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_DuplicateItemExceptionRes"),U6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new sO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ExportConflictExceptionRes"),F6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new WR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ExportNotFoundExceptionRes"),j6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new FR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_GlobalTableAlreadyExistsExceptionRes"),$6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new JR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_GlobalTableNotFoundExceptionRes"),H6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new tO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IdempotentParameterMismatchExceptionRes"),q6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImportConflictExceptionRes"),G6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new XR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ImportNotFoundExceptionRes"),z6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new vO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IndexNotFoundExceptionRes"),V6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new hR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InternalServerErrorRes"),W6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new vR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidEndpointExceptionRes"),K6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new aO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidExportTimeExceptionRes"),J6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new hO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidRestoreTimeExceptionRes"),Y6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new IR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),X6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new DR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),Q6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new dO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),Z6=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new zR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_PolicyNotFoundExceptionRes"),e5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new wR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),t5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new yO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ReplicaAlreadyExistsExceptionRes"),r5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new EO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ReplicaNotFoundExceptionRes"),n5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new AR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ReplicatedWriteConflictExceptionRes"),o5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new yR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_RequestLimitExceededRes"),s5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new $R({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),i5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new TR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),a5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new mO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TableAlreadyExistsExceptionRes"),c5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new MR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TableInUseExceptionRes"),d5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new BR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TableNotFoundExceptionRes"),l5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ER({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ThrottlingExceptionRes"),u5=a(async(e,t)=>{let r=e.body,n=qX(r,t),o=new TO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TransactionCanceledExceptionRes"),p5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new qR({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TransactionConflictExceptionRes"),m5=a(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new nO({$metadata:w(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TransactionInProgressExceptionRes"),f5=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=h5(o,t)),r),{}),"se_AttributeUpdates"),lr=a((e,t)=>il.visit(e,{B:a(r=>({B:t.base64Encoder(r)}),"B"),BOOL:a(r=>({BOOL:r}),"BOOL"),BS:a(r=>({BS:C5(r,t)}),"BS"),L:a(r=>({L:G5(r,t)}),"L"),M:a(r=>({M:V5(r,t)}),"M"),N:a(r=>({N:r}),"N"),NS:a(r=>({NS:(0,d._json)(r)}),"NS"),NULL:a(r=>({NULL:r}),"NULL"),S:a(r=>({S:r}),"S"),SS:a(r=>({SS:(0,d._json)(r)}),"SS"),_:a((r,n)=>({[r]:n}),"_")}),"se_AttributeValue"),IO=a((e,t)=>e.filter(r=>r!=null).map(r=>lr(r,t)),"se_AttributeValueList"),h5=a((e,t)=>(0,d.take)(e,{Action:[],Value:a(r=>lr(r,t),"Value")}),"se_AttributeValueUpdate"),g5=a((e,t)=>(0,d.take)(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:a(r=>y5(r,t),"TargetTrackingScalingPolicyConfiguration")}),"se_AutoScalingPolicyUpdate"),Yr=a((e,t)=>(0,d.take)(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:a(r=>g5(r,t),"ScalingPolicyUpdate")}),"se_AutoScalingSettingsUpdate"),y5=a((e,t)=>(0,d.take)(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:d.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),_5=a((e,t)=>(0,d.take)(e,{ReturnConsumedCapacity:[],Statements:a(r=>J5(r,t),"Statements")}),"se_BatchExecuteStatementInput"),E5=a((e,t)=>(0,d.take)(e,{RequestItems:a(r=>S5(r,t),"RequestItems"),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),S5=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=q5(o,t)),r),{}),"se_BatchGetRequestMap"),v5=a((e,t)=>(0,d.take)(e,{ConsistentRead:[],Parameters:a(r=>Sh(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),b5=a((e,t)=>(0,d.take)(e,{RequestItems:a(r=>w5(r,t),"RequestItems"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),w5=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=vY(o,t)),r),{}),"se_BatchWriteItemRequestMap"),C5=a((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinarySetAttributeValue"),PO=a((e,t)=>(0,d.take)(e,{AttributeValueList:a(r=>IO(r,t),"AttributeValueList"),ComparisonOperator:[]}),"se_Condition"),T5=a((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:a(r=>ur(r,t),"ExpressionAttributeValues"),Key:a(r=>Ct(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),x5=a((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:a(r=>ur(r,t),"ExpressionAttributeValues"),Key:a(r=>Ct(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),I5=a((e,t)=>(0,d.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:a(r=>Eh(r,t),"Expected"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:a(r=>ur(r,t),"ExpressionAttributeValues"),Key:a(r=>Ct(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),P5=a((e,t)=>(0,d.take)(e,{Key:a(r=>Ct(r,t),"Key")}),"se_DeleteRequest"),A5=a((e,t)=>(0,d.take)(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:a(r=>Sh(r,t),"Parameters"),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),R5=a((e,t)=>(0,d.take)(e,{ClientRequestToken:[!0,r=>r??(0,cl.v4)()],ReturnConsumedCapacity:[],TransactStatements:a(r=>K5(r,t),"TransactStatements")}),"se_ExecuteTransactionInput"),Eh=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=O5(o,t)),r),{}),"se_ExpectedAttributeMap"),O5=a((e,t)=>(0,d.take)(e,{AttributeValueList:a(r=>IO(r,t),"AttributeValueList"),ComparisonOperator:[],Exists:[],Value:a(r=>lr(r,t),"Value")}),"se_ExpectedAttributeValue"),N5=a((e,t)=>(0,d.take)(e,{ClientToken:[!0,r=>r??(0,cl.v4)()],ExportFormat:[],ExportTime:a(r=>r.getTime()/1e3,"ExportTime"),ExportType:[],IncrementalExportSpecification:a(r=>j5(r,t),"IncrementalExportSpecification"),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),ur=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=lr(o,t)),r),{}),"se_ExpressionAttributeValueMap"),AO=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=PO(o,t)),r),{}),"se_FilterConditionMap"),D5=a((e,t)=>(0,d.take)(e,{ExpressionAttributeNames:d._json,Key:a(r=>Ct(r,t),"Key"),ProjectionExpression:[],TableName:[]}),"se_Get"),k5=a((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConsistentRead:[],ExpressionAttributeNames:d._json,Key:a(r=>Ct(r,t),"Key"),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),M5=a((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:a(r=>Yr(r,t),"ProvisionedWriteCapacityAutoScalingUpdate")}),"se_GlobalSecondaryIndexAutoScalingUpdate"),L5=a((e,t)=>e.filter(r=>r!=null).map(r=>M5(r,t)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),B5=a((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:a(r=>Yr(r,t),"ProvisionedWriteCapacityAutoScalingSettingsUpdate"),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),U5=a((e,t)=>e.filter(r=>r!=null).map(r=>B5(r,t)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),F5=a((e,t)=>(0,d.take)(e,{ClientToken:[!0,r=>r??(0,cl.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:d._json,S3BucketSource:d._json,TableCreationParameters:d._json}),"se_ImportTableInput"),j5=a((e,t)=>(0,d.take)(e,{ExportFromTime:a(r=>r.getTime()/1e3,"ExportFromTime"),ExportToTime:a(r=>r.getTime()/1e3,"ExportToTime"),ExportViewType:[]}),"se_IncrementalExportSpecification"),Ct=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=lr(o,t)),r),{}),"se_Key"),$5=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=PO(o,t)),r),{}),"se_KeyConditions"),H5=a((e,t)=>e.filter(r=>r!=null).map(r=>Ct(r,t)),"se_KeyList"),q5=a((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConsistentRead:[],ExpressionAttributeNames:d._json,Keys:a(r=>H5(r,t),"Keys"),ProjectionExpression:[]}),"se_KeysAndAttributes"),G5=a((e,t)=>e.filter(r=>r!=null).map(r=>lr(r,t)),"se_ListAttributeValue"),z5=a((e,t)=>(0,d.take)(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:a(r=>r.getTime()/1e3,"TimeRangeLowerBound"),TimeRangeUpperBound:a(r=>r.getTime()/1e3,"TimeRangeUpperBound")}),"se_ListBackupsInput"),V5=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=lr(o,t)),r),{}),"se_MapAttributeValue"),W5=a((e,t)=>(0,d.take)(e,{Parameters:a(r=>Sh(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),K5=a((e,t)=>e.filter(r=>r!=null).map(r=>W5(r,t)),"se_ParameterizedStatements"),J5=a((e,t)=>e.filter(r=>r!=null).map(r=>v5(r,t)),"se_PartiQLBatchRequest"),Sh=a((e,t)=>e.filter(r=>r!=null).map(r=>lr(r,t)),"se_PreparedStatementParameters"),Y5=a((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:a(r=>ur(r,t),"ExpressionAttributeValues"),Item:a(r=>vh(r,t),"Item"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),X5=a((e,t)=>(0,d.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:a(r=>Eh(r,t),"Expected"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:a(r=>ur(r,t),"ExpressionAttributeValues"),Item:a(r=>vh(r,t),"Item"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),vh=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=lr(o,t)),r),{}),"se_PutItemInputAttributeMap"),Q5=a((e,t)=>(0,d.take)(e,{Item:a(r=>vh(r,t),"Item")}),"se_PutRequest"),Z5=a((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:a(r=>Ct(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:a(r=>ur(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:a(r=>$5(r,t),"KeyConditions"),Limit:[],ProjectionExpression:[],QueryFilter:a(r=>AO(r,t),"QueryFilter"),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),eY=a((e,t)=>(0,d.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:a(r=>nY(r,t),"ReplicaGlobalSecondaryIndexUpdates"),ReplicaProvisionedReadCapacityAutoScalingUpdate:a(r=>Yr(r,t),"ReplicaProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaAutoScalingUpdate"),tY=a((e,t)=>e.filter(r=>r!=null).map(r=>eY(r,t)),"se_ReplicaAutoScalingUpdateList"),rY=a((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:a(r=>Yr(r,t),"ProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),nY=a((e,t)=>e.filter(r=>r!=null).map(r=>rY(r,t)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),oY=a((e,t)=>(0,d.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:a(r=>Yr(r,t),"ProvisionedReadCapacityAutoScalingSettingsUpdate"),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),sY=a((e,t)=>e.filter(r=>r!=null).map(r=>oY(r,t)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),iY=a((e,t)=>(0,d.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:a(r=>sY(r,t),"ReplicaGlobalSecondaryIndexSettingsUpdate"),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:a(r=>Yr(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate"),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),aY=a((e,t)=>e.filter(r=>r!=null).map(r=>iY(r,t)),"se_ReplicaSettingsUpdateList"),cY=a((e,t)=>(0,d.take)(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:d._json,LocalSecondaryIndexOverride:d._json,OnDemandThroughputOverride:d._json,ProvisionedThroughputOverride:d._json,RestoreDateTime:a(r=>r.getTime()/1e3,"RestoreDateTime"),SSESpecificationOverride:d._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),dY=a((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:a(r=>Ct(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:a(r=>ur(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:a(r=>AO(r,t),"ScanFilter"),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),lY=a((e,t)=>(0,d.take)(e,{Get:a(r=>D5(r,t),"Get")}),"se_TransactGetItem"),uY=a((e,t)=>e.filter(r=>r!=null).map(r=>lY(r,t)),"se_TransactGetItemList"),pY=a((e,t)=>(0,d.take)(e,{ReturnConsumedCapacity:[],TransactItems:a(r=>uY(r,t),"TransactItems")}),"se_TransactGetItemsInput"),mY=a((e,t)=>(0,d.take)(e,{ConditionCheck:a(r=>T5(r,t),"ConditionCheck"),Delete:a(r=>x5(r,t),"Delete"),Put:a(r=>Y5(r,t),"Put"),Update:a(r=>gY(r,t),"Update")}),"se_TransactWriteItem"),fY=a((e,t)=>e.filter(r=>r!=null).map(r=>mY(r,t)),"se_TransactWriteItemList"),hY=a((e,t)=>(0,d.take)(e,{ClientRequestToken:[!0,r=>r??(0,cl.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:a(r=>fY(r,t),"TransactItems")}),"se_TransactWriteItemsInput"),gY=a((e,t)=>(0,d.take)(e,{ConditionExpression:[],ExpressionAttributeNames:d._json,ExpressionAttributeValues:a(r=>ur(r,t),"ExpressionAttributeValues"),Key:a(r=>Ct(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),yY=a((e,t)=>(0,d.take)(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:a(r=>U5(r,t),"GlobalTableGlobalSecondaryIndexSettingsUpdate"),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:a(r=>Yr(r,t),"GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate"),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:a(r=>aY(r,t),"ReplicaSettingsUpdate")}),"se_UpdateGlobalTableSettingsInput"),_Y=a((e,t)=>(0,d.take)(e,{AttributeUpdates:a(r=>f5(r,t),"AttributeUpdates"),ConditionExpression:[],ConditionalOperator:[],Expected:a(r=>Eh(r,t),"Expected"),ExpressionAttributeNames:d._json,ExpressionAttributeValues:a(r=>ur(r,t),"ExpressionAttributeValues"),Key:a(r=>Ct(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),EY=a((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexUpdates:a(r=>L5(r,t),"GlobalSecondaryIndexUpdates"),ProvisionedWriteCapacityAutoScalingUpdate:a(r=>Yr(r,t),"ProvisionedWriteCapacityAutoScalingUpdate"),ReplicaUpdates:a(r=>tY(r,t),"ReplicaUpdates"),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),SY=a((e,t)=>(0,d.take)(e,{DeleteRequest:a(r=>P5(r,t),"DeleteRequest"),PutRequest:a(r=>Q5(r,t),"PutRequest")}),"se_WriteRequest"),vY=a((e,t)=>e.filter(r=>r!=null).map(r=>SY(r,t)),"se_WriteRequests"),bY=a((e,t)=>(0,d.take)(e,{ArchivalBackupArn:d.expectString,ArchivalDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ArchivalDateTime"),ArchivalReason:d.expectString}),"de_ArchivalSummary"),Gt=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=xo((0,P.awsExpectUnion)(o),t)),r),{}),"de_AttributeMap"),xo=a((e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:(0,d.expectBoolean)(e.BOOL)!==void 0?{BOOL:(0,d.expectBoolean)(e.BOOL)}:e.BS!=null?{BS:LY(e.BS,t)}:e.L!=null?{L:_X(e.L,t)}:e.M!=null?{M:vX(e.M,t)}:(0,d.expectString)(e.N)!==void 0?{N:(0,d.expectString)(e.N)}:e.NS!=null?{NS:(0,d._json)(e.NS)}:(0,d.expectBoolean)(e.NULL)!==void 0?{NULL:(0,d.expectBoolean)(e.NULL)}:(0,d.expectString)(e.S)!==void 0?{S:(0,d.expectString)(e.S)}:e.SS!=null?{SS:(0,d._json)(e.SS)}:{$unknown:Object.entries(e)[0]},"de_AttributeValue"),wY=a((e,t)=>(0,d.take)(e,{PolicyName:d.expectString,TargetTrackingScalingPolicyConfiguration:a(r=>TY(r,t),"TargetTrackingScalingPolicyConfiguration")}),"de_AutoScalingPolicyDescription"),CY=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>wY(n,t)),"de_AutoScalingPolicyDescriptionList"),Jr=a((e,t)=>(0,d.take)(e,{AutoScalingDisabled:d.expectBoolean,AutoScalingRoleArn:d.expectString,MaximumUnits:d.expectLong,MinimumUnits:d.expectLong,ScalingPolicies:a(r=>CY(r,t),"ScalingPolicies")}),"de_AutoScalingSettingsDescription"),TY=a((e,t)=>(0,d.take)(e,{DisableScaleIn:d.expectBoolean,ScaleInCooldown:d.expectInt32,ScaleOutCooldown:d.expectInt32,TargetValue:d.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),RO=a((e,t)=>(0,d.take)(e,{BackupDetails:a(r=>OO(r,t),"BackupDetails"),SourceTableDetails:a(r=>jX(r,t),"SourceTableDetails"),SourceTableFeatureDetails:a(r=>$X(r,t),"SourceTableFeatureDetails")}),"de_BackupDescription"),OO=a((e,t)=>(0,d.take)(e,{BackupArn:d.expectString,BackupCreationDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:d.expectString,BackupSizeBytes:d.expectLong,BackupStatus:d.expectString,BackupType:d.expectString}),"de_BackupDetails"),xY=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>IY(n,t)),"de_BackupSummaries"),IY=a((e,t)=>(0,d.take)(e,{BackupArn:d.expectString,BackupCreationDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:d.expectString,BackupSizeBytes:d.expectLong,BackupStatus:d.expectString,BackupType:d.expectString,TableArn:d.expectString,TableId:d.expectString,TableName:d.expectString}),"de_BackupSummary"),PY=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Io(r,t),"ConsumedCapacity"),Responses:a(r=>bX(r,t),"Responses")}),"de_BatchExecuteStatementOutput"),AY=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Io(r,t),"ConsumedCapacity"),Responses:a(r=>OY(r,t),"Responses"),UnprocessedKeys:a(r=>RY(r,t),"UnprocessedKeys")}),"de_BatchGetItemOutput"),RY=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=yX(o,t)),r),{}),"de_BatchGetRequestMap"),OY=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ll(o,t)),r),{}),"de_BatchGetResponseMap"),NY=a((e,t)=>(0,d.take)(e,{Code:d.expectString,Item:a(r=>Gt(r,t),"Item"),Message:d.expectString}),"de_BatchStatementError"),DY=a((e,t)=>(0,d.take)(e,{Error:a(r=>NY(r,t),"Error"),Item:a(r=>Gt(r,t),"Item"),TableName:d.expectString}),"de_BatchStatementResponse"),kY=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Io(r,t),"ConsumedCapacity"),ItemCollectionMetrics:a(r=>BO(r,t),"ItemCollectionMetrics"),UnprocessedItems:a(r=>MY(r,t),"UnprocessedItems")}),"de_BatchWriteItemOutput"),MY=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=QX(o,t)),r),{}),"de_BatchWriteItemRequestMap"),NO=a((e,t)=>(0,d.take)(e,{BillingMode:d.expectString,LastUpdateToPayPerRequestDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastUpdateToPayPerRequestDateTime")}),"de_BillingModeSummary"),LY=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinarySetAttributeValue"),BY=a((e,t)=>(0,d.take)(e,{Code:d.expectString,Item:a(r=>Gt(r,t),"Item"),Message:d.expectString}),"de_CancellationReason"),UY=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>BY(n,t)),"de_CancellationReasonList"),DO=a((e,t)=>(0,d.take)(e,{CapacityUnits:d.limitedParseDouble,ReadCapacityUnits:d.limitedParseDouble,WriteCapacityUnits:d.limitedParseDouble}),"de_Capacity"),FY=a((e,t)=>(0,d.take)(e,{Item:a(r=>Gt(r,t),"Item"),message:d.expectString}),"de_ConditionalCheckFailedException"),Xr=a((e,t)=>(0,d.take)(e,{CapacityUnits:d.limitedParseDouble,GlobalSecondaryIndexes:a(r=>aR(r,t),"GlobalSecondaryIndexes"),LocalSecondaryIndexes:a(r=>aR(r,t),"LocalSecondaryIndexes"),ReadCapacityUnits:d.limitedParseDouble,Table:a(r=>DO(r,t),"Table"),TableName:d.expectString,WriteCapacityUnits:d.limitedParseDouble}),"de_ConsumedCapacity"),Io=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Xr(n,t)),"de_ConsumedCapacityMultiple"),kO=a((e,t)=>(0,d.take)(e,{ContinuousBackupsStatus:d.expectString,PointInTimeRecoveryDescription:a(r=>wX(r,t),"PointInTimeRecoveryDescription")}),"de_ContinuousBackupsDescription"),jY=a((e,t)=>(0,d.take)(e,{BackupDetails:a(r=>OO(r,t),"BackupDetails")}),"de_CreateBackupOutput"),$Y=a((e,t)=>(0,d.take)(e,{GlobalTableDescription:a(r=>bh(r,t),"GlobalTableDescription")}),"de_CreateGlobalTableOutput"),HY=a((e,t)=>(0,d.take)(e,{TableDescription:a(r=>Po(r,t),"TableDescription")}),"de_CreateTableOutput"),qY=a((e,t)=>(0,d.take)(e,{BackupDescription:a(r=>RO(r,t),"BackupDescription")}),"de_DeleteBackupOutput"),GY=a((e,t)=>(0,d.take)(e,{Attributes:a(r=>Gt(r,t),"Attributes"),ConsumedCapacity:a(r=>Xr(r,t),"ConsumedCapacity"),ItemCollectionMetrics:a(r=>dl(r,t),"ItemCollectionMetrics")}),"de_DeleteItemOutput"),zY=a((e,t)=>(0,d.take)(e,{Key:a(r=>yi(r,t),"Key")}),"de_DeleteRequest"),VY=a((e,t)=>(0,d.take)(e,{TableDescription:a(r=>Po(r,t),"TableDescription")}),"de_DeleteTableOutput"),WY=a((e,t)=>(0,d.take)(e,{BackupDescription:a(r=>RO(r,t),"BackupDescription")}),"de_DescribeBackupOutput"),KY=a((e,t)=>(0,d.take)(e,{ContinuousBackupsDescription:a(r=>kO(r,t),"ContinuousBackupsDescription")}),"de_DescribeContinuousBackupsOutput"),JY=a((e,t)=>(0,d.take)(e,{ContributorInsightsMode:d.expectString,ContributorInsightsRuleList:d._json,ContributorInsightsStatus:d.expectString,FailureException:d._json,IndexName:d.expectString,LastUpdateDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastUpdateDateTime"),TableName:d.expectString}),"de_DescribeContributorInsightsOutput"),YY=a((e,t)=>(0,d.take)(e,{ExportDescription:a(r=>MO(r,t),"ExportDescription")}),"de_DescribeExportOutput"),XY=a((e,t)=>(0,d.take)(e,{GlobalTableDescription:a(r=>bh(r,t),"GlobalTableDescription")}),"de_DescribeGlobalTableOutput"),QY=a((e,t)=>(0,d.take)(e,{GlobalTableName:d.expectString,ReplicaSettings:a(r=>$O(r,t),"ReplicaSettings")}),"de_DescribeGlobalTableSettingsOutput"),ZY=a((e,t)=>(0,d.take)(e,{ImportTableDescription:a(r=>LO(r,t),"ImportTableDescription")}),"de_DescribeImportOutput"),eX=a((e,t)=>(0,d.take)(e,{Table:a(r=>Po(r,t),"Table")}),"de_DescribeTableOutput"),tX=a((e,t)=>(0,d.take)(e,{TableAutoScalingDescription:a(r=>qO(r,t),"TableAutoScalingDescription")}),"de_DescribeTableReplicaAutoScalingOutput"),rX=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Xr(r,t),"ConsumedCapacity"),Items:a(r=>ll(r,t),"Items"),LastEvaluatedKey:a(r=>yi(r,t),"LastEvaluatedKey"),NextToken:d.expectString}),"de_ExecuteStatementOutput"),nX=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Io(r,t),"ConsumedCapacity"),Responses:a(r=>UO(r,t),"Responses")}),"de_ExecuteTransactionOutput"),MO=a((e,t)=>(0,d.take)(e,{BilledSizeBytes:d.expectLong,ClientToken:d.expectString,EndTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"EndTime"),ExportArn:d.expectString,ExportFormat:d.expectString,ExportManifest:d.expectString,ExportStatus:d.expectString,ExportTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ExportTime"),ExportType:d.expectString,FailureCode:d.expectString,FailureMessage:d.expectString,IncrementalExportSpecification:a(r=>uX(r,t),"IncrementalExportSpecification"),ItemCount:d.expectLong,S3Bucket:d.expectString,S3BucketOwner:d.expectString,S3Prefix:d.expectString,S3SseAlgorithm:d.expectString,S3SseKmsKeyId:d.expectString,StartTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"StartTime"),TableArn:d.expectString,TableId:d.expectString}),"de_ExportDescription"),oX=a((e,t)=>(0,d.take)(e,{ExportDescription:a(r=>MO(r,t),"ExportDescription")}),"de_ExportTableToPointInTimeOutput"),sX=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Xr(r,t),"ConsumedCapacity"),Item:a(r=>Gt(r,t),"Item")}),"de_GetItemOutput"),iX=a((e,t)=>(0,d.take)(e,{Backfilling:d.expectBoolean,IndexArn:d.expectString,IndexName:d.expectString,IndexSizeBytes:d.expectLong,IndexStatus:d.expectString,ItemCount:d.expectLong,KeySchema:d._json,OnDemandThroughput:d._json,Projection:d._json,ProvisionedThroughput:a(r=>FO(r,t),"ProvisionedThroughput"),WarmThroughput:d._json}),"de_GlobalSecondaryIndexDescription"),aX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>iX(n,t)),"de_GlobalSecondaryIndexDescriptionList"),bh=a((e,t)=>(0,d.take)(e,{CreationDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"CreationDateTime"),GlobalTableArn:d.expectString,GlobalTableName:d.expectString,GlobalTableStatus:d.expectString,ReplicationGroup:a(r=>jO(r,t),"ReplicationGroup")}),"de_GlobalTableDescription"),cX=a((e,t)=>(0,d.take)(e,{CloudWatchLogGroupArn:d.expectString,EndTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"EndTime"),ImportArn:d.expectString,ImportStatus:d.expectString,InputFormat:d.expectString,S3BucketSource:d._json,StartTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"StartTime"),TableArn:d.expectString}),"de_ImportSummary"),dX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>cX(n,t)),"de_ImportSummaryList"),LO=a((e,t)=>(0,d.take)(e,{ClientToken:d.expectString,CloudWatchLogGroupArn:d.expectString,EndTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"EndTime"),ErrorCount:d.expectLong,FailureCode:d.expectString,FailureMessage:d.expectString,ImportArn:d.expectString,ImportStatus:d.expectString,ImportedItemCount:d.expectLong,InputCompressionType:d.expectString,InputFormat:d.expectString,InputFormatOptions:d._json,ProcessedItemCount:d.expectLong,ProcessedSizeBytes:d.expectLong,S3BucketSource:d._json,StartTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"StartTime"),TableArn:d.expectString,TableCreationParameters:d._json,TableId:d.expectString}),"de_ImportTableDescription"),lX=a((e,t)=>(0,d.take)(e,{ImportTableDescription:a(r=>LO(r,t),"ImportTableDescription")}),"de_ImportTableOutput"),uX=a((e,t)=>(0,d.take)(e,{ExportFromTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ExportFromTime"),ExportToTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ExportToTime"),ExportViewType:d.expectString}),"de_IncrementalExportSpecification"),pX=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=xo((0,P.awsExpectUnion)(o),t)),r),{}),"de_ItemCollectionKeyAttributeMap"),dl=a((e,t)=>(0,d.take)(e,{ItemCollectionKey:a(r=>pX(r,t),"ItemCollectionKey"),SizeEstimateRangeGB:a(r=>fX(r,t),"SizeEstimateRangeGB")}),"de_ItemCollectionMetrics"),mX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>dl(n,t)),"de_ItemCollectionMetricsMultiple"),BO=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=mX(o,t)),r),{}),"de_ItemCollectionMetricsPerTable"),fX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>(0,d.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),ll=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Gt(n,t)),"de_ItemList"),hX=a((e,t)=>(0,d.take)(e,{Item:a(r=>Gt(r,t),"Item")}),"de_ItemResponse"),UO=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>hX(n,t)),"de_ItemResponseList"),yi=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=xo((0,P.awsExpectUnion)(o),t)),r),{}),"de_Key"),gX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>yi(n,t)),"de_KeyList"),yX=a((e,t)=>(0,d.take)(e,{AttributesToGet:d._json,ConsistentRead:d.expectBoolean,ExpressionAttributeNames:d._json,Keys:a(r=>gX(r,t),"Keys"),ProjectionExpression:d.expectString}),"de_KeysAndAttributes"),_X=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>xo((0,P.awsExpectUnion)(n),t)),"de_ListAttributeValue"),EX=a((e,t)=>(0,d.take)(e,{BackupSummaries:a(r=>xY(r,t),"BackupSummaries"),LastEvaluatedBackupArn:d.expectString}),"de_ListBackupsOutput"),SX=a((e,t)=>(0,d.take)(e,{ImportSummaryList:a(r=>dX(r,t),"ImportSummaryList"),NextToken:d.expectString}),"de_ListImportsOutput"),vX=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=xo((0,P.awsExpectUnion)(o),t)),r),{}),"de_MapAttributeValue"),bX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>DY(n,t)),"de_PartiQLBatchResponse"),wX=a((e,t)=>(0,d.take)(e,{EarliestRestorableDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"EarliestRestorableDateTime"),LatestRestorableDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LatestRestorableDateTime"),PointInTimeRecoveryStatus:d.expectString,RecoveryPeriodInDays:d.expectInt32}),"de_PointInTimeRecoveryDescription"),FO=a((e,t)=>(0,d.take)(e,{LastDecreaseDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastDecreaseDateTime"),LastIncreaseDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastIncreaseDateTime"),NumberOfDecreasesToday:d.expectLong,ReadCapacityUnits:d.expectLong,WriteCapacityUnits:d.expectLong}),"de_ProvisionedThroughputDescription"),CX=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=xo((0,P.awsExpectUnion)(o),t)),r),{}),"de_PutItemInputAttributeMap"),TX=a((e,t)=>(0,d.take)(e,{Attributes:a(r=>Gt(r,t),"Attributes"),ConsumedCapacity:a(r=>Xr(r,t),"ConsumedCapacity"),ItemCollectionMetrics:a(r=>dl(r,t),"ItemCollectionMetrics")}),"de_PutItemOutput"),xX=a((e,t)=>(0,d.take)(e,{Item:a(r=>CX(r,t),"Item")}),"de_PutRequest"),IX=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Xr(r,t),"ConsumedCapacity"),Count:d.expectInt32,Items:a(r=>ll(r,t),"Items"),LastEvaluatedKey:a(r=>yi(r,t),"LastEvaluatedKey"),ScannedCount:d.expectInt32}),"de_QueryOutput"),PX=a((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexes:a(r=>NX(r,t),"GlobalSecondaryIndexes"),RegionName:d.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:a(r=>Jr(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityAutoScalingSettings:a(r=>Jr(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaStatus:d.expectString}),"de_ReplicaAutoScalingDescription"),AX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>PX(n,t)),"de_ReplicaAutoScalingDescriptionList"),RX=a((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexes:d._json,KMSMasterKeyId:d.expectString,OnDemandThroughputOverride:d._json,ProvisionedThroughputOverride:d._json,RegionName:d.expectString,ReplicaInaccessibleDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"ReplicaInaccessibleDateTime"),ReplicaStatus:d.expectString,ReplicaStatusDescription:d.expectString,ReplicaStatusPercentProgress:d.expectString,ReplicaTableClassSummary:a(r=>wh(r,t),"ReplicaTableClassSummary"),WarmThroughput:d._json}),"de_ReplicaDescription"),jO=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>RX(n,t)),"de_ReplicaDescriptionList"),OX=a((e,t)=>(0,d.take)(e,{IndexName:d.expectString,IndexStatus:d.expectString,ProvisionedReadCapacityAutoScalingSettings:a(r=>Jr(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedWriteCapacityAutoScalingSettings:a(r=>Jr(r,t),"ProvisionedWriteCapacityAutoScalingSettings")}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),NX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>OX(n,t)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),DX=a((e,t)=>(0,d.take)(e,{IndexName:d.expectString,IndexStatus:d.expectString,ProvisionedReadCapacityAutoScalingSettings:a(r=>Jr(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedReadCapacityUnits:d.expectLong,ProvisionedWriteCapacityAutoScalingSettings:a(r=>Jr(r,t),"ProvisionedWriteCapacityAutoScalingSettings"),ProvisionedWriteCapacityUnits:d.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),kX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>DX(n,t)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),MX=a((e,t)=>(0,d.take)(e,{RegionName:d.expectString,ReplicaBillingModeSummary:a(r=>NO(r,t),"ReplicaBillingModeSummary"),ReplicaGlobalSecondaryIndexSettings:a(r=>kX(r,t),"ReplicaGlobalSecondaryIndexSettings"),ReplicaProvisionedReadCapacityAutoScalingSettings:a(r=>Jr(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedReadCapacityUnits:d.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:a(r=>Jr(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityUnits:d.expectLong,ReplicaStatus:d.expectString,ReplicaTableClassSummary:a(r=>wh(r,t),"ReplicaTableClassSummary")}),"de_ReplicaSettingsDescription"),$O=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>MX(n,t)),"de_ReplicaSettingsDescriptionList"),LX=a((e,t)=>(0,d.take)(e,{RestoreDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"RestoreDateTime"),RestoreInProgress:d.expectBoolean,SourceBackupArn:d.expectString,SourceTableArn:d.expectString}),"de_RestoreSummary"),BX=a((e,t)=>(0,d.take)(e,{TableDescription:a(r=>Po(r,t),"TableDescription")}),"de_RestoreTableFromBackupOutput"),UX=a((e,t)=>(0,d.take)(e,{TableDescription:a(r=>Po(r,t),"TableDescription")}),"de_RestoreTableToPointInTimeOutput"),FX=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Xr(r,t),"ConsumedCapacity"),Count:d.expectInt32,Items:a(r=>ll(r,t),"Items"),LastEvaluatedKey:a(r=>yi(r,t),"LastEvaluatedKey"),ScannedCount:d.expectInt32}),"de_ScanOutput"),aR=a((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=DO(o,t)),r),{}),"de_SecondaryIndexesCapacityMap"),jX=a((e,t)=>(0,d.take)(e,{BillingMode:d.expectString,ItemCount:d.expectLong,KeySchema:d._json,OnDemandThroughput:d._json,ProvisionedThroughput:d._json,TableArn:d.expectString,TableCreationDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"TableCreationDateTime"),TableId:d.expectString,TableName:d.expectString,TableSizeBytes:d.expectLong}),"de_SourceTableDetails"),$X=a((e,t)=>(0,d.take)(e,{GlobalSecondaryIndexes:d._json,LocalSecondaryIndexes:d._json,SSEDescription:a(r=>HO(r,t),"SSEDescription"),StreamDescription:d._json,TimeToLiveDescription:d._json}),"de_SourceTableFeatureDetails"),HO=a((e,t)=>(0,d.take)(e,{InaccessibleEncryptionDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"InaccessibleEncryptionDateTime"),KMSMasterKeyArn:d.expectString,SSEType:d.expectString,Status:d.expectString}),"de_SSEDescription"),qO=a((e,t)=>(0,d.take)(e,{Replicas:a(r=>AX(r,t),"Replicas"),TableName:d.expectString,TableStatus:d.expectString}),"de_TableAutoScalingDescription"),wh=a((e,t)=>(0,d.take)(e,{LastUpdateDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"LastUpdateDateTime"),TableClass:d.expectString}),"de_TableClassSummary"),Po=a((e,t)=>(0,d.take)(e,{ArchivalSummary:a(r=>bY(r,t),"ArchivalSummary"),AttributeDefinitions:d._json,BillingModeSummary:a(r=>NO(r,t),"BillingModeSummary"),CreationDateTime:a(r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),"CreationDateTime"),DeletionProtectionEnabled:d.expectBoolean,GlobalSecondaryIndexes:a(r=>aX(r,t),"GlobalSecondaryIndexes"),GlobalTableVersion:d.expectString,GlobalTableWitnesses:d._json,ItemCount:d.expectLong,KeySchema:d._json,LatestStreamArn:d.expectString,LatestStreamLabel:d.expectString,LocalSecondaryIndexes:d._json,MultiRegionConsistency:d.expectString,OnDemandThroughput:d._json,ProvisionedThroughput:a(r=>FO(r,t),"ProvisionedThroughput"),Replicas:a(r=>jO(r,t),"Replicas"),RestoreSummary:a(r=>LX(r,t),"RestoreSummary"),SSEDescription:a(r=>HO(r,t),"SSEDescription"),StreamSpecification:d._json,TableArn:d.expectString,TableClassSummary:a(r=>wh(r,t),"TableClassSummary"),TableId:d.expectString,TableName:d.expectString,TableSizeBytes:d.expectLong,TableStatus:d.expectString,WarmThroughput:d._json}),"de_TableDescription"),HX=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Io(r,t),"ConsumedCapacity"),Responses:a(r=>UO(r,t),"Responses")}),"de_TransactGetItemsOutput"),qX=a((e,t)=>(0,d.take)(e,{CancellationReasons:a(r=>UY(r,t),"CancellationReasons"),Message:d.expectString}),"de_TransactionCanceledException"),GX=a((e,t)=>(0,d.take)(e,{ConsumedCapacity:a(r=>Io(r,t),"ConsumedCapacity"),ItemCollectionMetrics:a(r=>BO(r,t),"ItemCollectionMetrics")}),"de_TransactWriteItemsOutput"),zX=a((e,t)=>(0,d.take)(e,{ContinuousBackupsDescription:a(r=>kO(r,t),"ContinuousBackupsDescription")}),"de_UpdateContinuousBackupsOutput"),VX=a((e,t)=>(0,d.take)(e,{GlobalTableDescription:a(r=>bh(r,t),"GlobalTableDescription")}),"de_UpdateGlobalTableOutput"),WX=a((e,t)=>(0,d.take)(e,{GlobalTableName:d.expectString,ReplicaSettings:a(r=>$O(r,t),"ReplicaSettings")}),"de_UpdateGlobalTableSettingsOutput"),KX=a((e,t)=>(0,d.take)(e,{Attributes:a(r=>Gt(r,t),"Attributes"),ConsumedCapacity:a(r=>Xr(r,t),"ConsumedCapacity"),ItemCollectionMetrics:a(r=>dl(r,t),"ItemCollectionMetrics")}),"de_UpdateItemOutput"),JX=a((e,t)=>(0,d.take)(e,{TableDescription:a(r=>Po(r,t),"TableDescription")}),"de_UpdateTableOutput"),YX=a((e,t)=>(0,d.take)(e,{TableAutoScalingDescription:a(r=>qO(r,t),"TableAutoScalingDescription")}),"de_UpdateTableReplicaAutoScalingOutput"),XX=a((e,t)=>(0,d.take)(e,{DeleteRequest:a(r=>zY(r,t),"DeleteRequest"),PutRequest:a(r=>xX(r,t),"PutRequest")}),"de_WriteRequest"),QX=a((e,t)=>(e||[]).filter(n=>n!=null).map(n=>XX(n,t)),"de_WriteRequests"),w=a(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ZX=(0,d.withBaseException)(z),k=a(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:c,path:l}=await e.endpoint(),u={protocol:i,hostname:s,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return n!==void 0&&(u.hostname=n),o!==void 0&&(u.body=o),new _h.HttpRequest(u)},"buildHttpRpcRequest");function R(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}a(R,"sharedHeaders");var Ch=class extends d.Command.classBuilder().ep(N).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(j4).de(q8).build(){static{a(this,"DescribeEndpointsCommand")}},eQ=J0(),cR=Ls(),tQ=a(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),rQ=a(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),nQ=a((e,t)=>{let r=Object.assign((0,cR.getAwsRegionExtensionConfiguration)(e),(0,d.getDefaultExtensionConfiguration)(e),(0,_h.getHttpHandlerExtensionConfiguration)(e),tQ(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,cR.resolveAwsRegionExtensionConfiguration)(r),(0,d.resolveDefaultRuntimeConfig)(r),(0,_h.resolveHttpHandlerRuntimeConfig)(r),rQ(r))},"resolveRuntimeExtensions"),Qr=class extends d.Client{static{a(this,"DynamoDBClient")}config;constructor(...[e]){let t=(0,eQ.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=UJ(t),n=(0,NJ.resolveAccountIdEndpointModeConfig)(r),o=(0,oR.resolveUserAgentConfig)(n),s=(0,sR.resolveRetryConfig)(o),i=(0,LJ.resolveRegionConfig)(s),c=(0,nR.resolveHostHeaderConfig)(i),l=(0,A.resolveEndpointConfig)(c),u=(0,iR.resolveHttpAuthSchemeConfig)(l),p=(0,DJ.resolveEndpointDiscoveryConfig)(u,{endpointDiscoveryCommandCtor:Ch}),m=nQ(p,e?.extensions||[]);this.config=m,this.middlewareStack.use((0,oR.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,sR.getRetryPlugin)(this.config)),this.middlewareStack.use((0,BJ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,nR.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,kJ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,MJ.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,yh.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:iR.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:a(async f=>new yh.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,yh.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},GO=class extends d.Command.classBuilder().ep(N).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(I4).de(R8).build(){static{a(this,"BatchExecuteStatementCommand")}},zO=class extends d.Command.classBuilder().ep({...N,ResourceArnList:{type:"operationContextParams",get:a(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(P4).de(O8).build(){static{a(this,"BatchGetItemCommand")}},VO=class extends d.Command.classBuilder().ep({...N,ResourceArnList:{type:"operationContextParams",get:a(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(A4).de(N8).build(){static{a(this,"BatchWriteItemCommand")}},WO=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(R4).de(D8).build(){static{a(this,"CreateBackupCommand")}},KO=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(O4).de(k8).build(){static{a(this,"CreateGlobalTableCommand")}},JO=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(N4).de(M8).build(){static{a(this,"CreateTableCommand")}},YO=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(D4).de(L8).build(){static{a(this,"DeleteBackupCommand")}},XO=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(k4).de(B8).build(){static{a(this,"DeleteItemCommand")}},QO=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(M4).de(U8).build(){static{a(this,"DeleteResourcePolicyCommand")}},ZO=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(L4).de(F8).build(){static{a(this,"DeleteTableCommand")}},eN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(B4).de(j8).build(){static{a(this,"DescribeBackupCommand")}},tN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(U4).de($8).build(){static{a(this,"DescribeContinuousBackupsCommand")}},rN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(F4).de(H8).build(){static{a(this,"DescribeContributorInsightsCommand")}},nN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser($4).de(G8).build(){static{a(this,"DescribeExportCommand")}},oN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(H4).de(z8).build(){static{a(this,"DescribeGlobalTableCommand")}},sN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(q4).de(V8).build(){static{a(this,"DescribeGlobalTableSettingsCommand")}},iN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(G4).de(W8).build(){static{a(this,"DescribeImportCommand")}},aN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(z4).de(K8).build(){static{a(this,"DescribeKinesisStreamingDestinationCommand")}},cN=class extends d.Command.classBuilder().ep(N).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(V4).de(J8).build(){static{a(this,"DescribeLimitsCommand")}},ul=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(W4).de(Y8).build(){static{a(this,"DescribeTableCommand")}},dN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(K4).de(X8).build(){static{a(this,"DescribeTableReplicaAutoScalingCommand")}},lN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(J4).de(Q8).build(){static{a(this,"DescribeTimeToLiveCommand")}},uN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Y4).de(Z8).build(){static{a(this,"DisableKinesisStreamingDestinationCommand")}},pN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(X4).de(e6).build(){static{a(this,"EnableKinesisStreamingDestinationCommand")}},mN=class extends d.Command.classBuilder().ep(N).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(Q4).de(t6).build(){static{a(this,"ExecuteStatementCommand")}},fN=class extends d.Command.classBuilder().ep(N).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(Z4).de(r6).build(){static{a(this,"ExecuteTransactionCommand")}},hN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(e8).de(n6).build(){static{a(this,"ExportTableToPointInTimeCommand")}},gN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(t8).de(o6).build(){static{a(this,"GetItemCommand")}},yN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(r8).de(s6).build(){static{a(this,"GetResourcePolicyCommand")}},_N=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"operationContextParams",get:a(e=>e?.TableCreationParameters?.TableName,"get")}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(n8).de(i6).build(){static{a(this,"ImportTableCommand")}},EN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(o8).de(a6).build(){static{a(this,"ListBackupsCommand")}},Th=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(s8).de(c6).build(){static{a(this,"ListContributorInsightsCommand")}},xh=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(i8).de(d6).build(){static{a(this,"ListExportsCommand")}},SN=class extends d.Command.classBuilder().ep(N).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(a8).de(l6).build(){static{a(this,"ListGlobalTablesCommand")}},Ih=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(c8).de(u6).build(){static{a(this,"ListImportsCommand")}},Ph=class extends d.Command.classBuilder().ep(N).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(d8).de(p6).build(){static{a(this,"ListTablesCommand")}},vN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(l8).de(m6).build(){static{a(this,"ListTagsOfResourceCommand")}},bN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(u8).de(f6).build(){static{a(this,"PutItemCommand")}},wN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(p8).de(h6).build(){static{a(this,"PutResourcePolicyCommand")}},Ah=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(m8).de(g6).build(){static{a(this,"QueryCommand")}},CN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(f8).de(y6).build(){static{a(this,"RestoreTableFromBackupCommand")}},TN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(h8).de(_6).build(){static{a(this,"RestoreTableToPointInTimeCommand")}},Rh=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(g8).de(E6).build(){static{a(this,"ScanCommand")}},xN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(y8).de(S6).build(){static{a(this,"TagResourceCommand")}},IN=class extends d.Command.classBuilder().ep({...N,ResourceArnList:{type:"operationContextParams",get:a(e=>e?.TransactItems?.map(t=>t?.Get?.TableName),"get")}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(_8).de(v6).build(){static{a(this,"TransactGetItemsCommand")}},PN=class extends d.Command.classBuilder().ep({...N,ResourceArnList:{type:"operationContextParams",get:a(e=>e?.TransactItems?.map(t=>[t?.ConditionCheck?.TableName,t?.Put?.TableName,t?.Delete?.TableName,t?.Update?.TableName].filter(r=>r)).flat(),"get")}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(E8).de(b6).build(){static{a(this,"TransactWriteItemsCommand")}},AN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(S8).de(w6).build(){static{a(this,"UntagResourceCommand")}},RN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(v8).de(C6).build(){static{a(this,"UpdateContinuousBackupsCommand")}},ON=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(b8).de(T6).build(){static{a(this,"UpdateContributorInsightsCommand")}},NN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(w8).de(x6).build(){static{a(this,"UpdateGlobalTableCommand")}},DN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(C8).de(I6).build(){static{a(this,"UpdateGlobalTableSettingsCommand")}},kN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(T8).de(P6).build(){static{a(this,"UpdateItemCommand")}},MN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(x8).de(A6).build(){static{a(this,"UpdateKinesisStreamingDestinationCommand")}},LN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(I8).de(R6).build(){static{a(this,"UpdateTableCommand")}},BN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(P8).de(O6).build(){static{a(this,"UpdateTableReplicaAutoScalingCommand")}},UN=class extends d.Command.classBuilder().ep({...N,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,O.getSerdePlugin)(r,this.serialize,this.deserialize),(0,A.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(A8).de(N6).build(){static{a(this,"UpdateTimeToLiveCommand")}},oQ={BatchExecuteStatementCommand:GO,BatchGetItemCommand:zO,BatchWriteItemCommand:VO,CreateBackupCommand:WO,CreateGlobalTableCommand:KO,CreateTableCommand:JO,DeleteBackupCommand:YO,DeleteItemCommand:XO,DeleteResourcePolicyCommand:QO,DeleteTableCommand:ZO,DescribeBackupCommand:eN,DescribeContinuousBackupsCommand:tN,DescribeContributorInsightsCommand:rN,DescribeEndpointsCommand:Ch,DescribeExportCommand:nN,DescribeGlobalTableCommand:oN,DescribeGlobalTableSettingsCommand:sN,DescribeImportCommand:iN,DescribeKinesisStreamingDestinationCommand:aN,DescribeLimitsCommand:cN,DescribeTableCommand:ul,DescribeTableReplicaAutoScalingCommand:dN,DescribeTimeToLiveCommand:lN,DisableKinesisStreamingDestinationCommand:uN,EnableKinesisStreamingDestinationCommand:pN,ExecuteStatementCommand:mN,ExecuteTransactionCommand:fN,ExportTableToPointInTimeCommand:hN,GetItemCommand:gN,GetResourcePolicyCommand:yN,ImportTableCommand:_N,ListBackupsCommand:EN,ListContributorInsightsCommand:Th,ListExportsCommand:xh,ListGlobalTablesCommand:SN,ListImportsCommand:Ih,ListTablesCommand:Ph,ListTagsOfResourceCommand:vN,PutItemCommand:bN,PutResourcePolicyCommand:wN,QueryCommand:Ah,RestoreTableFromBackupCommand:CN,RestoreTableToPointInTimeCommand:TN,ScanCommand:Rh,TagResourceCommand:xN,TransactGetItemsCommand:IN,TransactWriteItemsCommand:PN,UntagResourceCommand:AN,UpdateContinuousBackupsCommand:RN,UpdateContributorInsightsCommand:ON,UpdateGlobalTableCommand:NN,UpdateGlobalTableSettingsCommand:DN,UpdateItemCommand:kN,UpdateKinesisStreamingDestinationCommand:MN,UpdateTableCommand:LN,UpdateTableReplicaAutoScalingCommand:BN,UpdateTimeToLiveCommand:UN},FN=class extends Qr{static{a(this,"DynamoDB")}};(0,d.createAggregatedClient)(oQ,FN);var sQ=(ae(),j(He)),iQ=(0,sQ.createPaginator)(Qr,Th,"NextToken","NextToken","MaxResults"),aQ=(ae(),j(He)),cQ=(0,aQ.createPaginator)(Qr,xh,"NextToken","NextToken","MaxResults"),dQ=(ae(),j(He)),lQ=(0,dQ.createPaginator)(Qr,Ih,"NextToken","NextToken","PageSize"),uQ=(ae(),j(He)),pQ=(0,uQ.createPaginator)(Qr,Ph,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),mQ=(ae(),j(He)),fQ=(0,mQ.createPaginator)(Qr,Ah,"ExclusiveStartKey","LastEvaluatedKey","Limit"),hQ=(ae(),j(He)),gQ=(0,hQ.createPaginator)(Qr,Rh,"ExclusiveStartKey","LastEvaluatedKey","Limit"),wt=rR(),jN=a(async(e,t)=>{let r;try{let n=await e.send(new ul(t));r=n;try{if(a(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:wt.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:wt.WaiterState.RETRY,reason:r}}return{state:wt.WaiterState.RETRY,reason:r}},"checkState"),yQ=a(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,wt.createWaiter)({...r,...e},t,jN)},"waitForTableExists"),_Q=a(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,wt.createWaiter)({...r,...e},t,jN);return(0,wt.checkExceptions)(n)},"waitUntilTableExists"),$N=a(async(e,t)=>{let r;try{r=await e.send(new ul(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:wt.WaiterState.SUCCESS,reason:r}}return{state:wt.WaiterState.RETRY,reason:r}},"checkState"),EQ=a(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,wt.createWaiter)({...r,...e},t,$N)},"waitForTableNotExists"),SQ=a(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,wt.createWaiter)({...r,...e},t,$N);return(0,wt.checkExceptions)(n)},"waitUntilTableNotExists")});var nD=v((Mde,rD)=>{"use strict";var fl=Object.defineProperty,vQ=Object.getOwnPropertyDescriptor,bQ=Object.getOwnPropertyNames,wQ=Object.prototype.hasOwnProperty,le=(e,t)=>fl(e,"name",{value:t,configurable:!0}),CQ=(e,t)=>{for(var r in t)fl(e,r,{get:t[r],enumerable:!0})},TQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bQ(t))!wQ.call(e,o)&&o!==r&&fl(e,o,{get:()=>t[o],enumerable:!(n=vQ(t,o))||n.enumerable});return e},xQ=e=>TQ(fl({},"__esModule",{value:!0}),e),KN={};CQ(KN,{NumberValueImpl:()=>hl,convertToAttr:()=>Ei,convertToNative:()=>_i,marshall:()=>tD,unmarshall:()=>NQ});rD.exports=xQ(KN);var hl=class JN{static{le(this,"NumberValue")}value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new JN(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},Ei=le((e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return ml();if(Array.isArray(e))return IQ(e,t);if(e?.constructor?.name==="Set")return PQ(e,t);if(e?.constructor?.name==="Map")return AQ(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return qN(e,t);if(eD(e))return e.length===0&&t?.convertEmptyValues?ml():YN(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return ZN(e,t);if(e instanceof hl)return e.toAttributeValue();if(typeof e=="bigint")return QN(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?ml():XN(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return qN(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},"convertToAttr"),IQ=le((e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>Ei(r,t))}),"convertToListAttr"),PQ=le((e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(o=>o!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return ml();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof hl)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(o=>ZN(o,t)).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(QN).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(XN).map(o=>o.S)};if(eD(n))return{BS:Array.from(r).map(YN).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},"convertToSetAttr"),AQ=le((e,t)=>({M:(r=>{let n={};for(let[o,s]of r)typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=Ei(s,t));return n})(e)}),"convertToMapAttrFromIterable"),qN=le((e,t)=>({M:(r=>{let n={};for(let o in r){let s=r[o];typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=Ei(s,t))}return n})(e)}),"convertToMapAttrFromEnumerableProps"),ml=le(()=>({NULL:!0}),"convertToNullAttr"),YN=le(e=>({B:e}),"convertToBinaryAttr"),XN=le(e=>({S:e.toString()}),"convertToStringAttr"),QN=le(e=>({N:e.toString()}),"convertToBigIntAttr"),GN=le(e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},"validateBigIntAndThrow"),ZN=le((e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?GN(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&GN(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},"convertToNumberAttr"),eD=le(e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},"isBinary"),_i=le((e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return zN(n,t);case"B":return WN(n);case"S":return VN(n);case"L":return RQ(n,t);case"M":return OQ(n,t);case"NS":return new Set(n.map(o=>zN(o,t)));case"BS":return new Set(n.map(WN));case"SS":return new Set(n.map(VN));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},"convertToNative"),zN=le((e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return hl.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},"convertNumber"),VN=le(e=>e,"convertString"),WN=le(e=>e,"convertBinary"),RQ=le((e,t)=>e.map(r=>_i(r,t)),"convertList"),OQ=le((e,t)=>Object.entries(e).reduce((r,[n,o])=>(r[n]=_i(o,t),r),{}),"convertMap");function tD(e,t){let r=Ei(e,t),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:o;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}le(tD,"marshall");var NQ=le((e,t)=>t?.convertWithoutMapWrapper?_i(e,t):_i({M:e},t),"unmarshall")});var Mh=v((Lde,ED)=>{"use strict";var yl=Object.defineProperty,DQ=Object.getOwnPropertyDescriptor,kQ=Object.getOwnPropertyNames,MQ=Object.prototype.hasOwnProperty,se=(e,t)=>yl(e,"name",{value:t,configurable:!0}),LQ=(e,t)=>{for(var r in t)yl(e,r,{get:t[r],enumerable:!0})},BQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kQ(t))!MQ.call(e,o)&&o!==r&&yl(e,o,{get:()=>t[o],enumerable:!(n=DQ(t,o))||n.enumerable});return e},UQ=e=>BQ(yl({},"__esModule",{value:!0}),e),sD={};LQ(sD,{BatchExecuteStatementCommand:()=>iD,BatchGetCommand:()=>aD,BatchWriteCommand:()=>cD,DeleteCommand:()=>dD,DynamoDBDocument:()=>qQ,DynamoDBDocumentClient:()=>_l,DynamoDBDocumentClientCommand:()=>Ve,ExecuteStatementCommand:()=>lD,ExecuteTransactionCommand:()=>uD,GetCommand:()=>pD,NativeAttributeBinary:()=>Zr.NativeAttributeBinary,NativeAttributeValue:()=>Zr.NativeAttributeValue,NativeScalarAttributeValue:()=>Zr.NativeScalarAttributeValue,NumberValue:()=>Zr.NumberValueImpl,PaginationConfiguration:()=>GQ.PaginationConfiguration,PutCommand:()=>mD,QueryCommand:()=>Dh,ScanCommand:()=>kh,TransactGetCommand:()=>fD,TransactWriteCommand:()=>hD,UpdateCommand:()=>gD,__Client:()=>Oh.Client,marshallOptions:()=>Zr.marshallOptions,paginateQuery:()=>VQ,paginateScan:()=>KQ,unmarshallOptions:()=>Zr.unmarshallOptions});ED.exports=UQ(sD);var Xe=pl(),FQ=(Ee(),j(_t)),Oh=q(),Zr=nD(),Si=null,U={},pr=[],oD="*",gl=se((e,t,r)=>{if(e!==void 0){if(r==null)return t(e);{let n=Object.keys(r),o=n.length===1&&n[0]===oD,s=n.length>=1&&!o,i=n.length===0;if(s)return Nh(e,t,r);if(i)return jQ(e,t,Si);if(o)return Object.entries(e??{}).reduce((c,[l,u])=>(typeof u!="function"&&(c[l]=gl(u,t,r[oD])),c),Array.isArray(e)?[]:{})}}},"processObj"),Nh=se((e,t,r)=>{let n;if(Array.isArray(e))n=e.filter(o=>typeof o!="function");else{n={};for(let[o,s]of Object.entries(e))typeof s!="function"&&(n[o]=s)}for(let[o,s]of Object.entries(r)){if(typeof e[o]=="function")continue;let i=gl(e[o],t,s);i!==void 0&&typeof i!="function"&&(n[o]=i)}return n},"processKeysInObj"),jQ=se((e,t,r)=>Array.isArray(e)?e.filter(n=>typeof n!="function").map(n=>gl(n,t,r)):Object.entries(e).reduce((n,[o,s])=>{if(typeof s=="function")return n;let i=gl(s,t,r);return i!==void 0&&typeof i!="function"&&(n[o]=i),n},{}),"processAllKeysInObj"),$Q=se((e,t,r)=>Nh(e,se(o=>(0,Zr.marshall)(o,r),"marshallFunc"),t),"marshallInput"),HQ=se((e,t,r)=>Nh(e,se(o=>(0,Zr.unmarshall)(o,r),"unmarshallFunc"),t),"unmarshallOutput"),Ve=class extends Oh.Command{static{se(this,"DynamoDBDocumentClientCommand")}addMarshallingMiddleware(e){let{marshallOptions:t={},unmarshallOptions:r={}}=e.translateConfig||{};t.convertTopLevelContainer=t.convertTopLevelContainer??!0,r.convertWithoutMapWrapper=r.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((n,o)=>async s=>((0,FQ.setFeature)(o,"DDB_MAPPER","d"),n({...s,input:$Q(s.input,this.inputKeyNodes,t)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((n,o)=>async s=>{let i=await n(s);return i.output=HQ(i.output,this.outputKeyNodes,r),i},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}},iD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.BatchExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"BatchExecuteStatementCommand")}inputKeyNodes={Statements:{"*":{Parameters:pr}}};outputKeyNodes={Responses:{"*":{Error:{Item:U},Item:U}}};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},aD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.BatchGetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"BatchGetCommand")}inputKeyNodes={RequestItems:{"*":{Keys:{"*":U}}}};outputKeyNodes={Responses:{"*":{"*":U}},UnprocessedKeys:{"*":{Keys:{"*":U}}}};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},cD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.BatchWriteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"BatchWriteCommand")}inputKeyNodes={RequestItems:{"*":{"*":{PutRequest:{Item:U},DeleteRequest:{Key:U}}}}};outputKeyNodes={UnprocessedItems:{"*":{"*":{PutRequest:{Item:U},DeleteRequest:{Key:U}}}},ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:U}}}};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},dD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.DeleteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"DeleteCommand")}inputKeyNodes={Key:U,Expected:{"*":{Value:Si,AttributeValueList:pr}},ExpressionAttributeValues:U};outputKeyNodes={Attributes:U,ItemCollectionMetrics:{ItemCollectionKey:U}};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},lD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.ExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"ExecuteStatementCommand")}inputKeyNodes={Parameters:pr};outputKeyNodes={Items:{"*":U},LastEvaluatedKey:U};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},uD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.ExecuteTransactionCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"ExecuteTransactionCommand")}inputKeyNodes={TransactStatements:{"*":{Parameters:pr}}};outputKeyNodes={Responses:{"*":{Item:U}}};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},pD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.GetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"GetCommand")}inputKeyNodes={Key:U};outputKeyNodes={Item:U};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},mD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.PutItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"PutCommand")}inputKeyNodes={Item:U,Expected:{"*":{Value:Si,AttributeValueList:pr}},ExpressionAttributeValues:U};outputKeyNodes={Attributes:U,ItemCollectionMetrics:{ItemCollectionKey:U}};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},Dh=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.QueryCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"QueryCommand")}inputKeyNodes={KeyConditions:{"*":{AttributeValueList:pr}},QueryFilter:{"*":{AttributeValueList:pr}},ExclusiveStartKey:U,ExpressionAttributeValues:U};outputKeyNodes={Items:{"*":U},LastEvaluatedKey:U};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},kh=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.ScanCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"ScanCommand")}inputKeyNodes={ScanFilter:{"*":{AttributeValueList:pr}},ExclusiveStartKey:U,ExpressionAttributeValues:U};outputKeyNodes={Items:{"*":U},LastEvaluatedKey:U};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},fD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.TransactGetItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"TransactGetCommand")}inputKeyNodes={TransactItems:{"*":{Get:{Key:U}}}};outputKeyNodes={Responses:{"*":{Item:U}}};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},hD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.TransactWriteItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"TransactWriteCommand")}inputKeyNodes={TransactItems:{"*":{ConditionCheck:{Key:U,ExpressionAttributeValues:U},Put:{Item:U,ExpressionAttributeValues:U},Delete:{Key:U,ExpressionAttributeValues:U},Update:{Key:U,ExpressionAttributeValues:U}}}};outputKeyNodes={ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:U}}}};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},gD=class extends Ve{constructor(e){super(),this.input=e,this.clientCommand=new Xe.UpdateItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{se(this,"UpdateCommand")}inputKeyNodes={Key:U,AttributeUpdates:{"*":{Value:Si}},Expected:{"*":{Value:Si,AttributeValueList:pr}},ExpressionAttributeValues:U};outputKeyNodes={Attributes:U,ItemCollectionMetrics:{ItemCollectionKey:U}};clientCommand;middlewareStack;resolveMiddleware(e,t,r){this.addMarshallingMiddleware(t);let n=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(n,t,r);return async()=>o(this.clientCommand)}},_l=class yD extends Oh.Client{static{se(this,"DynamoDBDocumentClient")}config;constructor(t,r){if(super(t.config),this.config=t.config,this.config.translateConfig=r,this.middlewareStack=t.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(t,r){return new yD(t,r)}destroy(){}},qQ=class _D extends _l{static{se(this,"DynamoDBDocument")}static from(t,r){return new _D(t,r)}batchExecuteStatement(t,r,n){let o=new iD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchGet(t,r,n){let o=new aD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchWrite(t,r,n){let o=new cD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}delete(t,r,n){let o=new dD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeStatement(t,r,n){let o=new lD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeTransaction(t,r,n){let o=new uD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}get(t,r,n){let o=new pD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}put(t,r,n){let o=new mD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}query(t,r,n){let o=new Dh(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}scan(t,r,n){let o=new kh(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactGet(t,r,n){let o=new fD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactWrite(t,r,n){let o=new hD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}update(t,r,n){let o=new gD(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}},GQ=ft(),zQ=(ae(),j(He)),VQ=(0,zQ.createPaginator)(_l,Dh,"ExclusiveStartKey","LastEvaluatedKey","Limit"),WQ=(ae(),j(He)),KQ=(0,WQ.createPaginator)(_l,kh,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var v9={};et(v9,{handler:()=>m9});module.exports=j(v9);var MD=E(pl(),1),je=E(Mh(),1);var Qe=class extends Error{},zt=class extends Qe{constructor(t,r,n){super(t),this.failedAssertion={actual:r,expected:n}}},ye=class extends Qe{constructor(t,r){let n=r!=null?`${t}: ${r}`:t;super(n)}},_e=class extends Qe{},vi=class extends Qe{},bi=class extends zt{},Re=class extends zt{withRawJwt({header:t,payload:r}){return this.rawJwt={header:t,payload:r},this}},El=class extends Re{},Sl=class extends Re{},vl=class extends Re{},bl=class extends Re{},wl=class extends Re{},Cl=class extends Re{},wi=class extends Re{},Ci=class extends Re{};var mr=class extends Qe{},Ue=class extends Qe{},Ao=class extends Qe{},Dn=class extends Qe{},Tl=class extends Qe{},Ti=class extends Qe{},Ro=class extends zt{},kn=class extends zt{},Mn=class extends Qe{constructor(t,r){super(`Failed to fetch ${t}: ${r}`)}},Oo=class extends Mn{};var en=require("crypto");var SD=require("https"),vD=require("stream");async function bD(e,t,r){let n;return new Promise((o,s)=>{let i=(0,SD.request)(e,{method:"GET",...t},l=>{if(l.statusCode!==200){c(new Oo(e,`Status code is ${l.statusCode}, expected 200`));return}(0,vD.pipeline)(l,async u=>{let p=[];for await(let m of u)p.push(m);return Buffer.concat(p)},c)});t?.responseTimeout&&(n=setTimeout(()=>c(new Mn(e,`Response time-out (after ${t.responseTimeout} ms.)`)),t.responseTimeout),n.unref());function c(l,u){if(n&&clearTimeout(n),l==null){o(u);return}i.socket?.emit("agentRemove"),l instanceof Mn||(l=new Mn(e,l.message)),i.destroy(),s(l)}i.on("error",c),i.end(r)})}var Lh;(function(e){e.RS256="RSA-SHA256",e.RS384="RSA-SHA384",e.RS512="RSA-SHA512",e.ES256="RSA-SHA256",e.ES384="RSA-SHA384",e.ES512="RSA-SHA512"})(Lh||(Lh={}));var Fe={fetch:bD,transformJwkToKeyObjectSync:e=>(0,en.createPublicKey)({key:e,format:"jwk"}),transformJwkToKeyObjectAsync:async e=>(0,en.createPublicKey)({key:e,format:"jwk"}),parseB64UrlString:e=>Buffer.from(e,"base64").toString("utf8"),verifySignatureSync:({alg:e,keyObject:t,jwsSigningInput:r,signature:n})=>e!=="EdDSA"?(0,en.createVerify)(Lh[e]).update(r).verify({key:t,dsaEncoding:"ieee-p1363"},n,"base64"):(0,en.verify)(null,Buffer.from(r),t,Buffer.from(n,"base64")),verifySignatureAsync:async e=>Fe.verifySignatureSync(e),defaultFetchTimeouts:{socketIdle:1500,response:3e3},setTimeoutUnref:(...e)=>setTimeout(...e).unref(),transformPemToJwk:async e=>(0,en.createPublicKey)({key:Buffer.from(e),format:"pem"}).export({format:"jwk"})};var Bh=Fe.fetch.bind(void 0),xi=class{constructor(t){this.defaultRequestOptions={timeout:Fe.defaultFetchTimeouts.socketIdle,responseTimeout:Fe.defaultFetchTimeouts.response,...t?.defaultRequestOptions}}async fetch(t,r,n){r={...this.defaultRequestOptions,...r};try{return await Bh(t,r,n)}catch(o){if(o instanceof Oo)throw o;return Bh(t,r,n)}}};function No(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}function Ii(e){return JSON.parse(e,(t,r)=>(typeof r=="object"&&!Array.isArray(r)&&r!==null&&(delete r.__proto__,delete r.constructor),r))}function Tt(e,t,r,n=zt){if(!t)throw new n(`Missing ${e}. Expected: ${r}`,t,r);if(typeof t!="string")throw new n(`${e} is not of type string`,t,r);if(r!==t)throw new n(`${e} not allowed: ${t}. Expected: ${r}`,t,r)}function xt(e,t,r,n=zt){if(!t)throw new n(`Missing ${e}. ${Uh(r)}`,t,r);if(typeof t!="string")throw new n(`${e} is not of type string`,t,r);return Do(e,t,r,n)}function Do(e,t,r,n=zt){if(!t)throw new n(`Missing ${e}. ${Uh(r)}`,t,r);let o=new Set(Array.isArray(r)?r:[r]);if(typeof t=="string"&&(t=[t]),!Array.isArray(t))throw new n(`${e} is not an array`,t,r);if(!t.some(i=>{if(typeof i!="string")throw new n(`${e} includes elements that are not of type string`,t,r);return o.has(i)}))throw new n(`${e} not allowed: ${t.join(", ")}. ${Uh(r)}`,t,r)}function Uh(e){return Array.isArray(e)?e.length>1?`Expected one of: ${e.join(", ")}`:`Expected: ${e[0]}`:`Expected: ${e}`}function wD(e,t){if(e&&typeof e.then=="function")throw t()}var JQ=["use","alg","kid","n","e","x","y","crv"],YQ=["kty"];function Pi(e,t){return e.keys.find(r=>r.kid!=null&&r.kid===t)}var XQ=function(e){let t;try{let r=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}).decode(e);t=Ii(r)}catch(r){throw new mr(`JWKS could not be parsed as JSON: ${r}`)}return CD(t),t};function CD(e){if(!e)throw new mr("JWKS empty");if(!No(e))throw new mr("JWKS should be an object");if(!Object.keys(e).includes("keys"))throw new mr("JWKS does not include keys");if(!Array.isArray(e.keys))throw new mr("JWKS keys should be an array");for(let t of e.keys)xD(t)}function TD(e){xt("JWK kty",e.kty,["EC","RSA","OKP"],kn),e.kty==="EC"?ZQ(e):e.kty==="RSA"?e9(e):e.kty==="OKP"&&QQ(e)}function QQ(e){if(e.use&&Tt("JWK use",e.use,"sig",Ro),Tt("JWK kty",e.kty,"OKP",kn),!e.crv)throw new Ue("Missing Curve (crv)");if(!e.x)throw new Ue("Missing X Coordinate (x)")}function ZQ(e){if(e.use&&Tt("JWK use",e.use,"sig",Ro),Tt("JWK kty",e.kty,"EC",kn),!e.crv)throw new Ue("Missing Curve (crv)");if(!e.x)throw new Ue("Missing X Coordinate (x)");if(!e.y)throw new Ue("Missing Y Coordinate (y)")}function e9(e){if(e.use&&Tt("JWK use",e.use,"sig",Ro),Tt("JWK kty",e.kty,"RSA",kn),!e.n)throw new Ue("Missing modulus (n)");if(!e.e)throw new Ue("Missing exponent (e)")}function xD(e){if(!e)throw new Ue("JWK empty");if(!No(e))throw new Ue("JWK should be an object");for(let t of YQ)if(typeof e[t]!="string")throw new Ue(`JWK ${t} should be a string`);for(let t of JQ)if(t in e&&typeof e[t]!="string")throw new Ue(`JWK ${t} should be a string`)}function ID(e){try{return CD(e),!0}catch{return!1}}function PD(e){try{return xD(e),!0}catch{return!1}}var Fh=class{constructor(t){this.waitingUris=new Map,this.waitSeconds=t?.waitSeconds??10}async wait(t){if(this.waitingUris.has(t))throw new Tl("Not allowed to fetch JWKS yet, still waiting for back off period to end")}release(t){let r=this.waitingUris.get(t);r&&(clearTimeout(r),this.waitingUris.delete(t))}registerFailedAttempt(t){let r=Fe.setTimeoutUnref(()=>{this.waitingUris.delete(t)},this.waitSeconds*1e3);this.waitingUris.set(t,r)}registerSuccessfulAttempt(t){this.release(t)}},xl=class{constructor(t){this.jwksCache=new Map,this.fetchingJwks=new Map,this.penaltyBox=t?.penaltyBox??new Fh,this.fetcher=t?.fetcher??new xi,this.jwksParser=t?.jwksParser??XQ}addJwks(t,r){this.jwksCache.set(t,r)}async getJwks(t){let r=this.fetchingJwks.get(t);if(r)return r;let n=this.fetcher.fetch(t).then(this.jwksParser);this.fetchingJwks.set(t,n);let o;try{o=await n}finally{this.fetchingJwks.delete(t)}return this.jwksCache.set(t,o),o}getCachedJwk(t,r){if(typeof r.header.kid!="string")throw new Ao("JWT header does not have valid kid claim");if(!this.jwksCache.has(t))throw new Ti(`JWKS for uri ${t} not yet available in cache`);let n=Pi(this.jwksCache.get(t),r.header.kid);if(!n)throw new Dn(`JWK for kid ${r.header.kid} not found in the JWKS`);return n}async getJwk(t,r){if(typeof r.header.kid!="string")throw new Ao("JWT header does not have valid kid claim");let n=this.jwksCache.get(t);if(n){let i=Pi(n,r.header.kid);if(i)return i}await this.penaltyBox.wait(t,r.header.kid);let o=await this.getJwks(t),s=Pi(o,r.header.kid);if(s)this.penaltyBox.registerSuccessfulAttempt(t,r.header.kid);else throw this.penaltyBox.registerFailedAttempt(t,r.header.kid),new Dn(`JWK for kid "${r.header.kid}" not found in the JWKS`);return s}};function t9(e){if(!No(e))throw new ye("JWT header is not an object");if(e.alg!==void 0&&typeof e.alg!="string")throw new ye("JWT header alg claim is not a string");if(e.kid!==void 0&&typeof e.kid!="string")throw new ye("JWT header kid claim is not a string")}function r9(e){if(!No(e))throw new ye("JWT payload is not an object");if(e.exp!==void 0&&!Number.isFinite(e.exp))throw new ye("JWT payload exp claim is not a number");if(e.iss!==void 0&&typeof e.iss!="string")throw new ye("JWT payload iss claim is not a string");if(e.sub!==void 0&&typeof e.sub!="string")throw new ye("JWT payload sub claim is not a string");if(e.aud!==void 0&&typeof e.aud!="string"&&(!Array.isArray(e.aud)||e.aud.some(t=>typeof t!="string")))throw new ye("JWT payload aud claim is not a string or array of strings");if(e.nbf!==void 0&&!Number.isFinite(e.nbf))throw new ye("JWT payload nbf claim is not a number");if(e.iat!==void 0&&!Number.isFinite(e.iat))throw new ye("JWT payload iat claim is not a number");if(e.scope!==void 0&&typeof e.scope!="string")throw new ye("JWT payload scope claim is not a string");if(e.jti!==void 0&&typeof e.jti!="string")throw new ye("JWT payload jti claim is not a string")}var n9=/^[A-Za-z0-9_-]+={0,2}\.[A-Za-z0-9_-]+={0,2}\.[A-Za-z0-9_-]+={0,2}$/;function AD(e){if(!e)throw new ye("Empty JWT");if(typeof e!="string")throw new ye("JWT is not a string");if(!n9.test(e))throw new ye("JWT string does not consist of exactly 3 parts (header, payload, signature)");let[t,r,n]=e.split("."),[o,s]=[t,r].map(Fe.parseB64UrlString),i;try{i=Ii(o)}catch(l){throw new ye("Invalid JWT. Header is not a valid JSON object",l)}t9(i);let c;try{c=Ii(s)}catch(l){throw new ye("Invalid JWT. Payload is not a valid JSON object",l)}return r9(c),{header:i,headerB64:t,payload:c,payloadB64:r,signatureB64:n}}function jh(e,t){if(e.exp!==void 0&&e.exp+(t.graceSeconds??0)<Date.now()/1e3)throw new bl(`Token expired at ${new Date(e.exp*1e3).toISOString()}`,e.exp);if(e.nbf!==void 0&&e.nbf-(t.graceSeconds??0)>Date.now()/1e3)throw new wl(`Token can't be used before ${new Date(e.nbf*1e3).toISOString()}`,e.nbf);if(t.issuer!==null){if(t.issuer===void 0)throw new _e("issuer must be provided or set to null explicitly");xt("Issuer",e.iss,t.issuer,El)}if(t.audience!==null){if(t.audience===void 0)throw new _e("audience must be provided or set to null explicitly");Do("Audience",e.aud,t.audience,Sl)}t.scope!=null&&Do("Scope",e.scope?.split(" "),t.scope,vl)}var o9=["RS256","RS384","RS512","ES256","ES384","ES512","EdDSA"];function RD(e,t){TD(t),t.alg&&Tt("JWT signature algorithm",e.alg,t.alg,bi),xt("JWT signature algorithm",e.alg,o9,bi)}async function s9(e,t,r,n,o){let{header:s,headerB64:i,payload:c,payloadB64:l,signatureB64:u}=e,p=await n(t,e);RD(e.header,p);let m=await o(p,s.alg,c.iss);if(!await Fe.verifySignatureAsync({jwsSigningInput:`${i}.${l}`,signature:u,alg:s.alg,keyObject:m}))throw new vi("Invalid signature");try{jh(c,r),r.customJwtCheck&&await r.customJwtCheck({header:s,payload:c,jwk:p})}catch(h){throw r.includeRawJwtInErrors&&h instanceof Re?h.withRawJwt(e):h}return c}function i9(e,t,r,n){let{header:o,headerB64:s,payload:i,payloadB64:c,signatureB64:l}=e,u;if(PD(t))u=t;else if(ID(t)){let f=o.kid?Pi(t,o.kid):void 0;if(!f)throw new Dn(`JWK for kid ${o.kid} not found in the JWKS`);u=f}else throw new _e([`Expected a valid JWK or JWKS (parsed as JavaScript object), but received: ${t}.`,"If you're passing a JWKS URI, use the async verify() method instead, it will download and parse the JWKS for you"].join());RD(e.header,u);let p=n(u,o.alg,i.iss);if(!Fe.verifySignatureSync({jwsSigningInput:`${s}.${c}`,signature:l,alg:o.alg,keyObject:p}))throw new vi("Invalid signature");try{if(jh(i,r),r.customJwtCheck){let f=r.customJwtCheck({header:o,payload:i,jwk:u});wD(f,()=>new _e("Custom JWT checks must be synchronous but a promise was returned"))}}catch(f){throw r.includeRawJwtInErrors&&f instanceof Re?f.withRawJwt(e):f}return i}var Ai=class{constructor(t,r=new xl){if(this.jwksCache=r,this.issuersConfig=new Map,this.publicKeyCache=new $h,Array.isArray(t)){if(!t.length)throw new _e("Provide at least one issuer configuration");t.forEach((n,o)=>{if(this.issuersConfig.has(n.issuer))throw new _e(`issuer ${n.issuer} supplied multiple times`);if(n.issuer===null&&t.length>=2)throw new _e(`issuer cannot be null when multiple issuers are supplied (at issuer: ${o})`);this.issuersConfig.set(n.issuer,this.withJwksUri(n))})}else this.issuersConfig.set(t.issuer,this.withJwksUri(t))}getIssuerConfig(t){if(this.issuersConfig.size===1&&(t=this.issuersConfig.keys().next().value),t===void 0)throw new _e("issuer must be provided");let r=this.issuersConfig.get(t);if(!r)throw new _e(`issuer not configured: ${t}`);return r}cacheJwks(...[t,r]){let n=this.getIssuerConfig(r);this.jwksCache.addJwks(n.jwksUri,t),this.publicKeyCache.clearCache(n.issuer)}async hydrate(){let t=Array.from(this.issuersConfig.values()).map(({jwksUri:r})=>this.jwksCache.getJwks(r));await Promise.all(t)}verifySync(...[t,r]){let{decomposedJwt:n,jwksUri:o,verifyProperties:s}=this.getVerifyParameters(t,r);return this.verifyDecomposedJwtSync(n,o,s)}verifyDecomposedJwtSync(t,r,n){let o=this.jwksCache.getCachedJwk(r,t);return i9(t,o,n,this.publicKeyCache.transformJwkToKeyObjectSync.bind(this.publicKeyCache))}async verify(...[t,r]){let{decomposedJwt:n,jwksUri:o,verifyProperties:s}=this.getVerifyParameters(t,r);return this.verifyDecomposedJwt(n,o,s)}verifyDecomposedJwt(t,r,n){return s9(t,r,n,this.jwksCache.getJwk.bind(this.jwksCache),this.publicKeyCache.transformJwkToKeyObjectAsync.bind(this.publicKeyCache))}getVerifyParameters(t,r){let n=AD(t),o=this.getIssuerConfig(n.payload.iss);return{decomposedJwt:n,jwksUri:o.jwksUri,verifyProperties:{...o,...r}}}withJwksUri(t){if(t.jwksUri)return t;let r=t.issuer;if(!r)throw new _e("jwksUri must be provided for issuer null");let n=new URL(r).pathname.replace(/\/$/,"");return{jwksUri:new URL(`${n}/.well-known/jwks.json`,r).href,...t}}};var $h=class{constructor(t=Fe.transformJwkToKeyObjectSync,r=Fe.transformJwkToKeyObjectAsync){this.transformJwkToKeyObjectSyncFn=t,this.transformJwkToKeyObjectAsyncFn=r,this.publicKeys=new Map}transformJwkToKeyObjectSync(t,r,n){let o=t.alg??r;if(!n||!t.kid||!o)return this.transformJwkToKeyObjectSyncFn(t,o,n);let s=this.publicKeys.get(n)?.get(t.kid)?.get(o);if(s)return s;let i=this.transformJwkToKeyObjectSyncFn(t,o,n);return this.putKeyObjectInCache(n,t.kid,o,i),i}async transformJwkToKeyObjectAsync(t,r,n){let o=t.alg??r;if(!n||!t.kid||!o)return this.transformJwkToKeyObjectAsyncFn(t,o,n);let s=this.publicKeys.get(n)?.get(t.kid)?.get(o);if(s)return s;let i=await this.transformJwkToKeyObjectAsyncFn(t,o,n);return this.putKeyObjectInCache(n,t.kid,o,i),i}putKeyObjectInCache(t,r,n,o){let s=this.publicKeys.get(t),i=s?.get(r);i?i.set(n,o):s?s.set(r,new Map([[n,o]])):this.publicKeys.set(t,new Map([[r,new Map([[n,o]])]]))}clearCache(t){this.publicKeys.delete(t)}};function OD(e,t){if(t.groups!=null&&Do("Cognito group",e["cognito:groups"],t.groups,Cl),xt("Token use",e.token_use,["id","access"],wi),t.tokenUse!==null){if(t.tokenUse===void 0)throw new _e("tokenUse must be provided or set to null explicitly");Tt("Token use",e.token_use,t.tokenUse,wi)}if(t.clientId!==null){if(t.clientId===void 0)throw new _e("clientId must be provided or set to null explicitly");e.token_use==="id"?xt('Client ID ("audience")',e.aud,t.clientId,Ci):xt("Client ID",e.client_id,t.clientId,Ci)}}var ko=class e extends Ai{constructor(t,r){let n=Array.isArray(t)?t.map(o=>({...o,...e.parseUserPoolId(o.userPoolId),audience:null})):{...t,...e.parseUserPoolId(t.userPoolId),audience:null};super(n,r)}static parseUserPoolId(t){let r=t.match(this.USER_POOL_ID_REGEX);if(!r)throw new _e(`Invalid Cognito User Pool ID: ${t}`);let o=`https://cognito-idp.${r.groups.region}.amazonaws.com/${t}`;return{issuer:o,jwksUri:`${o}/.well-known/jwks.json`}}static create(t,r){return new this(t,r?.jwksCache)}verifySync(...[t,r]){let{decomposedJwt:n,jwksUri:o,verifyProperties:s}=this.getVerifyParameters(t,r);this.verifyDecomposedJwtSync(n,o,s);try{OD(n.payload,s)}catch(i){throw s.includeRawJwtInErrors&&i instanceof Re?i.withRawJwt(n):i}return n.payload}async verify(...[t,r]){let{decomposedJwt:n,jwksUri:o,verifyProperties:s}=this.getVerifyParameters(t,r);await this.verifyDecomposedJwt(n,o,s);try{OD(n.payload,s)}catch(i){throw s.includeRawJwtInErrors&&i instanceof Re?i.withRawJwt(n):i}return n.payload}cacheJwks(...[t,r]){let n;if(r!==void 0)n=e.parseUserPoolId(r).issuer;else if(Array.from(this.issuersConfig).length>1)throw new _e("userPoolId must be provided");let o=this.getIssuerConfig(n);super.cacheJwks(t,o.issuer)}};ko.USER_POOL_ID_REGEX=/^(?<region>[a-z]{2}-(gov-)?[a-z]+-\d)_[a-zA-Z0-9]+$/;var Hh=null;function c9(){if(!Hh){let e=ND();if(!e)throw new Error("Cognito configuration not found");Hh=ko.create({userPoolId:e.userPoolId,tokenUse:"access",clientId:e.clientId})}return Hh}function ND(){let e=process.env.COGNITO_USER_POOL_ID,t=process.env.COGNITO_CLIENT_ID,r=process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||"us-west-1";return!e||!t?(console.warn("Cognito configuration missing. Set COGNITO_USER_POOL_ID and COGNITO_CLIENT_ID environment variables."),null):{userPoolId:e,clientId:t,region:r}}async function DD(e){try{let t=e.headers?.authorization||e.headers?.Authorization;if(!t)return{isValid:!1,error:"Missing authorization header"};if(!t.startsWith("Bearer "))return{isValid:!1,error:"Invalid authorization format. Expected: Bearer <token>"};let r=t.substring(7);if(!r)return{isValid:!1,error:"Empty token"};if(!ND())return process.env.NODE_ENV==="development"&&r==="dev-token"?{isValid:!0,userId:"dev-user-123",username:"dev-user",email:"dev@example.com"}:{isValid:!1,error:"Authentication service not configured"};try{let s=await c9().verify(r);return{isValid:!0,userId:s.sub,username:s.username||s["cognito:username"],email:s.email,groups:s["cognito:groups"]||[]}}catch(o){return console.error("JWT verification failed:",o.message),o.message.includes("expired")?{isValid:!1,error:"Token expired"}:o.message.includes("invalid")?{isValid:!1,error:"Invalid token"}:{isValid:!1,error:"Token verification failed"}}}catch(t){return console.error("Authentication error:",t),{isValid:!1,error:"Authentication service error"}}}var d9={"Strict-Transport-Security":"max-age=31536000; includeSubDomains; preload","X-Content-Type-Options":"nosniff","X-Frame-Options":"DENY","X-XSS-Protection":"1; mode=block","Content-Security-Policy":"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' https:; connect-src 'self' https:; frame-ancestors 'none';","Referrer-Policy":"strict-origin-when-cross-origin","Permissions-Policy":"geolocation=(), microphone=(), camera=()"},l9={allowedOrigins:[],allowCredentials:!0,allowedMethods:["GET","POST","PUT","DELETE","OPTIONS"],allowedHeaders:["Content-Type","Authorization","X-Requested-With","X-API-Key"],maxAge:86400};function Il(e,t={}){let r={...d9,...t};return{...e,headers:{...e.headers,...r}}}function Pl(e,t,r={}){let n={...l9,...r},o=t.headers?.origin||t.headers?.Origin,s="null";o&&n.allowedOrigins.length>0?n.allowedOrigins.includes(o)&&(s=o):n.allowedOrigins.includes("*")&&(s="*");let i={"Access-Control-Allow-Origin":s,"Access-Control-Allow-Methods":n.allowedMethods.join(", "),"Access-Control-Allow-Headers":n.allowedHeaders.join(", "),Vary:"Origin"};return n.allowCredentials&&s!=="*"&&(i["Access-Control-Allow-Credentials"]="true"),n.maxAge&&(i["Access-Control-Max-Age"]=n.maxAge.toString()),{...e,headers:{...e.headers,...i}}}async function u9(e,t){try{let{DynamoDBClient:r}=await Promise.resolve().then(()=>E(pl(),1)),{DynamoDBDocumentClient:n,GetCommand:o,PutCommand:s,UpdateCommand:i}=await Promise.resolve().then(()=>E(Mh(),1)),c=n.from(new r({})),l=process.env.RATE_LIMIT_TABLE||"daylight_rate_limits",u=t.keyGenerator(e),p=Date.now(),m=Math.floor(p/t.windowMs)*t.windowMs,f=m+t.windowMs,h=`${u}:${m}`;try{let g=await c.send(new o({TableName:l,Key:{rateLimitKey:h}}));if(g.Item){let _=g.Item.requestCount||0;return _>=t.maxRequests?{allowed:!1,resetTime:f,remaining:0}:(await c.send(new i({TableName:l,Key:{rateLimitKey:h},UpdateExpression:"SET requestCount = requestCount + :inc",ExpressionAttributeValues:{":inc":1}})),{allowed:!0,resetTime:f,remaining:t.maxRequests-_-1})}else return await c.send(new s({TableName:l,Item:{rateLimitKey:h,requestCount:1,ttl:Math.floor(f/1e3)+60}})),{allowed:!0,resetTime:f,remaining:t.maxRequests-1}}catch(g){return console.error("Rate limiting error:",g),{allowed:!0,resetTime:f,remaining:t.maxRequests}}}catch(r){return console.error("Rate limiting module error:",r),{allowed:!0,resetTime:Date.now()+t.windowMs,remaining:t.maxRequests}}}function qh(e){if(typeof e=="string")return e.replace(/[<>'"&]/g,t=>({"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","&":"&amp;"})[t]||t).trim();if(Array.isArray(e))return e.map(qh);if(typeof e=="object"&&e!==null){let t={};for(let[r,n]of Object.entries(e))t[r]=qh(n);return t}return e}function kD(e,t={}){return async r=>{try{if(r.requestContext.http.method==="OPTIONS"){let o={statusCode:204,headers:{"Content-Type":"application/json"},body:""};return t.cors&&(o=Pl(o,r,t.cors)),Il(o)}if(t.rateLimit){let o=await u9(r,t.rateLimit);if(!o.allowed){let s={statusCode:429,headers:{"Content-Type":"application/json","Retry-After":Math.ceil((o.resetTime-Date.now())/1e3).toString(),"X-RateLimit-Limit":t.rateLimit.maxRequests.toString(),"X-RateLimit-Remaining":"0","X-RateLimit-Reset":o.resetTime.toString()},body:JSON.stringify({error:"Rate limit exceeded",resetTime:o.resetTime})};return t.cors&&(s=Pl(s,r,t.cors)),Il(s)}}if(t.sanitizeInput&&r.body)try{let o=JSON.parse(r.body),s=qh(o);r.body=JSON.stringify(s)}catch{}let n=await e(r);return t.cors&&(n=Pl(n,r,t.cors)),Il(n)}catch(n){console.error("Security middleware error:",n);let o={statusCode:500,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Internal server error"})};return t.cors&&(o=Pl(o,r,t.cors)),Il(o)}}}var tn=je.DynamoDBDocumentClient.from(new MD.DynamoDBClient({})),rn=process.env.TABLE_TRIPS||"daylight_trips",p9=async e=>{try{let t=await DD(e);if(!t.isValid)return{statusCode:401,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Unauthorized",message:t.error})};let{method:r}=e.requestContext.http,{tripId:n}=e.pathParameters||{},o=e.queryStringParameters||{},s=t.userId;switch(r){case"POST":return await h9(e,s);case"GET":return n?await g9(n,s):await y9(s,o);case"PUT":return n?await _9(n,e,s):{statusCode:400,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Trip ID required"})};case"DELETE":return n?await E9(n,s):{statusCode:400,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Trip ID required"})};default:return{statusCode:405,headers:{Allow:"GET, POST, PUT, DELETE","Content-Type":"application/json"},body:JSON.stringify({error:"Method Not Allowed"})}}}catch(t){return console.error("Trip handler error:",t),{statusCode:500,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Internal server error"})}}},m9=kD(p9,{cors:{allowedOrigins:process.env.NODE_ENV==="production"?[process.env.FRONTEND_URL||"https://your-domain.com"]:["http://localhost:3000","http://localhost:5173","http://localhost:5174"],allowCredentials:!0,allowedMethods:["GET","POST","PUT","DELETE","OPTIONS"],allowedHeaders:["Content-Type","Authorization","X-Requested-With"]},rateLimit:{windowMs:6e4,maxRequests:100,keyGenerator:e=>{let t=e.headers?.authorization||e.headers?.Authorization,r=e.requestContext.http.sourceIp;return t?`user:${t.substring(0,20)}`:`ip:${r}`}},sanitizeInput:!0,requireAuth:!0});function LD(e){let t=[];if((!e.name||typeof e.name!="string"||e.name.trim().length===0)&&t.push("Trip name is required"),e.name&&e.name.length>100&&t.push("Trip name must be less than 100 characters"),e.description&&typeof e.description!="string"&&t.push("Description must be a string"),e.description&&e.description.length>500&&t.push("Description must be less than 500 characters"),e.status&&!["draft","active","completed","cancelled"].includes(e.status)&&t.push("Status must be one of: draft, active, completed, cancelled"),e.isPublic&&typeof e.isPublic!="boolean"&&t.push("isPublic must be a boolean"),e.tags&&!Array.isArray(e.tags)&&t.push("Tags must be an array"),e.tags&&e.tags.some(r=>typeof r!="string")&&t.push("All tags must be strings"),e.anchors&&!Array.isArray(e.anchors)&&t.push("Anchors must be an array"),e.anchors)for(let r=0;r<e.anchors.length;r++){let n=e.anchors[r];(!n.lat||!n.lng||typeof n.lat!="number"||typeof n.lng!="number")&&t.push(`Anchor ${r+1} must have valid lat/lng coordinates`)}return{isValid:t.length===0,errors:t}}function f9(e){let t={};if(e.limit){let r=parseInt(e.limit);!isNaN(r)&&r>0&&r<=100&&(t.limit=r)}if(e.lastKey&&typeof e.lastKey=="string")try{JSON.parse(Buffer.from(e.lastKey,"base64").toString()),t.lastKey=e.lastKey}catch{}return e.sortBy&&["createdAt","updatedAt","name"].includes(e.sortBy)&&(t.sortBy=e.sortBy),e.sortOrder&&["asc","desc"].includes(e.sortOrder)&&(t.sortOrder=e.sortOrder),e.status&&["draft","active","completed","cancelled"].includes(e.status)&&(t.status=e.status),e.tag&&typeof e.tag=="string"&&(t.tag=e.tag),e.search&&typeof e.search=="string"&&(t.search=e.search.trim()),t}async function h9(e,t){let r=JSON.parse(e.body||"{}"),n=LD(r);if(!n.isValid)return{statusCode:400,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Validation failed",details:n.errors})};let o=S9(),s=new Date().toISOString(),i={tripId:o,name:r.name.trim(),ownerId:t,createdAt:s,updatedAt:s,anchors:r.anchors||[],preferences:r.preferences||{},description:r.description?.trim()||"",status:r.status||"draft",tags:r.tags||[],isPublic:r.isPublic||!1};try{return await tn.send(new je.PutCommand({TableName:rn,Item:i,ConditionExpression:"attribute_not_exists(tripId)"})),{statusCode:201,headers:{"Content-Type":"application/json"},body:JSON.stringify({tripId:o,message:"Trip created successfully",trip:i})}}catch(c){if(c.name==="ConditionalCheckFailedException")return{statusCode:409,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Trip ID already exists"})};throw c}}async function g9(e,t){try{let r=await tn.send(new je.GetCommand({TableName:rn,Key:{tripId:e}}));return r.Item?r.Item.ownerId!==t?{statusCode:403,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Access denied"})}:{statusCode:200,headers:{"Content-Type":"application/json"},body:JSON.stringify(r.Item)}:{statusCode:404,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Trip not found"})}}catch(r){throw r}}async function y9(e,t){try{let r=f9(t),n=r.limit||20,o={TableName:rn,IndexName:"OwnerIndex",KeyConditionExpression:"ownerId = :userId",ExpressionAttributeValues:{":userId":e},Limit:n,ScanIndexForward:r.sortOrder!=="desc"},s=[],i={},c={":userId":e};if(r.status&&(s.push("#status = :status"),i["#status"]="status",c[":status"]=r.status),r.tag&&(s.push("contains(tags, :tag)"),c[":tag"]=r.tag),r.search&&(s.push("(contains(#name, :search) OR contains(description, :search))"),i["#name"]="name",c[":search"]=r.search),s.length>0&&(o.FilterExpression=s.join(" AND ")),Object.keys(i).length>0&&(o.ExpressionAttributeNames=i),o.ExpressionAttributeValues=c,r.lastKey)try{o.ExclusiveStartKey=JSON.parse(Buffer.from(r.lastKey,"base64").toString())}catch{}let l;if(r.sortBy==="name"){let h={TableName:rn,FilterExpression:"ownerId = :userId"+(s.length>0?" AND "+s.join(" AND "):""),ExpressionAttributeNames:Object.keys(i).length>0?i:void 0,ExpressionAttributeValues:c,Limit:n,ExclusiveStartKey:o.ExclusiveStartKey};l=await tn.send(new je.ScanCommand(h))}else l=await tn.send(new je.QueryCommand(o));let u=l.Items||[];r.sortBy==="name"&&u.sort((h,g)=>{let _=h.name?.toLowerCase()||"",S=g.name?.toLowerCase()||"";return _<S?r.sortOrder==="asc"?-1:1:_>S?r.sortOrder==="asc"?1:-1:0});let p=!!l.LastEvaluatedKey,m;p&&l.LastEvaluatedKey&&(m=Buffer.from(JSON.stringify(l.LastEvaluatedKey)).toString("base64"));let f={items:u,count:u.length,lastKey:m,hasMore:p};return{statusCode:200,headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}}catch(r){throw console.error("Error listing trips:",r),r}}async function _9(e,t,r){let n=JSON.parse(t.body||"{}"),o=LD(n);if(!o.isValid)return{statusCode:400,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Validation failed",details:o.errors})};try{let s=await tn.send(new je.GetCommand({TableName:rn,Key:{tripId:e}}));if(!s.Item)return{statusCode:404,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Trip not found"})};if(s.Item.ownerId!==r)return{statusCode:403,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Access denied"})};let i=new Date().toISOString(),c={tripId:s.Item.tripId,ownerId:s.Item.ownerId,createdAt:s.Item.createdAt,name:n.name?.trim()||s.Item.name,anchors:n.anchors!==void 0?n.anchors:s.Item.anchors,preferences:n.preferences!==void 0?n.preferences:s.Item.preferences,description:n.description!==void 0?n.description?.trim():s.Item.description,status:n.status!==void 0?n.status:s.Item.status,tags:n.tags!==void 0?n.tags:s.Item.tags,isPublic:n.isPublic!==void 0?n.isPublic:s.Item.isPublic,updatedAt:i};return await tn.send(new je.PutCommand({TableName:rn,Item:c})),{statusCode:200,headers:{"Content-Type":"application/json"},body:JSON.stringify({message:"Trip updated successfully",trip:c})}}catch(s){throw s}}async function E9(e,t){try{let r=await tn.send(new je.GetCommand({TableName:rn,Key:{tripId:e}}));return r.Item?r.Item.ownerId!==t?{statusCode:403,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Access denied"})}:(await tn.send(new je.DeleteCommand({TableName:rn,Key:{tripId:e}})),{statusCode:204,headers:{"Content-Type":"application/json"},body:""}):{statusCode:404,headers:{"Content-Type":"application/json"},body:JSON.stringify({error:"Trip not found"})}}catch(r){throw r}}function S9(){return`trip_${Date.now()}_${Math.random().toString(36).substring(2,15)}`}0&&(module.exports={handler});
