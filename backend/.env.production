# Production Database Environment Configuration
# Issue #111 - Environment variables for production database setup

# ===== Core Configuration =====
NODE_ENV=production
DATABASE_PRIMARY=dynamodb
ENABLE_MULTI_DB=false
CONNECTION_POOLING=true

# ===== AWS Configuration =====
AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_access_key_here
# AWS_SECRET_ACCESS_KEY=your_secret_key_here

# ===== DynamoDB Configuration =====
# DYNAMODB_ENDPOINT=http://localhost:8000  # For local testing
DYNAMODB_MAX_RETRIES=3
DYNAMODB_RETRY_BASE=100

# ===== PostgreSQL Configuration (if using) =====
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=daylight
# POSTGRES_USER=daylight_user
# POSTGRES_PASSWORD=your_password_here
# POSTGRES_SSL=true
# POSTGRES_POOL_MIN=2
# POSTGRES_POOL_MAX=20
# POSTGRES_ACQUIRE_TIMEOUT=30000
# POSTGRES_IDLE_TIMEOUT=30000

# ===== MongoDB Configuration (if using) =====
# MONGODB_URI=mongodb://localhost:27017/daylight
# MONGODB_POOL_SIZE=20
# MONGODB_POOL_MIN=2
# MONGODB_IDLE_TIMEOUT=30000
# MONGODB_SERVER_TIMEOUT=5000

# ===== Database Replication =====
DB_REPLICATION_ENABLED=true
DB_READ_REPLICAS=3
DB_CROSS_REGION_REPLICATION=true

# ===== Backup Configuration =====
DB_PITR_ENABLED=true
DB_CONTINUOUS_BACKUP=true
DB_BACKUP_RETENTION_DAYS=30
DB_CROSS_REGION_BACKUP=true

# ===== Monitoring & Performance =====
DB_METRICS_ENABLED=true
DB_METRICS_INTERVAL=60
DB_METRICS_RETENTION=30
DB_SLOW_QUERY_LOG=true
DB_PERFORMANCE_INSIGHTS=true
DB_CLOUDWATCH_INTEGRATION=true

# ===== Performance Thresholds =====
DB_CONN_THRESHOLD=0.8
DB_LATENCY_THRESHOLD=1000
DB_ERROR_THRESHOLD=0.05
DB_DISK_THRESHOLD=0.8
DB_CPU_THRESHOLD=0.8

# ===== Security & Encryption =====
DB_ENCRYPTION_AT_REST=true
DB_ENCRYPTION_IN_TRANSIT=true
DB_KEY_ROTATION=true
DB_IAM_AUTH=true
DB_VPC_ENABLED=true
DB_NETWORK_ISOLATION=true

# ===== Alerting Configuration =====
DB_ALERTS_ENABLED=true
# ALERT_EMAIL=admin@yourdomain.com
# ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/...
# ALERT_PAGERDUTY_KEY=your_pagerduty_key
# ALERT_SNS_TOPIC=arn:aws:sns:us-east-1:123456789:alerts

# ===== Caching Configuration =====
REDIS_ENABLED=false
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_TTL=3600
# REDIS_CLUSTER=false

# MEMCACHED_ENABLED=false
# MEMCACHED_SERVERS=localhost:11211
# MEMCACHED_TTL=3600

# Application Cache
APP_CACHE_SIZE=1000
APP_CACHE_TTL=300

# ===== Database Optimization =====
DB_BATCH_SIZE=100
DB_PARALLEL_READS=5
DB_CONNECTION_TIMEOUT=30000
DB_QUERY_TIMEOUT=30000
DB_AUTO_INDEX=true
DB_BACKGROUND_INDEX=true
DB_COMPACT_THRESHOLD=0.3
DB_ANALYZE_FREQUENCY=daily

# ===== Logging Configuration =====
DB_LOG_LEVEL=info
DB_STRUCTURED_LOGGING=true
DB_LOG_AGGREGATION=true
DB_LOG_RETENTION=30

# ===== Migration Configuration =====
MIGRATION_LOCK_TIMEOUT=300
AUTO_ROLLBACK=false
ROLLBACK_HEALTH_CHECK=true
ROLLBACK_TIMEOUT=600

# ===== Deployment Strategy =====
# DEPLOYMENT_STRATEGY=blue-green  # or canary

# ===== Archival Configuration =====
ARCHIVE_S3_BUCKET=daylight-archives
# ARCHIVE_GLACIER_VAULT=daylight-glacier-archive

# ===== Legacy Migration =====
MIGRATE_FROM_SQLITE=true
